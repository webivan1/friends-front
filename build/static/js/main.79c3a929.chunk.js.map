{"version":3,"sources":["store/actions/actionTypes.js","store/reducers/translate/translateReducer.js","services/mobile-detect/MobileDetectService.js","store/reducers/mobile-detect/mobileDetectReducer.js","store/reducers/login-form/loginFormReducer.js","store/reducers/user/userReducer.js","store/reducers/register-form/registerFormReducer.js","store/reducers/restore-password/restorePasswordReducer.js","store/reducers/verify-email/verifyEmailReducer.js","store/reducers/profile/profile-detail/profileDetailReducer.js","store/reducers/profile/profile-detail/profileDetailFormReducer.js","store/reducers/profile/profile-gallery/profileGalleryUploadReducer.js","store/reducers/profile/profile-gallery/profileGalleryListReducer.js","store/reducers/profile/profile-gallery/profileGalleryItemReducer.js","store/reducers/profile/profile-location/profileLocationReducer.js","store/reducers/profile/profile-games/profileGamesReducer.js","store/reducers/people/peopleListReducer.js","store/reducers/loader/loaderReducer.js","store/reducers/user-detail/userDetailReducer.js","store/reducers/user-detail/images/imagesListReducer.js","store/reducers/friends/requests/friendsNewRequestsReducer.js","store/reducers/friends/inviteFormReducer.js","store/reducers/friends/inviteListReducer.js","store/reducers/notification/notificationReducer.js","store/reducers/friends/inviteItemControlReducer.js","store/reducers/chat/chatReducer.js","store/reducers/chat/chatListReducer.js","store/reducers/chat/messageListReducer.js","store/reducers/chat/messageFormReducer.js","store/reducers/chat/chatNewMessagesReducer.js","env/env.js","services/online-users/OnlineUserService.js","store/reducers/user/onlineUserReducer.js","services/online-users/CollectionOnlineUsers.js","store/reducers/rootReducer.js","store/store.js","services/auth/AuthService.js","services/fetch/FetchService.js","axios/axios-api.js","containers/Translate/Translate.js","helpers/ErrorHelper.js","store/actions/login-form/loginFormAction.js","echo-server/EchoDecorator.js","echo-server/EchoServer.js","store/actions/user/userAction.js","store/actions/translate/translateAction.js","hoc/Layout/style.theme.js","hoc/Layout/style.js","hoc/Layout/Layout.js","components/UI/Container/Container.js","components/UI/NavLink/NavLink.js","store/actions/friends/requests/friendsNewRequestsAction.js","containers/LinkMenuNewFriends/LinkMenuNewFriends.js","containers/Header/Header.js","containers/Header/styles.js","containers/Pages/Language/Language.js","containers/Pages/Home/Home.js","containers/Pages/About/About.js","containers/Pages/Auth/AuthWrapper.js","components/UI/Alert/Alert.js","form/Validators.js","form/FormControl.js","form/FormGroup.js","containers/Pages/Auth/Login/Login.js","store/actions/register-form/registerFormAction.js","containers/Pages/Auth/Register/styles.js","containers/Pages/Auth/Register/Register.js","store/actions/restore-password-form/restorePasswordFormAction.js","containers/Pages/Auth/RestorePassword/EmailForm/EmailForm.js","containers/Pages/Auth/RestorePassword/EmailForm/styles.js","containers/Pages/Auth/RestorePassword/PasswordForm/PasswordForm.js","containers/Pages/Auth/RestorePassword/RestorePassword.js","store/actions/verify-email/verifyEmailAction.js","containers/Pages/Auth/VerifyEmail/VerifyEmail.js","store/actions/profile/profile-detail/profileDetailAction.js","store/actions/profile/profile-detail/profileDetailFormAction.js","containers/Pages/Profile/Detail/ProfileDetailForm/ProfileDetailForm.js","containers/Pages/Profile/Profile.js","containers/Pages/Profile/Detail/Detail.js","components/UI/UploadButton/UploadButton.js","store/actions/profile/profile-gallery/profileGalleryListAction.js","store/actions/profile/profile-gallery/profileGalleryUploadAction.js","containers/Pages/Profile/ProfileGallery/ProfileGalleryUpload/ProfileGalleryUpload.js","store/actions/profile/profile-gallery/profileGalleryItemAction.js","containers/Pages/Profile/ProfileGallery/ProfileGalleryItem/ProfileGalleryItemForm.js","helpers/ImageHelper.js","containers/Pages/Profile/ProfileGallery/ProfileGalleryItem/ProfileGalleryItem.js","containers/Pages/Profile/ProfileGallery/ProfileGalleryList/ProfileGalleryList.js","containers/Pages/Profile/ProfileGallery/ProfileGallery.js","store/actions/profile/profile-location/profileLocationAction.js","containers/Pages/Profile/GeoLoacation/GeoLocation.js","store/actions/profile/profile-games/profileGamesAction.js","components/UI/Autocomplete/Autocomplete.js","containers/Pages/Profile/Games/ProfileGames.js","components/UI/Pagination/Pagination.js","store/actions/loader/loaderAction.js","store/actions/people/peopleListAction.js","containers/InviteToFriend/InviteDialog.js","store/actions/friends/inviteFormAction.js","containers/InviteToFriend/InviteToFriend.js","store/actions/user/onlineUserAction.js","containers/OnlineUser/IsOnlineUser.js","containers/Pages/People/Item/PeopleItem.js","components/UI/SortLinks/SortLinks.js","components/UI/FieldRange/FieldRange.js","containers/Pages/People/Search/PeopleSearch.js","containers/Pages/People/List/PeopleList.js","components/UI/Loader/Loader.js","store/actions/user-detail/userDetailAction.js","containers/Pages/PeopleDetail/UserFace.js","containers/Pages/PeopleDetail/UserMap.js","components/UI/List/List.js","components/UI/List/ListItem.js","store/actions/user-detail/images/imagesListAction.js","containers/Pages/PeopleDetail/Images/ImagesItem.js","containers/Pages/PeopleDetail/Images/ImagesList.js","containers/Pages/PeopleDetail/PeopleDetail.js","components/UI/Heading/Heading.js","store/actions/friends/inviteListAction.js","components/UI/Buttons/Button.js","store/actions/friends/inviteItemControlAction.js","containers/Pages/Invites/InviteItem.js","containers/Pages/Invites/InviteList.js","containers/Pages/Invites/Invites.js","store/actions/notification/notificationAction.js","containers/Notication/Item/styles.js","containers/Notication/Item/NotificationItem.js","containers/Notication/Notification.js","containers/Notication/styles.js","store/actions/chat/chatAction.js","store/actions/chat/chatListAction.js","containers/Chat/ChatList/ChatList.js","containers/Chat/ChatList/styles.js","store/actions/chat/messageListAction.js","store/actions/chat/messageFormAction.js","containers/Chat/Message/Form/MessageForm.js","containers/Chat/Message/Item/MessageItem.js","containers/Chat/Message/List/MessageList.js","containers/Chat/Message/List/styles.js","store/actions/chat/chatNewMessagesAction.js","containers/Chat/Chat.js","containers/Chat/styles.js","containers/OnlineUser/OnlineUserListen.js","App.js","hoc/MobileDetect/MobileDetect.js","store/actions/mobile-detect/mobileDetectAction.js","serviceWorker.js","index.js"],"names":["RESET_STATE","TRANSLATE_CHANGE","TRANSLATE_LOADER","MOBILE_DETECT_CHANGE","LOGIN_FORM_LOADER","LOGIN_FORM_SUCCESS","LOGIN_FORM_FAIL","REGISTER_FORM_LOADER","REGISTER_FORM_SUCCESS","REGISTER_FORM_FAIL","USER_LOGIN","USER_LOGOUT","RESTORE_PASSWORD_SEND_CODE_EMAIL","RESTORE_PASSWORD_SEND_CODE_SUCCESS","RESTORE_PASSWORD_SEND_CODE_FAIL","RESTORE_PASSWORD_CHANGE_EMAIL","RESTORE_PASSWORD_VERIFY_EMAIL","RESTORE_PASSWORD_VERIFY_SUCCESS","RESTORE_PASSWORD_VERIFY_FAIL","VERIFY_EMAIL_LOADER","VERIFY_EMAIL_SUCCESS","VERIFY_EMAIL_FAIL","PROFILE_DETAIL_PAGE_INIT","PROFILE_DETAIL_PAGE_FAIL","PROFILE_DETAIL_PAGE_CHANGE_DATA","PROFILE_DETAIL_FORM_LOADER","PROFILE_DETAIL_FORM_SUCCESS","PROFILE_DETAIL_FORM_FAIL","PROFILE_GALLERY_UPLOAD_LOADER","PROFILE_GALLERY_UPLOAD_SUCCESS","PROFILE_GALLERY_UPLOAD_FAIL","PROFILE_GALLERY_LIST_COMPLETE","PROFILE_GALLERY_LIST_ERROR_INIT","PROFILE_GALLERY_LIST_APPEND_LOADER","PROFILE_GALLERY_LIST_ADD_MODELS","PROFILE_GALLERY_ITEM_INIT","PROFILE_GALLERY_ITEM_IS_LOADED","PROFILE_GALLERY_ITEM_SAVE","PROFILE_GALLERY_ITEM_SAVE_OK","PROFILE_GALLERY_ITEM_SAVE_FAIL","PROFILE_GALLERY_ITEM_DELETE","PROFILE_LOCATION_FETCH_COMPLETED","PROFILE_LOCATION_UPDATE","PROFILE_LOCATION_UPDATED","PROFILE_GAMES_FETCHED","PROFILE_GAMES_CHANGE_VALUES","PROFILE_GAMES_UPDATE","PROFILE_GAMES_UPDATE_SUCCESS","PROFILE_GAMES_UPDATE_FAIL","PEOPLE_LIST_LOADER_LIST","PEOPLE_LIST_QUERY","PEOPLE_LIST_ERROR","GALLERY_LIST_USER_LOADER","GALLERY_LIST_USER_QUERY","GALLERY_LIST_USER_ERROR","GALLERY_LIST_USER_CLEAR","LOADER_ON","LOADER_OFF","USER_DETAIL_FETCH","USER_DETAIL_CLEAR","USER_DETAIL_ERROR","NEW_FRIEND_REQUEST_RESULT","NEW_FRIEND_REQUEST_CHANGE","INVITE_FORM_SENDING","INVITE_FORM_ERROR","INVITE_FORM_SUCCESS","INVITE_FORM_CLEAR","INVITE_LIST_LOADER_LIST","INVITE_LIST_QUERY","INVITE_LIST_ERROR","INVITE_LIST_TRANSFORM","NOTIFY_CHANGE","INVITE_CONTROL_LOADER","INVITE_CONTROL_SUCCESS","INVITE_CONTROL_ERROR","CHAT_CHOOSE_CHAT","CHAT_BACK_TO_LIST","CHAT_VOLUME_ON","CHAT_VOLUME_OFF","CHAT_TOGGLE","CHAT_LIST_USER_LOADER","CHAT_LIST_USER_QUERY","CHAT_LIST_USER_ERROR","MESSAGE_LIST_USER_LOADER","MESSAGE_LIST_USER_QUERY","MESSAGE_LIST_USER_ERROR","MESSAGE_LIST_USER_ADD_ITEM","MESSAGE_LIST_USER_CLEAR","CHAT_MESSAGE_FORM_SUBMIT","CHAT_MESSAGE_FORM_COMPLETE","CHAT_MESSAGE_FORM_CLEAR","CHAT_NEW_MESSAGES_FETCH","ONLINE_USERS_UPDATE","ONLINE_USERS_LIVE","initialState","locale","loader","storage","data","languages","lang","label","MobileDetectService","Object","classCallCheck","this","media","xs","sm","md","lg","xl","currentMedia","device","setCurrentMedia","size","window","innerWidth","mobile","inMedia","tablet","desktop","indexOf","_this","currentSize","dataValue","keys","map","key","sort","_ref","_ref2","size1","slicedToArray","size2","filter","_ref5","_ref6","forEach","_ref7","_ref8","value","slice","success","error","errorMessage","isGuest","user","referer","redirect","email","init","labels","fail","appendLoader","models","page","total","nextPage","loaderSubmit","form","fetchLoader","coordinates","locations","updateLoader","allGames","myGames","loaderList","url","formData","totalItems","lastPage","currentPage","perPage","nextPageUrl","prevPageUrl","firstPageUrl","lastPageUrl","sortAttributes","params","info","loaderInfo","messages","active","activeChat","volume","detail","env","mediaUrl","apiUrl","langUrl","staticImagesHost","onlineUserHost","auth","clientId","clientSecret","yandexApiKey","OnlineUserService","userId","server","io","lastUpdate","timer","online","events","run","status","callable","push","_this2","channelOnline","concat","channelOffline","off","on","changeStatus","_this3","eventRegister","emit","setInterval","clearInterval","collection","limit","onlineUser","some","model","hasUserId","has","self","clone","length","destroy","splice","assign","create","find","nextTimeUpdate","combineReducers","translate","state","arguments","undefined","action","type","objectSpread","payload","mobileDetect","loginForm","registerForm","restorePasswordForm","message","verifyEmail","profileDetailPage","profileDetailForm","profileGalleryUpload","profileGalleryList","profileGalleryItem","profileLocation","profileGames","peopleList","userDetail","imagesList","friendsNewRequests","inviteForm","inviteList","notification","inviteItemControl","chat","chatNewMessage","chatList","messageList","messageForm","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","reduxThunk","store","createStore","rootReducer","AuthService","token","refreshToken","expiresIn","getToken","getRefreshToken","localStorage","setItem","Date","getTime","getItem","timeout","Boolean","isExpire","isRefreshToken","removeItem","instance","FetchService","axios","getState","interceptors","response","use","dispatch","logout","location","pathname","Promise","reject","defaults","headers","common","X-App-Locale","getInstance","isToken","Authorization","baseURL","crossDomain","Content-Type","Translate","connect","name","firstLetterUpper","props","children","match","text","param","replace","toLowerCase","mapParams","charAt","toUpperCase","react_default","a","createElement","Fragment","renderTranslate","Component","ErrorHelper","errors","index","_error$response$data","errorSummery","Translate_Translate","e","safeAuthData","removeAll","setToken","access_token","setRefreshToken","refresh_token","setExpiresIn","expires_in","dataAuthByParams","grant_type","client_id","client_secret","username","password","scope","EchoDecorator","echoService","Proxy","target","prop","_len","args","Array","_key","apply","_len2","_key2","channel","connector","channels","channelName","leave","unsubscribeIfExist","private","require","EchoInstance","Echo","broadcaster","host","hostname","transports","EchoServer","http","setOptions","getUser","get","login","refererUrl","echo","post","translateAction","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","hasOwnProperty","change","sent","t0","console","log","stop","_x","_x2","theme","createMuiTheme","shape","borderRadius","palette","primary","secondary","typography","useNextVariants","styles","@global","body","body1","color","main","textDecoration","&:hover","generateClassName","createGenerateClassName","jss","jssPreset","Layout","withStyles","JssProvider_default","core_styles","CssBaseline_default","layout","defineProperty","width","marginLeft","spacing","unit","marginRight","breakpoints","up","classes","className","button","&.active","blue","Button_default","component","BaseLink","to","exact","listenNewRequests","id","LinkMenuNewFriends","getRequests","requestListener","withRouter","CircularProgress_default","variant","disableShrink","thickness","IconButton_IconButton_default","Link","Badge_default","badgeContent","NotificationImportant_default","Header","root","flexGrow","grow","toolbar","padding","sectionDesktop","display","sectionMobile","menuLang","menuMobile","menuUser","_this$props","history","onChangeLang","path","item","str","setState","_this$props2","_this$state","renderMenuLang","Menu_default","anchorEl","open","onClose","MenuItem_default","onClick","changeLanguageHandler","bind","renderMenuMobile","disabled","event","currentTarget","Language_default","AccountCircle_default","Face_default","renderMenu","logoutHandler","AppBar_default","position","UI_Container_Container","Toolbar_default","LinkMenuNewFriends_LinkMenuNewFriends","UI_NavLink_NavLink","aria-owns","aria-haspopup","IconButton_default","MoreVert_default","Language","isLangExist","isLangCorrect","_this$props3","Redirect","Home","Typography_default","gutterBottom","About","AuthWrapper","title","buttonText","hideAction","Dialog_default","aria-labelledby","aria-describedby","scroll","DialogTitle_default","DialogContent_default","DialogActions_default","alert","boxSizing","boxShadow","alertDanger","background","alertSuccess","alertWarning","alertInfo","_classNames","objectWithoutProperties","classNames","isRequired","is","empty","isBoolean","boolean","confirm","control","getValue","isNumber","String","isFloat","min","max","minLength","maxLength","isEmail","FormControl","defaultValue","rules","valid","sortRules","validate","firstRule","getRules","rule","fn1","fn2","FormGroup","controls","setName","getName","controlName","Error","setValue","each","isValid","values","Login","onSubmit","paramAuth","getMessageByError","Validators","update","getValues","preventDefault","sendFormHandler","_this4","Auth_AuthWrapper","submitHandler","noValidate","autoComplete","TextField_default","fullWidth","onChange","changeHandler","margin","helperText","field","core_CircularProgress_default","UI_Alert_Alert","Register","danger","submit","registerHandler","DialogContentText_default","sendEmailSuccess","sendCodeFail","EmailForm","fontSize","flex","sendEmail","Grid","container","alignItems","TextField_TextField","Button_Button","PasswordForm","password_confirmation","sendNewPassword","changeEmail","passwordConfirm","RestorePassword","_ref3","_callee2","_ref4","_context2","_x3","_x4","PasswordForm_PasswordForm","EmailForm_EmailForm","VerifyEmail","onVerify","renderContent","changeFormData","initComplete","ProfileDetailForm","age","body_type","eye_color","gender","hair_color","height","orientation","weight","_this5","options","_this6","select","SelectProps","renderValue","selected","option","MenuItem_MenuItem","_this7","bodyType","eyeColor","hairColor","justify","inputRender","selectRender","eye","hair","links","Profile","Paper","Tabs","indicatorColor","textColor","link","Tab","NavLink","Detail","onInit","Profile_Profile","LinearProgress_default","ProfileDetailForm_ProfileDetailForm","UploadButton","input","click","style","ref","multiple","chooseImages","addModels","newData","oldData","complete","images","ProfileGalleryUpload","uploadPhotos","_state$profileGallery","FormData","file","append","chooseImage","extImages","call","files","ext","substr","lastIndexOf","reader","FileReader","readAsDataURL","onload","addImage","image","result","onerror","handleClose","UploadButton_UploadButton","loadImages","index_es","Dialog_Dialog","DialogContent_DialogContent","GridList","cellHeight","GridListTile","cols","src","alt","GridListTileBar","titlePosition","actionIcon","es_IconButton_IconButton","removeImage","actionPosition","DialogActions_DialogActions","uploadHandler","errorForm","isLoaded","description","avatar","ProfileGalleryItemForm","buttonError","onUpdate","onDelete","handleSubmit","es_FormControl_FormControl","es_FormGroup_FormGroup","FormControlLabel","Switch_Switch","checked","ImageHelper","ProfileGalleryItem","maxWidth","fetchDetailItem","fetchById","onDeleteItem","delete","deleteItem","onUpdateItem","updateItem","then","onDeleteFromList","origin","handlerEdit","LinearProgress_LinearProgress","ProfileGalleryItemForm_ProfileGalleryItemForm","handleUpdate","handleDelete","ProfileGalleryList","getModels","getModelsAction","first","nextUrl","_url","abrupt","next_page_url","URL","search","current_page","setTimeout","updateList","fetch","deleteId","Refresh_default","getValueByData","ProfileGalleryItem_ProfileGalleryItem","handleDeleteItem","ProfileGallery","list","upload","direction","ProfileGalleryUpload_ProfileGalleryUpload","ProfileGalleryList_ProfileGalleryList","updateLocation","lat","long","promises","language","XMLHttpRequest","resolve","JSON","parse","responseText","geoObject","GeoObjectCollection","featureMember","GeoObject","addressDetail","metaDataProperty","GeocoderMetaData","address","country","AddressDetails","Country","CountryName","city","AdministrativeArea","Locality","LocalityName","send","fetchGeoByCoords","all","updated","fetchCompleted","GeoLocation","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","content","react_yandex_maps_umd_production_min","defaultState","center","zoom","geometry","strokeColor","strokeOpacity","strokeWidth","handleGetLocation","Autocomplete","& > div","& input","inputValue","handleKeyDown","onChangeItems","keycode","handleInputChange","handleChange","newValue","toConsumableArray","newValues","row","_this$props4","items","placeholder","downshift_esm","selectedItem","getInputProps","getItemProps","isOpen","inputValue2","selectedItem2","highlightedIndex","inputProps","InputProps","other","inputRef","renderInput","startAdornment","Chip_default","tabIndex","onKeyDown","Paper_default","square","selectedValues","deburr","trim","inputLength","count","suggestion","keep","getSuggestions","itemProps","isHighlighted","isSelected","fontWeight","renderSuggestion","ProfileGames","fetchGames","updateGames","listGames","gameList","games","onChangeValues","changeGames","Autocomplete_Autocomplete","handleUpdateValues","Pagination","otherProps","currentOffset","totalPages","Math","ceil","material_ui_flat_pagination_lib_default","offset","loaderOn","loaderOff","correctUrl","urlModel","queryResult","per_page","last_page","prev_page_url","first_page_url","sortItem","replacePage","InviteDialog","sendInvite","clear","from","fromUser","toUser","Dialog_Dialog_default","DialogTitle_DialogTitle_default","DialogContent_DialogContent_default","handleForm","TextField_TextField_default","multiline","rowsMax","handleField","DialogActions_DialogActions_default","Button_Button_default","InviteToFriend","possibleConstructorReturn","getPrototypeOf","element","React","createRef","child","current","childNodes","onclick","handleOpenDialog","InviteDialog_InviteDialog","handleCloseDialog","onlineUserAction","createClass","newCollection","add","IsOnlineUser","register","listenUser","nextProps","getModelByUser","setAttribute","changeStateUser","isOnline","onChangeStatus","getAttribute","elem","firstChild","classList","remove","PeopleItem","backgroundPosition","avatarLabel","all_invitations","profile","labelName","IsOnlineUser_IsOnlineUser","PersonPinCircle_default","Card","CardHeader","Avatar","aria-label","subheader","react_responsive_carousel_lib","emulateTouch","centerMode","showThumbs","showArrows","showIndicators","showStatus","dynamicHeight","centerSlidePercentage","CardMedia","CardActions","isInvite","InviteToFriend_InviteToFriend","SortLinks","activeItemMenu","backgroundColor","handleOpen","onChangeSort","attributes","core_index_es","handleSort","FieldRange","_this$props$defaultVa","clearTimeout","minRules","maxValue","clearTimer","maxRules","minValue","labelFrom","labelTo","_rules","minRule","maxRule","handleChangeField","onBlur","handleMin","handleMax","Range","allowCross","genres","PeopleSearch","dataKeys","onReset","handleResetForm","FieldRange_FieldRange","PeopleList","fetchModels","appendModels","searchFormShow","handleToggleShowSearch","SortLinks_SortLinks","PeopleSearch_PeopleSearch","handleSearchForm","PeopleItem_PeopleItem","UI_Pagination_Pagination","centerRipple","handlePagination","zIndex","top","left","successFetch","UserFace","UserMap","Typography_Typography_default","listStyle","marginBottom","flexWrap","dotted","flexBasis","borderBottom","grey","opacity","paddingRight","paddingLeft","oldModels","ImagesItem","fullScreen","AppBar_AppBar_default","Toolbar_Toolbar_default","Close_default","ImagesList","heading","h5","marginTop","fetchList","clearList","GridList_default","GridListTile_default","ImagesItem_ImagesItem","handleLoadMore","PeopleDetail","leftContainer","widthContainer","fetchInfo","clearInfo","labelItems","_labelItems$filter","labelItem","List_ListItem","PeopleDetail_UserFace","PeopleDetail_UserMap","Typography_Typography","UI_List_List","renderProfileList","Chip_Chip_default","ImagesList_ImagesList","heading-1","h1","heading-2","h2","heading-3","h3","heading-4","h4","heading-5","heading-6","h6","transformModels","colorsObject","colors","contrastText","dark","typeColor","split","join","inviteItemControlAction","inviteId","invite","asyncFetchByUrl","InviteItem","buttons","justifyContent","accept","refuse","findKey","CardContent","Buttons_Button","handleAccept","handleRefuse","InviteList","fetchUrl","InviteItem_InviteItem","Invites","UI_Heading_Heading","InviteList_InviteList","notificationAction","notify","typeColors","A100","NotificationItem","startTimer","onDestroy","Card_default","onMouseEnter","handleEnter","onMouseLeave","handleLeave","CardHeader_default","Avatar_default","handleDestroy","Notification","wrapper","right","listen","reverse","NotificationItem_NotificationItem","chatAction","chatListAction","ChatList","flexDirection","minWidth","& svg","& label","loadMore","textAlign","overflowY","maxMessage","newMessage","chat_id","no_read","onChangeVolume","onCloseChat","handleRefresh","FormControlLabel_default","Switch_default","labelPlacement","List_default","_item$with_users$filt","with_users","user_id","friend","AvatarUser","ListItemAvatar_default","ListItem_default","ListItemText_default","noReadMessage","Badge_Badge","last_message","TimeAgo","align","time_update","handleNextPage","messageListAction","chatId","messageFormAction","dispatchNotify","MessageForm","sendMessage","endAdornment","InputAdornment_default","Send_default","MessageItem","yourMessage","dangerouslySetInnerHTML","__html","no_tooltip_default","created","MessageList","listenNewMessage","refWrapper","autoScroll","onscroll","scrollTop","oldMessages","isBottomScroll","toBottom","scrollHeight","calcBottom","offsetHeight","prevProps","prevState","snapshot","onBack","ArrowBack_default","Item_MessageItem","MessageForm_MessageForm","chatNewMessagesAction","Chat","bottom","toggleDrawer","toggle","chooseChat","backToList","volumeOn","volumeOff","getTotalMessages","getTotal","changeNewMessages","changeNoReadMessages","Drawer_default","anchor","handleDrawer","role","MessageList_MessageList","handleVolume","ChatList_ChatList","handleChooseChat","OnlineUserListen","live","onmousemove","App","autoLogin","isUpdateToken","guestRoutes","userRoutes","redirectDefault","Layout_Layout","UI_Loader_Loader","Header_Header","Route","render","Language_Language","Switch","OnlineUserListen_OnlineUserListen","Notification_Notification","Chat_Chat","MobileDetect","onresize","JavascriptTimeAgo","en","ru","app","es","BrowserRouter","MobileDetect_MobileDetect","App_App","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.79c3a929.chunk.js","sourcesContent":["export const RESET_STATE = 'RESET_STATE';\r\n\r\nexport const TRANSLATE_CHANGE = 'TRANSLATE_CHANGE';\r\nexport const TRANSLATE_LOADER = 'TRANSLATE_LOADER';\r\n\r\nexport const MOBILE_DETECT_CHANGE = 'MOBILE_DETECT_CHANGE';\r\n\r\nexport const LOGIN_FORM_LOADER = 'LOGIN_FORM_LOADER';\r\nexport const LOGIN_FORM_SUCCESS = 'LOGIN_FORM_SUCCESS';\r\nexport const LOGIN_FORM_FAIL = 'LOGIN_FORM_FAIL';\r\n\r\nexport const REGISTER_FORM_LOADER = 'REGISTER_FORM_LOADER';\r\nexport const REGISTER_FORM_SUCCESS = 'REGISTER_FORM_SUCCESS';\r\nexport const REGISTER_FORM_FAIL = 'REGISTER_FORM_FAIL';\r\n\r\nexport const USER_LOGIN = 'USER_LOGIN';\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\n\r\nexport const RESTORE_PASSWORD_SEND_CODE_EMAIL = 'RESTORE_PASSWORD_SEND_CODE_EMAIL';\r\nexport const RESTORE_PASSWORD_SEND_CODE_SUCCESS = 'RESTORE_PASSWORD_SEND_CODE_SUCCESS';\r\nexport const RESTORE_PASSWORD_SEND_CODE_FAIL = 'RESTORE_PASSWORD_SEND_CODE_FAIL';\r\nexport const RESTORE_PASSWORD_CHANGE_EMAIL = 'RESTORE_PASSWORD_CHANGE_EMAIL';\r\nexport const RESTORE_PASSWORD_VERIFY_EMAIL = 'RESTORE_PASSWORD_VERIFY_EMAIL';\r\nexport const RESTORE_PASSWORD_VERIFY_SUCCESS = 'RESTORE_PASSWORD_VERIFY_SUCCESS';\r\nexport const RESTORE_PASSWORD_VERIFY_FAIL = 'RESTORE_PASSWORD_VERIFY_FAIL';\r\n\r\nexport const VERIFY_EMAIL_LOADER = 'VERIFY_EMAIL_LOADER';\r\nexport const VERIFY_EMAIL_SUCCESS = 'VERIFY_EMAIL_SUCCESS';\r\nexport const VERIFY_EMAIL_FAIL = 'VERIFY_EMAIL_FAIL';\r\n\r\nexport const PROFILE_DETAIL_PAGE_INIT = 'PROFILE_DETAIL_PAGE_INIT';\r\nexport const PROFILE_DETAIL_PAGE_FAIL = 'PROFILE_DETAIL_PAGE_FAIL';\r\nexport const PROFILE_DETAIL_PAGE_CHANGE_DATA = 'PROFILE_DETAIL_PAGE_CHANGE_DATA';\r\n\r\nexport const PROFILE_DETAIL_FORM_LOADER = 'PROFILE_DETAIL_FORM_LOADER';\r\nexport const PROFILE_DETAIL_FORM_SUCCESS = 'PROFILE_DETAIL_FORM_SUCCESS';\r\nexport const PROFILE_DETAIL_FORM_FAIL = 'PROFILE_DETAIL_FORM_FAIL';\r\n\r\nexport const PROFILE_GALLERY_UPLOAD_LOADER = 'PROFILE_GALLERY_UPLOAD_LOADER';\r\nexport const PROFILE_GALLERY_UPLOAD_SUCCESS = 'PROFILE_GALLERY_UPLOAD_SUCCESS';\r\nexport const PROFILE_GALLERY_UPLOAD_FAIL = 'PROFILE_GALLERY_UPLOAD_FAIL';\r\n\r\nexport const PROFILE_GALLERY_LIST_COMPLETE = 'PROFILE_GALLERY_LIST_COMPLETE';\r\nexport const PROFILE_GALLERY_LIST_ERROR_INIT = 'PROFILE_GALLERY_LIST_ERROR_INIT';\r\nexport const PROFILE_GALLERY_LIST_APPEND_LOADER = 'PROFILE_GALLERY_LIST_APPEND_LOADER';\r\nexport const PROFILE_GALLERY_LIST_ADD_MODELS = 'PROFILE_GALLERY_LIST_ADD_MODELS';\r\n\r\nexport const PROFILE_GALLERY_ITEM_INIT = 'PROFILE_GALLERY_ITEM_INIT';\r\nexport const PROFILE_GALLERY_ITEM_IS_LOADED = 'PROFILE_GALLERY_ITEM_IS_LOADED';\r\nexport const PROFILE_GALLERY_ITEM_SAVE = 'PROFILE_GALLERY_ITEM_SAVE';\r\nexport const PROFILE_GALLERY_ITEM_SAVE_OK = 'PROFILE_GALLERY_ITEM_SAVE_OK';\r\nexport const PROFILE_GALLERY_ITEM_SAVE_FAIL = 'PROFILE_GALLERY_ITEM_SAVE_FAIL';\r\nexport const PROFILE_GALLERY_ITEM_DELETE = 'PROFILE_GALLERY_ITEM_DELETE';\r\n\r\nexport const PROFILE_LOCATION_FETCH_COMPLETED = 'PROFILE_LOCATION_FETCH_COMPLETED';\r\nexport const PROFILE_LOCATION_UPDATE = 'PROFILE_LOCATION_UPDATE';\r\nexport const PROFILE_LOCATION_UPDATED = 'PROFILE_LOCATION_UPDATED';\r\n\r\nexport const PROFILE_GAMES_FETCHED = 'PROFILE_GAMES_FETCHED';\r\nexport const PROFILE_GAMES_CHANGE_VALUES = 'PROFILE_GAMES_CHANGE_VALUES';\r\nexport const PROFILE_GAMES_UPDATE = 'PROFILE_GAMES_UPDATE';\r\nexport const PROFILE_GAMES_UPDATE_SUCCESS = 'PROFILE_GAMES_UPDATE_SUCCESS';\r\nexport const PROFILE_GAMES_UPDATE_FAIL = 'PROFILE_GAMES_UPDATE_FAIL';\r\n\r\nexport const PEOPLE_LIST_LOADER_LIST = 'PEOPLE_LIST_LOADER_LIST';\r\nexport const PEOPLE_LIST_QUERY = 'PEOPLE_LIST_QUERY';\r\nexport const PEOPLE_LIST_ERROR = 'PEOPLE_LIST_ERROR';\r\n\r\nexport const GALLERY_LIST_USER_LOADER = 'GALLERY_LIST_USER_LOADER';\r\nexport const GALLERY_LIST_USER_QUERY = 'GALLERY_LIST_USER_QUERY';\r\nexport const GALLERY_LIST_USER_ERROR = 'GALLERY_LIST_USER_ERROR';\r\nexport const GALLERY_LIST_USER_CLEAR = 'GALLERY_LIST_USER_CLEAR';\r\n\r\nexport const LOADER_ON = 'LOADER_ON';\r\nexport const LOADER_OFF = 'LOADER_OFF';\r\n\r\nexport const USER_DETAIL_FETCH = 'USER_DETAIL_FETCH';\r\nexport const USER_DETAIL_CLEAR = 'USER_DETAIL_CLEAR';\r\nexport const USER_DETAIL_ERROR = 'USER_DETAIL_ERROR';\r\n\r\nexport const NEW_FRIEND_REQUEST_RESULT = 'NEW_FRIEND_REQUEST_RESULT';\r\nexport const NEW_FRIEND_REQUEST_CHANGE = 'NEW_FRIEND_REQUEST_CHANGE';\r\n\r\nexport const INVITE_FORM_SENDING = 'INVITE_FORM_SENDING';\r\nexport const INVITE_FORM_ERROR = 'INVITE_FORM_ERROR';\r\nexport const INVITE_FORM_SUCCESS = 'INVITE_FORM_SUCCESS';\r\nexport const INVITE_FORM_CLEAR = 'INVITE_FORM_CLEAR';\r\n\r\nexport const INVITE_LIST_LOADER_LIST = 'INVITE_LIST_LOADER_LIST';\r\nexport const INVITE_LIST_QUERY = 'INVITE_LIST_QUERY';\r\nexport const INVITE_LIST_ERROR = 'INVITE_LIST_ERROR';\r\nexport const INVITE_LIST_TRANSFORM = 'INVITE_LIST_TRANSFORM';\r\n\r\nexport const NOTIFY_CHANGE = 'NOTIFY_CHANGE';\r\n\r\nexport const INVITE_CONTROL_LOADER = 'INVITE_CONTROL_LOADER';\r\nexport const INVITE_CONTROL_SUCCESS = 'INVITE_CONTROL_SUCCESS';\r\nexport const INVITE_CONTROL_ERROR = 'INVITE_CONTROL_ERROR';\r\n\r\nexport const CHAT_CHOOSE_CHAT = 'CHAT_CHOOSE_CHAT';\r\nexport const CHAT_BACK_TO_LIST = 'CHAT_BACK_TO_LIST';\r\nexport const CHAT_VOLUME_ON = 'CHAT_VOLUME_ON';\r\nexport const CHAT_VOLUME_OFF = 'CHAT_VOLUME_OFF';\r\nexport const CHAT_TOGGLE = 'CHAT_TOGGLE';\r\n\r\nexport const CHAT_LIST_USER_LOADER = 'CHAT_LIST_USER_LOADER';\r\nexport const CHAT_LIST_USER_QUERY = 'CHAT_LIST_USER_QUERY';\r\nexport const CHAT_LIST_USER_ERROR = 'CHAT_LIST_USER_ERROR';\r\n\r\nexport const MESSAGE_LIST_USER_LOADER = 'MESSAGE_LIST_USER_LOADER';\r\nexport const MESSAGE_LIST_USER_QUERY = 'MESSAGE_LIST_USER_QUERY';\r\nexport const MESSAGE_LIST_USER_ERROR = 'MESSAGE_LIST_USER_ERROR';\r\nexport const MESSAGE_LIST_USER_ADD_ITEM = 'MESSAGE_LIST_USER_ADD_ITEM';\r\nexport const MESSAGE_LIST_USER_CLEAR = 'MESSAGE_LIST_USER_CLEAR';\r\n\r\nexport const CHAT_MESSAGE_FORM_SUBMIT = 'CHAT_MESSAGE_FORM_SUBMIT';\r\nexport const CHAT_MESSAGE_FORM_COMPLETE = 'CHAT_MESSAGE_FORM_COMPLETE';\r\nexport const CHAT_MESSAGE_FORM_CLEAR = 'CHAT_MESSAGE_FORM_CLEAR';\r\n\r\nexport const CHAT_NEW_MESSAGES_FETCH = 'CHAT_NEW_MESSAGES_FETCH';\r\n\r\nexport const ONLINE_USERS_UPDATE = 'ONLINE_USERS_UPDATE';\r\nexport const ONLINE_USERS_LIVE = 'ONLINE_USERS_LIVE';","import {\r\n  TRANSLATE_CHANGE,\r\n  TRANSLATE_LOADER\r\n} from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  locale: 'en',\r\n  loader: true,\r\n  storage: {},\r\n  data: {},\r\n  languages: [\r\n    {\r\n      lang: 'en',\r\n      label: 'English'\r\n    },\r\n    {\r\n      lang: 'ru',\r\n      label: ''\r\n    },\r\n  ]\r\n};\r\n\r\nexport default function translateReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case TRANSLATE_CHANGE:\r\n      return {...state, loader: false, ...action.payload};\r\n    case TRANSLATE_LOADER:\r\n      return {...state, loader: true};\r\n    default:\r\n      return state;\r\n  }\r\n}","import device from 'current-device';\r\n\r\nexport default class MobileDetectService {\r\n\r\n  media = {\r\n    xs: 0,\r\n    sm: 600,\r\n    md: 960,\r\n    lg: 1280,\r\n    xl: 1920\r\n  };\r\n\r\n  currentMedia = null;\r\n\r\n  constructor() {\r\n    this.device = device;\r\n    this.currentMedia = this.setCurrentMedia();\r\n  }\r\n\r\n  setCurrentMedia() {\r\n    const size = window.innerWidth;\r\n\r\n    if (size >= this.media.xs && size < this.media.sm) {\r\n      return 'xs';\r\n    }\r\n\r\n    if (size >= this.media.sm && size < this.media.md) {\r\n      return 'sm';\r\n    }\r\n\r\n    if (size >= this.media.md && size < this.media.lg) {\r\n      return 'md';\r\n    }\r\n\r\n    if (size >= this.media.lg && size < this.media.xl) {\r\n      return 'lg';\r\n    }\r\n\r\n    if (size >= this.media.xl) {\r\n      return 'xl';\r\n    }\r\n  }\r\n\r\n  isMobile() {\r\n    return this.device.mobile() || this.inMedia(['xs']);\r\n  }\r\n\r\n  isTablet() {\r\n    return this.device.tablet() || this.inMedia(['xs', 'md']);\r\n  }\r\n\r\n  isDesctop() {\r\n    return this.device.desktop() || this.inMedia(['md', 'lg', 'xl'])\r\n  }\r\n\r\n  inMedia(media) {\r\n    return media.indexOf(this.currentMedia) !== -1;\r\n  }\r\n\r\n  getValueByData(data) {\r\n    const currentSize = this.media[this.currentMedia];\r\n\r\n    let dataValue = null;\r\n\r\n    Object.keys(data)\r\n      .map(key => [this.media[key], data[key]])\r\n      .sort(([size1], [size2]) => size1 < size2 ? 1 : (size1 > size2 ? -1 : 0))\r\n      .filter(([ size, value ]) => size <= currentSize)\r\n      .forEach(([ size, value ]) => !dataValue ? dataValue = value : null);\r\n\r\n    if (!dataValue) {\r\n      dataValue = data[Object.keys(data).slice(0, 1)];\r\n    }\r\n\r\n    return dataValue;\r\n  }\r\n\r\n}","\r\n\r\nimport MobileDetectService from \"../../../services/mobile-detect/MobileDetectService\";\r\nimport { MOBILE_DETECT_CHANGE } from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  device: new MobileDetectService()\r\n};\r\n\r\nexport default function mobileDetectReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case MOBILE_DETECT_CHANGE:\r\n      return { device: new MobileDetectService() };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n","import {\r\n  LOGIN_FORM_FAIL,\r\n  LOGIN_FORM_LOADER,\r\n  LOGIN_FORM_SUCCESS\r\n} from '../../actions/actionTypes';\r\n\r\nconst initialState = {\r\n  loader: false,\r\n  success: false,\r\n  error: false,\r\n  errorMessage: null\r\n};\r\n\r\nexport default function loginFormReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOGIN_FORM_LOADER:\r\n      return {...state, loader: true, error: false};\r\n    case LOGIN_FORM_SUCCESS:\r\n      return {...state, success: true, loader: false};\r\n    case LOGIN_FORM_FAIL:\r\n      return {...state, error: true, errorMessage: action.payload, loader: false};\r\n    default:\r\n      return state\r\n  }\r\n}","import {\r\n  USER_LOGIN,\r\n  USER_LOGOUT\r\n} from '../../actions/actionTypes';\r\n\r\nconst initialState = {\r\n  isGuest: true,\r\n  loader: true,\r\n  user: null,\r\n  referer: null,\r\n  redirect: null\r\n};\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case USER_LOGIN:\r\n      return {...state, loader: false, isGuest: false, user: action.payload, redirect: null};\r\n    case USER_LOGOUT:\r\n      return {...state, loader: false, isGuest: true, user: null, ...action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  REGISTER_FORM_FAIL,\r\n  REGISTER_FORM_LOADER,\r\n  REGISTER_FORM_SUCCESS\r\n} from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loader: false,\r\n  error: null,\r\n  success: null\r\n};\r\n\r\nexport default function registerFormReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case REGISTER_FORM_LOADER:\r\n      return {...state, loader: true};\r\n    case REGISTER_FORM_SUCCESS:\r\n      return {...state, success: action.payload, loader: false, error: null};\r\n    case REGISTER_FORM_FAIL:\r\n      return {...state, success: null, loader: false, error: action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  RESTORE_PASSWORD_CHANGE_EMAIL,\r\n  RESTORE_PASSWORD_SEND_CODE_EMAIL,\r\n  RESTORE_PASSWORD_SEND_CODE_FAIL,\r\n  RESTORE_PASSWORD_SEND_CODE_SUCCESS,\r\n  RESTORE_PASSWORD_VERIFY_EMAIL,\r\n  RESTORE_PASSWORD_VERIFY_FAIL,\r\n  RESTORE_PASSWORD_VERIFY_SUCCESS\r\n} from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loader: false,\r\n  email: null,\r\n  error: null,\r\n  success: null\r\n};\r\n\r\nexport default function restorePasswordReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case RESTORE_PASSWORD_SEND_CODE_EMAIL:\r\n      return {...state, loader: true, error: null, success: null};\r\n    case RESTORE_PASSWORD_SEND_CODE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loader: false,\r\n        email: action.payload.email,\r\n        success: action.payload.message\r\n      };\r\n    case RESTORE_PASSWORD_SEND_CODE_FAIL:\r\n      return {...state, loader: false, email: null, error: action.payload, success: null};\r\n    case RESTORE_PASSWORD_CHANGE_EMAIL:\r\n      return {...state, email: null, error: null, success: null};\r\n    case RESTORE_PASSWORD_VERIFY_EMAIL:\r\n      return {...state, loader: true, error: null, success: null};\r\n    case RESTORE_PASSWORD_VERIFY_SUCCESS:\r\n      return {...state, loader: false, error: null, success: action.payload};\r\n    case RESTORE_PASSWORD_VERIFY_FAIL:\r\n      return {...state, loader: false, error:  action.payload, success: null};\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  VERIFY_EMAIL_FAIL,\r\n  VERIFY_EMAIL_LOADER,\r\n  VERIFY_EMAIL_SUCCESS\r\n} from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loader: false,\r\n  error: null,\r\n  success: null\r\n};\r\n\r\nexport default function verifyEmailReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case VERIFY_EMAIL_LOADER:\r\n      return {...state, loader: true, error: null, success: null};\r\n    case VERIFY_EMAIL_SUCCESS:\r\n      return {...state, loader: false, error: null, success: action.payload};\r\n    case VERIFY_EMAIL_FAIL:\r\n      return {...state, loader: false, success: null, error: action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  PROFILE_DETAIL_PAGE_FAIL,\r\n  PROFILE_DETAIL_PAGE_INIT,\r\n  PROFILE_DETAIL_PAGE_CHANGE_DATA,\r\n  RESET_STATE\r\n} from \"../../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  init: false,\r\n  data: {},\r\n  labels: {},\r\n  error: null\r\n};\r\n\r\nexport default function profileDetailReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case PROFILE_DETAIL_PAGE_INIT:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        init: true,\r\n        error: null\r\n      };\r\n    case PROFILE_DETAIL_PAGE_FAIL:\r\n      return {...state, init: false, data: {}, labels: {}, error: action.payload};\r\n    case PROFILE_DETAIL_PAGE_CHANGE_DATA:\r\n      return {...state, data: action.payload };\r\n    case RESET_STATE:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  PROFILE_DETAIL_FORM_FAIL,\r\n  PROFILE_DETAIL_FORM_LOADER,\r\n  PROFILE_DETAIL_FORM_SUCCESS,\r\n  RESET_STATE\r\n} from \"../../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loader: false,\r\n  success: null,\r\n  error: null\r\n};\r\n\r\nexport default function profileDetailFormReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case PROFILE_DETAIL_FORM_LOADER:\r\n      return {...state, loader: true, success: null, error: null};\r\n    case PROFILE_DETAIL_FORM_SUCCESS:\r\n      return {...state, loader: false, success: action.payload, error: null};\r\n    case PROFILE_DETAIL_FORM_FAIL:\r\n      return {...state, loader: false, success: null, error: action.payload};\r\n    case RESET_STATE:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  PROFILE_GALLERY_UPLOAD_LOADER,\r\n  PROFILE_GALLERY_UPLOAD_SUCCESS,\r\n  PROFILE_GALLERY_UPLOAD_FAIL, RESET_STATE\r\n} from \"../../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loader: false,\r\n  success: null,\r\n  fail: null,\r\n};\r\n\r\nexport default function profileGalleryUploadReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case PROFILE_GALLERY_UPLOAD_LOADER:\r\n      return {...state, loader: true, success: null, fail: null};\r\n    case PROFILE_GALLERY_UPLOAD_SUCCESS:\r\n      return {...state, loader: false, success: action.payload, fail: null};\r\n    case PROFILE_GALLERY_UPLOAD_FAIL:\r\n      return {...state, loader: false, success: null, fail: action.payload};\r\n    case RESET_STATE:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  PROFILE_GALLERY_LIST_COMPLETE,\r\n  PROFILE_GALLERY_LIST_ERROR_INIT,\r\n  PROFILE_GALLERY_LIST_APPEND_LOADER,\r\n  PROFILE_GALLERY_LIST_ADD_MODELS,\r\n  RESET_STATE\r\n} from \"../../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  error: null,\r\n  loader: true,\r\n  appendLoader: false,\r\n  models: [],\r\n  page: 1,\r\n  total: 0,\r\n  nextPage: null,\r\n};\r\n\r\nexport default function profileGalleryListReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case PROFILE_GALLERY_LIST_APPEND_LOADER:\r\n      return {...state, appendLoader: true};\r\n    case PROFILE_GALLERY_LIST_COMPLETE:\r\n      return {...state, loader: false, ...action.payload};\r\n    case PROFILE_GALLERY_LIST_ERROR_INIT:\r\n      return {...state, loader: false, error: action.payload};\r\n    case PROFILE_GALLERY_LIST_ADD_MODELS:\r\n      return {...state, ...action.payload};\r\n    case RESET_STATE:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  PROFILE_GALLERY_ITEM_INIT,\r\n  PROFILE_GALLERY_ITEM_IS_LOADED,\r\n  PROFILE_GALLERY_ITEM_SAVE,\r\n  PROFILE_GALLERY_ITEM_SAVE_OK,\r\n  PROFILE_GALLERY_ITEM_SAVE_FAIL,\r\n  PROFILE_GALLERY_ITEM_DELETE,\r\n  RESET_STATE\r\n} from \"../../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loader: true,\r\n  loaderSubmit: false,\r\n  form: {},\r\n  success: null,\r\n  error: null,\r\n};\r\n\r\nexport default function profileGalleryItemReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case PROFILE_GALLERY_ITEM_DELETE:\r\n    case PROFILE_GALLERY_ITEM_INIT:\r\n      return {...state, ...initialState};\r\n    case PROFILE_GALLERY_ITEM_IS_LOADED:\r\n      return {...state, loader: false, form: action.payload};\r\n    case PROFILE_GALLERY_ITEM_SAVE:\r\n      return {...state, loaderSubmit: true};\r\n    case PROFILE_GALLERY_ITEM_SAVE_OK:\r\n      return {...state, loaderSubmit: false, success: action.payload, error: null};\r\n    case PROFILE_GALLERY_ITEM_SAVE_FAIL:\r\n      return {...state, loaderSubmit: false, success: null, error: action.payload};\r\n    case RESET_STATE:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  PROFILE_LOCATION_FETCH_COMPLETED,\r\n  PROFILE_LOCATION_UPDATE,\r\n  PROFILE_LOCATION_UPDATED,\r\n  RESET_STATE\r\n} from \"../../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  fetchLoader: true,\r\n  coordinates: [],\r\n  locations: [],\r\n  updateLoader: false,\r\n};\r\n\r\nexport default function profileLocationReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case PROFILE_LOCATION_FETCH_COMPLETED:\r\n      return {...state, fetchLoader: false, ...action.payload};\r\n    case PROFILE_LOCATION_UPDATE:\r\n      return {...state, updateLoader: true};\r\n    case PROFILE_LOCATION_UPDATED:\r\n      return {...state, updateLoader: false, ...action.payload};\r\n    case RESET_STATE:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  PROFILE_GAMES_FETCHED,\r\n  PROFILE_GAMES_CHANGE_VALUES,\r\n  PROFILE_GAMES_UPDATE,\r\n  PROFILE_GAMES_UPDATE_SUCCESS,\r\n  PROFILE_GAMES_UPDATE_FAIL,\r\n  RESET_STATE,\r\n} from \"../../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  fetchLoader: true,\r\n  allGames: [],\r\n  myGames: [],\r\n  updateLoader: false,\r\n  success: null,\r\n  error: null\r\n};\r\n\r\nexport default function profileGamesReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case PROFILE_GAMES_FETCHED:\r\n      return {...state, fetchLoader: false, ...action.payload};\r\n    case PROFILE_GAMES_CHANGE_VALUES:\r\n      return {...state, myGames: action.payload, success: null, error: null};\r\n    case PROFILE_GAMES_UPDATE:\r\n      return {...state, updateLoader: true, success: null, error: null};\r\n    case PROFILE_GAMES_UPDATE_SUCCESS:\r\n      return {...state, updateLoader: false, success: action.payload, error: null};\r\n    case PROFILE_GAMES_UPDATE_FAIL:\r\n      return {...state, updateLoader: false, success: null, error: action.payload};\r\n    case RESET_STATE:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  PEOPLE_LIST_LOADER_LIST,\r\n  PEOPLE_LIST_QUERY,\r\n  PEOPLE_LIST_ERROR\r\n} from '../../actions/actionTypes';\r\n\r\nconst initialState = {\r\n  loaderList: true,\r\n  url: null,\r\n  models: [],\r\n  formData: {},\r\n  totalItems: 0,\r\n  lastPage: 0,\r\n  currentPage: 1,\r\n  perPage: 0,\r\n  nextPageUrl: null,\r\n  prevPageUrl: null,\r\n  firstPageUrl: null,\r\n  lastPageUrl: null,\r\n  sortAttributes: [],\r\n  params: {},\r\n  error: null,\r\n};\r\n\r\nexport default function peopleListReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case PEOPLE_LIST_LOADER_LIST:\r\n      return {...state, error: null, loaderList: true};\r\n    case PEOPLE_LIST_QUERY:\r\n      return {...state, error: null, loaderList: false, ...action.payload};\r\n    case PEOPLE_LIST_ERROR:\r\n      return {...state, error: action.payload, loaderList: false};\r\n    default:\r\n      return state;\r\n  }\r\n}","import { LOADER_OFF, LOADER_ON } from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loader: false,\r\n};\r\n\r\nexport default function loaderReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOADER_ON:\r\n      return { loader: true };\r\n    case LOADER_OFF:\r\n      return { loader: false };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { USER_DETAIL_CLEAR, USER_DETAIL_ERROR, USER_DETAIL_FETCH } from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  info: {},\r\n  loaderInfo: true,\r\n  error: null,\r\n};\r\n\r\nexport default function userDetailReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case USER_DETAIL_FETCH:\r\n      return {...state, error: null, info: action.payload, loaderInfo: false};\r\n    case USER_DETAIL_ERROR:\r\n      return {...state, info: {}, error: action.payload, loaderInfo: false};\r\n    case USER_DETAIL_CLEAR:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  GALLERY_LIST_USER_QUERY,\r\n  GALLERY_LIST_USER_LOADER,\r\n  GALLERY_LIST_USER_ERROR,\r\n  GALLERY_LIST_USER_CLEAR\r\n} from \"../../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loaderList: false,\r\n  url: null,\r\n  models: [],\r\n  totalItems: 0,\r\n  lastPage: 0,\r\n  currentPage: 1,\r\n  perPage: 0,\r\n  nextPageUrl: null,\r\n  prevPageUrl: null,\r\n  firstPageUrl: null,\r\n  lastPageUrl: null\r\n};\r\n\r\nexport default function imagesListReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GALLERY_LIST_USER_LOADER:\r\n      return {...state, loaderList: true, error: null};\r\n    case GALLERY_LIST_USER_QUERY:\r\n      return {...state, loaderList: false, ...action.payload};\r\n    case GALLERY_LIST_USER_ERROR:\r\n      return {...state, error: action.payload};\r\n    case GALLERY_LIST_USER_CLEAR:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import { NEW_FRIEND_REQUEST_CHANGE, NEW_FRIEND_REQUEST_RESULT } from \"../../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loader: true,\r\n  total: 0\r\n};\r\n\r\nexport default function friendsNewRequestsReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case NEW_FRIEND_REQUEST_RESULT:\r\n      return {...state, loader: false, total: action.payload};\r\n    case NEW_FRIEND_REQUEST_CHANGE:\r\n      return {...state, total: +state.total + action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  INVITE_FORM_CLEAR,\r\n  INVITE_FORM_ERROR,\r\n  INVITE_FORM_SENDING,\r\n  INVITE_FORM_SUCCESS\r\n} from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loader: false,\r\n  error: null,\r\n  success: null\r\n};\r\n\r\nexport default function inviteFormReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case INVITE_FORM_SENDING:\r\n      return { loader: true, error: null, success: null };\r\n    case INVITE_FORM_SUCCESS:\r\n      return { loader: false, error: null, success: action.payload };\r\n    case INVITE_FORM_ERROR:\r\n      return { loader: false, error: action.payload, success: null };\r\n    case INVITE_FORM_CLEAR:\r\n      return { ...initialState };\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  INVITE_LIST_ERROR,\r\n  INVITE_LIST_LOADER_LIST,\r\n  INVITE_LIST_QUERY,\r\n  INVITE_LIST_TRANSFORM,\r\n  RESET_STATE\r\n} from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loaderList: true,\r\n  url: null,\r\n  models: [],\r\n  totalItems: 0,\r\n  lastPage: 0,\r\n  currentPage: 1,\r\n  perPage: 0,\r\n  nextPageUrl: null,\r\n  prevPageUrl: null,\r\n  firstPageUrl: null,\r\n  lastPageUrl: null,\r\n  sortAttributes: [],\r\n  params: {},\r\n  error: null,\r\n};\r\n\r\nexport default function inviteListReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case INVITE_LIST_LOADER_LIST:\r\n      return {...state, error: null, loaderList: true};\r\n    case INVITE_LIST_QUERY:\r\n      return {...state, error: null, loaderList: false, ...action.payload};\r\n    case INVITE_LIST_ERROR:\r\n      return {...state, error: action.payload, loaderList: false};\r\n    case INVITE_LIST_TRANSFORM:\r\n      return {...state, models: action.payload};\r\n    case RESET_STATE:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import { NOTIFY_CHANGE, RESET_STATE } from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  messages: []\r\n};\r\n\r\nexport default function notificationReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case NOTIFY_CHANGE:\r\n      return { messages: action.payload };\r\n    case RESET_STATE:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  INVITE_CONTROL_ERROR,\r\n  INVITE_CONTROL_LOADER,\r\n  INVITE_CONTROL_SUCCESS\r\n} from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loader: false,\r\n  error: null\r\n};\r\n\r\nexport default function inviteItemControlReducer(state = initialState, action) {\r\n  switch (action) {\r\n    case INVITE_CONTROL_LOADER:\r\n      return { ...state, loader: true, error: null };\r\n    case INVITE_CONTROL_SUCCESS:\r\n      return { ...state, loader: false, error: null };\r\n    case INVITE_CONTROL_ERROR:\r\n      return { ...state, loader: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  CHAT_BACK_TO_LIST,\r\n  CHAT_CHOOSE_CHAT,\r\n  CHAT_VOLUME_ON,\r\n  CHAT_VOLUME_OFF,\r\n  CHAT_TOGGLE,\r\n  RESET_STATE\r\n} from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  active: false,\r\n  activeChat: null,\r\n  volume: true,\r\n};\r\n\r\nexport default function chatReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case CHAT_CHOOSE_CHAT:\r\n      return { ...state, activeChat: action.payload };\r\n    case CHAT_BACK_TO_LIST:\r\n      return { ...state, activeChat: false };\r\n    case CHAT_VOLUME_ON:\r\n      return { ...state, volume: true };\r\n    case CHAT_VOLUME_OFF:\r\n      return { ...state, volume: false };\r\n    case CHAT_TOGGLE:\r\n      return { ...state, active: action.payload };\r\n    case RESET_STATE:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  CHAT_LIST_USER_LOADER,\r\n  CHAT_LIST_USER_QUERY,\r\n  CHAT_LIST_USER_ERROR,\r\n  RESET_STATE\r\n} from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loaderList: true,\r\n  url: null,\r\n  models: [],\r\n  formData: {},\r\n  totalItems: 0,\r\n  lastPage: 0,\r\n  currentPage: 1,\r\n  perPage: 0,\r\n  nextPageUrl: null,\r\n  prevPageUrl: null,\r\n  firstPageUrl: null,\r\n  lastPageUrl: null,\r\n  error: null,\r\n};\r\n\r\nexport default function chatListReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case CHAT_LIST_USER_LOADER:\r\n      return {...state, error: null, loaderList: true};\r\n    case CHAT_LIST_USER_QUERY:\r\n      return {...state, error: null, loaderList: false, ...action.payload};\r\n    case CHAT_LIST_USER_ERROR:\r\n      return {...state, error: action.payload, loaderList: false};\r\n    case RESET_STATE:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  MESSAGE_LIST_USER_LOADER,\r\n  MESSAGE_LIST_USER_QUERY,\r\n  MESSAGE_LIST_USER_ERROR,\r\n  MESSAGE_LIST_USER_ADD_ITEM,\r\n  MESSAGE_LIST_USER_CLEAR,\r\n  RESET_STATE\r\n} from \"../../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  loaderList: true,\r\n  url: null,\r\n  models: [],\r\n  totalItems: 0,\r\n  lastPage: 0,\r\n  currentPage: 1,\r\n  perPage: 0,\r\n  nextPageUrl: null,\r\n  prevPageUrl: null,\r\n  firstPageUrl: null,\r\n  lastPageUrl: null,\r\n  error: null,\r\n};\r\n\r\nexport default function messageListReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case MESSAGE_LIST_USER_LOADER:\r\n      return {...state, error: null, loaderList: true};\r\n    case MESSAGE_LIST_USER_QUERY:\r\n      return {...state, error: null, loaderList: false, ...action.payload};\r\n    case MESSAGE_LIST_USER_ERROR:\r\n      return {...state, error: action.payload, loaderList: false};\r\n    case MESSAGE_LIST_USER_ADD_ITEM:\r\n      return {...state, models: action.payload};\r\n    case MESSAGE_LIST_USER_CLEAR:\r\n    case RESET_STATE:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  CHAT_MESSAGE_FORM_CLEAR,\r\n  CHAT_MESSAGE_FORM_COMPLETE,\r\n  CHAT_MESSAGE_FORM_SUBMIT,\r\n  RESET_STATE\r\n} from '../../actions/actionTypes';\r\n\r\nconst initialState = {\r\n  loader: false\r\n};\r\n\r\nexport default function messageFormReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case CHAT_MESSAGE_FORM_SUBMIT:\r\n      return { loader: true };\r\n    case CHAT_MESSAGE_FORM_COMPLETE:\r\n    case CHAT_MESSAGE_FORM_CLEAR:\r\n    case RESET_STATE:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  CHAT_NEW_MESSAGES_FETCH\r\n} from '@/store/actions/actionTypes';\r\n\r\nconst initialState = {\r\n  loader: true,\r\n  total: 0,\r\n  detail: []\r\n};\r\n\r\nexport default function chatNewMessagesReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case CHAT_NEW_MESSAGES_FETCH:\r\n      return { ...state, loader: false, ...action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}","const env = process.env.NODE_ENV === 'development'\r\n  ? {\r\n    mediaUrl: 'http://friends.loc',\r\n    apiUrl: 'http://friends.loc/api',\r\n    langUrl: 'http://friends.loc',\r\n    staticImagesHost: 'http://friends.loc',\r\n    onlineUserHost: ':6002',\r\n    auth: {\r\n      clientId: 2,\r\n      clientSecret: 'B7DXgh9S0Np9sKz4FBTxM9sU0wY8I7hBfj71gi77'\r\n    },\r\n    yandexApiKey: 'e79b7ae4-40d6-410c-a6b2-3dbe7156d57c'\r\n  }\r\n  : {\r\n    mediaUrl: 'http://media.my-tutor.club',\r\n    apiUrl: 'https://my-tutor.club/api',\r\n    langUrl: 'https://my-tutor.club',\r\n    staticImagesHost: 'https://my-tutor.club',\r\n    onlineUserHost: ':6002',\r\n    auth: {\r\n      clientId: 2,\r\n      clientSecret: 'D0AMeFodfbEHkka6NRtl2tZIKcxUhJf4vUsHSP9g'\r\n    },\r\n    yandexApiKey: 'e79b7ae4-40d6-410c-a6b2-3dbe7156d57c'\r\n  };\r\n\r\nexport default env;\r\n","import io from 'socket.io-client'\r\nimport env from '@/env/env'\r\n\r\nexport default class OnlineUserService {\r\n  constructor(userId) {\r\n    this.userId = +userId;\r\n    this.server = io(env.onlineUserHost);\r\n    this.lastUpdate = 0;\r\n    this.timer = null;\r\n    this.online = false;\r\n    this.events = [];\r\n\r\n    this.run();\r\n  }\r\n\r\n  hasUserId(userId) {\r\n    return +userId === this.userId;\r\n  }\r\n\r\n  changeStatus(status) {\r\n    this.online = status;\r\n    this.events.forEach(callable => callable(this.userId, this.online));\r\n  }\r\n\r\n  clearEvents() {\r\n    this.events = [];\r\n  }\r\n\r\n  onChangeStatus(callable) {\r\n    this.events.push(callable);\r\n  }\r\n\r\n  isOnline() {\r\n    return this.online;\r\n  }\r\n\r\n  eventRegister() {\r\n    this.channelOnline = `is.online.${this.userId}`;\r\n    this.channelOffline = `is.disconnect.${this.userId}`;\r\n\r\n    this.server.off(this.channelOnline).on(this.channelOnline, () => this.changeStatus(true));\r\n    this.server.off(this.channelOffline).on(this.channelOffline, () => this.changeStatus(false));\r\n  }\r\n\r\n  run() {\r\n    this.eventRegister();\r\n    this.server.emit('send.user', this.userId);\r\n    this.timer = setInterval(() => this.server.emit('send.user', this.userId), 5000);\r\n  }\r\n\r\n  destroy() {\r\n    this.timer && clearInterval(this.timer);\r\n    if (this.server) {\r\n      this.server.off(this.channelOnline);\r\n      this.server.off(this.channelOffline);\r\n    }\r\n  }\r\n}","import CollectionOnlineUsers from '@/services/online-users/CollectionOnlineUsers';\r\nimport { ONLINE_USERS_UPDATE, ONLINE_USERS_LIVE } from '@/store/actions/actionTypes';\r\n\r\nconst initialState = {\r\n  collection: new CollectionOnlineUsers(),\r\n  nextTimeUpdate: 0,\r\n};\r\n\r\nexport default function onlineUserReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ONLINE_USERS_UPDATE:\r\n      return { ...state, collection: action.payload };\r\n    case ONLINE_USERS_LIVE:\r\n      return { ...state, nextTimeUpdate: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}","import OnlineUserService from '@/services/online-users/OnlineUserService'\r\n\r\nexport default class CollectionOnlineUsers {\r\n  limit = 30;\r\n  collection = [];\r\n\r\n  /**\r\n   * @return boolean\r\n   */\r\n  has(onlineUser) {\r\n    return this.collection.some(model => model.hasUserId(onlineUser.userId));\r\n  }\r\n\r\n  /**\r\n   * @return CollectionOnlineUsers|null\r\n   */\r\n  add(onlineUser) {\r\n    if (!onlineUser instanceof OnlineUserService || this.has(onlineUser)) {\r\n      return null;\r\n    }\r\n\r\n    const self = this.clone();\r\n\r\n    if (self.collection.length >= this.limit) {\r\n      const first = self.collection[0];\r\n      first.destroy();\r\n\r\n      self.collection.splice(0, 1);\r\n    }\r\n\r\n    self.collection.push(onlineUser);\r\n\r\n    return self;\r\n  }\r\n\r\n  /**\r\n   * @return OnlineUserService[]\r\n   */\r\n  getCollection() {\r\n    return this.collection;\r\n  }\r\n\r\n  /**\r\n   * @return OnlineUserService[]\r\n   */\r\n  each(callable) {\r\n    return this.collection.map(model => callable(model));\r\n  }\r\n\r\n  /**\r\n   * @return CollectionOnlineUsers\r\n   */\r\n  clone() {\r\n    return Object.assign(Object.create(this), this);\r\n  }\r\n\r\n  /**\r\n   * @return OnlineUserService|null\r\n   */\r\n  getModelByUser(userId) {\r\n    return this.collection.find(model => model.hasUserId(userId));\r\n  }\r\n}","import {combineReducers} from 'redux'\r\n\r\nimport translateReducer from './translate/translateReducer';\r\nimport mobileDetectReducer from './mobile-detect/mobileDetectReducer';\r\nimport loginFormReducer from './login-form/loginFormReducer';\r\nimport userReducer from './user/userReducer';\r\nimport registerFormReducer from \"./register-form/registerFormReducer\";\r\nimport restorePasswordReducer from \"./restore-password/restorePasswordReducer\";\r\nimport verifyEmailReducer from \"./verify-email/verifyEmailReducer\";\r\nimport profileDetailReducer from './profile/profile-detail/profileDetailReducer';\r\nimport profileDetailFormReducer from './profile/profile-detail/profileDetailFormReducer';\r\nimport profileGalleryUploadReducer from './profile/profile-gallery/profileGalleryUploadReducer';\r\nimport profileGalleryListReducer from './profile/profile-gallery/profileGalleryListReducer';\r\nimport profileGalleryItemReducer from './profile/profile-gallery/profileGalleryItemReducer';\r\nimport profileLocationReducer from './profile/profile-location/profileLocationReducer';\r\nimport profileGamesReducer from './profile/profile-games/profileGamesReducer';\r\nimport peopleListReducer from './people/peopleListReducer';\r\nimport loaderReducer from './loader/loaderReducer';\r\nimport userDetailReducer from './user-detail/userDetailReducer';\r\nimport imagesListReducer from './user-detail/images/imagesListReducer';\r\nimport friendsNewRequestsReducer from \"./friends/requests/friendsNewRequestsReducer\";\r\nimport inviteFormReducer from './friends/inviteFormReducer';\r\nimport inviteListReducer from './friends/inviteListReducer';\r\nimport notificationReducer from './notification/notificationReducer';\r\nimport inviteItemControlReducer from './friends/inviteItemControlReducer';\r\nimport chatReducer from './chat/chatReducer';\r\nimport chatListReducer from './chat/chatListReducer';\r\nimport messageListReducer from './chat/messageListReducer';\r\nimport messageFormReducer from './chat/messageFormReducer';\r\nimport chatNewMessagesReducer from './chat/chatNewMessagesReducer';\r\nimport onlineUserReducer from './user/onlineUserReducer';\r\n\r\nexport default combineReducers({\r\n  translate: translateReducer,\r\n  mobileDetect: mobileDetectReducer,\r\n  loginForm: loginFormReducer,\r\n  registerForm: registerFormReducer,\r\n  restorePasswordForm: restorePasswordReducer,\r\n  verifyEmail: verifyEmailReducer,\r\n  user: userReducer,\r\n  profileDetailPage: profileDetailReducer,\r\n  profileDetailForm: profileDetailFormReducer,\r\n  profileGalleryUpload: profileGalleryUploadReducer,\r\n  profileGalleryList: profileGalleryListReducer,\r\n  profileGalleryItem: profileGalleryItemReducer,\r\n  profileLocation: profileLocationReducer,\r\n  profileGames: profileGamesReducer,\r\n  peopleList: peopleListReducer,\r\n  loader: loaderReducer,\r\n  userDetail: userDetailReducer,\r\n  imagesList: imagesListReducer,\r\n  friendsNewRequests: friendsNewRequestsReducer,\r\n  inviteForm: inviteFormReducer,\r\n  inviteList: inviteListReducer,\r\n  notification: notificationReducer,\r\n  inviteItemControl: inviteItemControlReducer,\r\n  chat: chatReducer,\r\n  chatNewMessage: chatNewMessagesReducer,\r\n  chatList: chatListReducer,\r\n  messageList: messageListReducer,\r\n  messageForm: messageFormReducer,\r\n  onlineUser: onlineUserReducer\r\n});","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\nimport rootReducer from './reducers/rootReducer'\r\n\r\nconst composeEnhancers =\r\n  typeof window === 'object' &&\r\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n      // Specify extensions options like name, actionsBlacklist, actionsCreators, serialize...\r\n    }) : compose;\r\n\r\nconst enhancer = composeEnhancers(\r\n  applyMiddleware(reduxThunk)\r\n);\r\n\r\nconst store = createStore(rootReducer, enhancer);\r\n\r\nexport default store;","export default class AuthService {\r\n\r\n  static instance;\r\n\r\n  token = 'token';\r\n  refreshToken = 'refreshToken';\r\n  expiresIn = 'expiresIn';\r\n\r\n  static getInstance() {\r\n    if (!AuthService.instance) {\r\n      AuthService.instance = new AuthService();\r\n    }\r\n\r\n    return AuthService.instance;\r\n  }\r\n\r\n  isToken() {\r\n    return !!this.getToken();\r\n  }\r\n\r\n  isRefreshToken() {\r\n    return !!this.getRefreshToken();\r\n  }\r\n\r\n  setToken(token) {\r\n    window.localStorage.setItem(this.token, token);\r\n    return this;\r\n  }\r\n\r\n  setRefreshToken(refreshToken) {\r\n    window.localStorage.setItem(this.refreshToken, refreshToken);\r\n    return this;\r\n  }\r\n\r\n  setExpiresIn(expiresIn) {\r\n    window.localStorage.setItem(this.expiresIn,\r\n      new Date((new Date).getTime() + (expiresIn * 1000))\r\n    );\r\n    return this;\r\n  }\r\n\r\n  getToken() {\r\n    return window.localStorage.getItem(this.token);\r\n  }\r\n\r\n  getRefreshToken() {\r\n    return window.localStorage.getItem(this.refreshToken);\r\n  }\r\n\r\n  isExpire() {\r\n    const timeout = window.localStorage.getItem(this.expiresIn);\r\n    return Boolean(timeout) === false || new Date(timeout) <= new Date();\r\n  }\r\n\r\n  isUpdateToken() {\r\n    return this.isExpire() && this.isRefreshToken();\r\n  }\r\n\r\n  removeAll() {\r\n    window.localStorage.removeItem(this.token);\r\n    window.localStorage.removeItem(this.refreshToken);\r\n    window.localStorage.removeItem(this.expiresIn);\r\n    return this;\r\n  }\r\n}","import AuthService from \"../auth/AuthService\";\r\nimport { logout } from \"../../store/actions/user/userAction\";\r\nimport store from '../../store/store';\r\n\r\nexport default class FetchService {\r\n  static http(axios) {\r\n    const state = store.getState();\r\n\r\n    axios.interceptors.response.use(null, error => {\r\n      if (error.response && error.response.status === 401) {\r\n        if (state.user.isGuest === false) {\r\n          store.dispatch(logout(\r\n            window.location.pathname,\r\n            state.translate.locale\r\n          ));\r\n        }\r\n      }\r\n\r\n      return Promise.reject(error);\r\n    });\r\n\r\n    Object.assign(axios.defaults.headers.common, {\r\n      'X-App-Locale': state.translate.locale\r\n    });\r\n\r\n    if (!AuthService.getInstance().isToken()) {\r\n      return axios;\r\n    }\r\n\r\n    const token = AuthService.getInstance().getToken();\r\n\r\n    Object.assign(axios.defaults.headers.common, {\r\n      'Authorization': `Bearer ${token}`\r\n    });\r\n\r\n    return axios;\r\n  }\r\n}","import axios from 'axios';\r\nimport env from '@/env/env';\r\n\r\nexport default axios.create({\r\n  baseURL: env.apiUrl,\r\n  crossDomain: true,\r\n  headers: {\r\n    common: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }\r\n});","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\n\r\n@connect(\r\n  state => ({ translate: state.translate })\r\n)\r\nexport default class Translate extends Component {\r\n\r\n  name = null;\r\n  firstLetterUpper = false;\r\n\r\n  static propTypes = {\r\n    name: PropTypes.string,\r\n    params: PropTypes.object\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.name = this.props.name || this.props.children;\r\n    this.firstLetterUpper = !!this.name.match(/^[A-Z-]/);\r\n  }\r\n\r\n  mapParams(text) {\r\n    if (!this.props.params) {\r\n      return text;\r\n    }\r\n\r\n    Object.keys(this.props.params).forEach(param => {\r\n      text = text.replace(`:${param}`, this.props.params[param]);\r\n    });\r\n\r\n    return text;\r\n  }\r\n\r\n  renderTranslate() {\r\n    let translate = this.name;\r\n\r\n    Object.keys(this.props.translate.data).forEach(key => {\r\n      if (this.name.toLowerCase() === key.toLowerCase()) {\r\n        translate = this.props.translate.data[key];\r\n      }\r\n    });\r\n\r\n    return this.mapParams(\r\n      this.firstLetterUpper\r\n        ? translate.charAt(0).toUpperCase() + translate.slice(1)\r\n        : translate.charAt(0).toLowerCase() + translate.slice(1)\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        { this.renderTranslate() }\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport Translate from \"../containers/Translate/Translate\";\r\n\r\nexport default class ErrorHelper {\r\n  static errorSummery(errors, message) {\r\n    return (\r\n      <div>\r\n        <div><strong>{message}</strong></div>\r\n        {Object.keys(errors).map(key => {\r\n          return errors[key].map((error, index) => {\r\n            return <div key={key + index}>{error}</div>;\r\n          });\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  static getMessageByError(error) {\r\n    // validation error\r\n    const status = error.response ? error.response.status : 0;\r\n\r\n    switch (status) {\r\n      case 422:\r\n        const { errors, message } = error.response.data;\r\n        return ErrorHelper.errorSummery(errors, message);\r\n      case 401:\r\n        return <Translate>ErrorAuth</Translate>;\r\n      default:\r\n        try {\r\n          return error.response ? error.response.data.message : error.message;\r\n        } catch (e) {\r\n          return 'Error';\r\n        }\r\n    }\r\n  }\r\n}","import {\r\n  LOGIN_FORM_LOADER,\r\n  LOGIN_FORM_SUCCESS,\r\n  LOGIN_FORM_FAIL\r\n} from '../actionTypes';\r\nimport axios from '../../../axios/axios-api';\r\nimport env from '../../../env/env';\r\nimport AuthService from '../../../services/auth/AuthService';\r\nimport ErrorHelper from \"../../../helpers/ErrorHelper\";\r\nimport { login, getUser } from \"../user/userAction\";\r\n\r\nexport function submit(params) {\r\n  return async dispatch => {\r\n    dispatch(loader());\r\n\r\n    const paramAuth = dataAuthByParams(params);\r\n\r\n    try {\r\n      const { data } = await axios.post('/oauth/token', paramAuth);\r\n\r\n      safeAuthData(data);\r\n\r\n      const response = await getUser();\r\n\r\n      dispatch(success());\r\n      dispatch(login(response.data));\r\n\r\n    } catch (e) {\r\n      AuthService.getInstance().removeAll();\r\n      dispatch(error(ErrorHelper.getMessageByError(e)))\r\n    }\r\n  }\r\n}\r\n\r\nexport function safeAuthData(data) {\r\n  AuthService.getInstance()\r\n    .removeAll()\r\n    .setToken(data.access_token)\r\n    .setRefreshToken(data.refresh_token)\r\n    .setExpiresIn(data.expires_in);\r\n}\r\n\r\nexport function dataAuthByParams(params) {\r\n  return {\r\n    grant_type: 'password',\r\n    client_id: env.auth.clientId,\r\n    client_secret: env.auth.clientSecret,\r\n    username: params.email,\r\n    password: params.password,\r\n    scope: '',\r\n  }\r\n}\r\n\r\nexport function error(error) {\r\n  return { type: LOGIN_FORM_FAIL, payload: error };\r\n}\r\n\r\nexport function success() {\r\n  return { type: LOGIN_FORM_SUCCESS };\r\n}\r\n\r\nexport function loader() {\r\n  return { type: LOGIN_FORM_LOADER }\r\n}","export default class EchoDecorator {\r\n  constructor(echoService) {\r\n    this.echoService = echoService;\r\n    return new Proxy(echoService, this);\r\n  }\r\n\r\n  get(target, prop) {\r\n    if (this[prop]) {\r\n      return (...args) => this[prop].apply(this, args);\r\n    }\r\n\r\n    if (typeof target[prop] === 'function') {\r\n      return (...args) => target[prop].apply(target, args);\r\n    } else {\r\n      return target[prop];\r\n    }\r\n  }\r\n\r\n  unsubscribeIfExist(channel) {\r\n    Object.keys(this.echoService.connector.channels).map(channelName => {\r\n      channel === channelName ? this.echoService.leave(channelName) : null;\r\n    });\r\n  }\r\n\r\n  /** @todo Test */\r\n  hasChannel(channel) {\r\n    return Object.keys(this.echoService.connector.channels).find(channelName => {\r\n      return channel === channelName;\r\n    });\r\n  }\r\n\r\n  private(channel) {\r\n    this.unsubscribeIfExist(`private-${channel}`);\r\n    return this.echoService.private(channel);\r\n  }\r\n}","import Echo from 'laravel-echo';\r\nimport axios from 'axios';\r\nimport FetchService from \"../services/fetch/FetchService\";\r\nimport EchoDecorator from './EchoDecorator';\r\n\r\nwindow.io = require('socket.io-client');\r\n\r\nconst EchoInstance = new Echo({\r\n  broadcaster: 'socket.io',\r\n  host: window.location.hostname + ':6001',\r\n  transports: ['websocket', 'polling', 'flashsocket'],\r\n});\r\n\r\nexport default function EchoServer(token = null) {\r\n  if (token === null) {\r\n    return EchoInstance;\r\n  }\r\n\r\n  window.axios = FetchService.http(axios);\r\n\r\n  EchoInstance.connector.setOptions({\r\n    auth: {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    }\r\n  });\r\n\r\n  EchoInstance.connector.connect();\r\n\r\n  return new EchoDecorator(EchoInstance);\r\n};","import AuthService from \"../../../services/auth/AuthService\";\r\nimport { RESET_STATE, USER_INIT, USER_LOGIN, USER_LOGOUT } from \"../actionTypes\";\r\nimport FetchService from \"../../../services/fetch/FetchService\";\r\nimport axios from '../../../axios/axios-api';\r\nimport env from '../../../env/env';\r\nimport { safeAuthData } from \"../login-form/loginFormAction\";\r\nimport EchoServer from \"../../../echo-server/EchoServer\";\r\n\r\nexport function getUser() {\r\n  return FetchService.http(axios).get('/user');\r\n}\r\n\r\nexport function login(user) {\r\n  return { type: USER_LOGIN, payload: user };\r\n}\r\n\r\nexport function logout(refererUrl = null, lang = null) {\r\n  return dispatch => {\r\n    const echo = EchoServer(AuthService.getInstance().getToken());\r\n\r\n    Object.keys(echo.connector.channels).map(channel => echo.leave(channel));\r\n\r\n    FetchService.http(axios).post('/auth/logout');\r\n\r\n    AuthService.getInstance().removeAll();\r\n\r\n    dispatch({\r\n      type: USER_LOGOUT, payload: refererUrl === null ? {\r\n        referer: null,\r\n        redirect: null\r\n      } : {\r\n        referer: window.location.pathname,\r\n        redirect: `/${lang}/login`\r\n      }\r\n    });\r\n\r\n    dispatch({ type: RESET_STATE });\r\n  }\r\n}\r\n\r\nexport function autoLogin() {\r\n  return async dispatch => {\r\n    if (AuthService.getInstance().isToken()) {\r\n      try {\r\n        if (AuthService.getInstance().isUpdateToken()) {\r\n          const response = await updateToken();\r\n          safeAuthData(response.data);\r\n        }\r\n\r\n        const { data } = await getUser();\r\n        dispatch(login(data));\r\n        return;\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    }\r\n\r\n    dispatch(logout());\r\n  }\r\n}\r\n\r\nexport function updateToken() {\r\n  return axios.post('/oauth/token', {\r\n    grant_type: 'refresh_token',\r\n    refresh_token: AuthService.getInstance().getRefreshToken(),\r\n    client_id: env.auth.clientId,\r\n    client_secret: env.auth.clientSecret,\r\n    scope: ''\r\n  });\r\n}","import { TRANSLATE_LOADER, TRANSLATE_CHANGE } from \"@/store/actions/actionTypes\";\r\nimport env from '@/env/env';\r\nimport axios from 'axios';\r\nimport store from '@/store/store';\r\n\r\nexport default function translateAction(locale) {\r\n  return async (dispatch, getState) => {\r\n    dispatch({ type: TRANSLATE_LOADER });\r\n\r\n    const { storage } = getState().translate;\r\n\r\n    if (storage.hasOwnProperty(locale)) {\r\n      dispatch(change(storage, storage[locale], locale));\r\n    } else {\r\n      try {\r\n        const { data } = await axios.get(`${env.langUrl}/i18n/${locale}.json`);\r\n        storage[locale] = data;\r\n\r\n        dispatch(change(storage, data, locale));\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction change(storage, data, locale) {\r\n  return { type: TRANSLATE_CHANGE, payload: { storage, data, locale } };\r\n}\r\n\r\nexport function translate(name) {\r\n  const { data } = store.getState().translate;\r\n\r\n  const findKey = Object.keys(data).find(key => name.toLowerCase() === key.toLowerCase());\r\n\r\n  if (findKey) {\r\n    return data[findKey];\r\n  }\r\n\r\n  return name;\r\n}","import { createMuiTheme } from \"@material-ui/core\";\r\nimport primary from \"@material-ui/core/colors/amber\";\r\nimport secondary from \"@material-ui/core/colors/blueGrey\";\r\nimport error from \"@material-ui/core/colors/red\";\r\nimport success from \"@material-ui/core/colors/green\";\r\n\r\nconst theme = createMuiTheme({\r\n  shape: {\r\n    borderRadius: 0\r\n  },\r\n  palette: {\r\n    type: 'dark',\r\n    primary,\r\n    secondary,\r\n    error,\r\n    success,\r\n    // background: {\r\n    //   default: '#433d3f',\r\n    //   paper: '#302a2c'\r\n    // }\r\n  },\r\n  typography: {\r\n    useNextVariants: true,\r\n  }\r\n});\r\n\r\nexport default theme;","import theme from './style.theme';\r\n\r\nconst styles = {\r\n  '@global': {\r\n    body: {\r\n      ...theme.typography.body1,\r\n    },\r\n    a: {\r\n      color: theme.palette.primary.main,\r\n      textDecoration: 'none',\r\n      '&:hover': {\r\n        color: 'inherit'//theme.palette.primary.light\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport default styles;","import React, { Component } from 'react'\r\nimport { MuiThemeProvider, withStyles, createGenerateClassName, jssPreset } from '@material-ui/core/styles'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport JssProvider from 'react-jss/lib/JssProvider'\r\nimport { create } from 'jss'\r\n\r\nimport theme from './style.theme'\r\nimport styles from './style'\r\n\r\nconst generateClassName = createGenerateClassName();\r\nconst jss = create(jssPreset());\r\n\r\n@withStyles(styles)\r\nexport default class Layout extends Component {\r\n  render() {\r\n    return (\r\n      <JssProvider jss={jss} generateClassName={generateClassName}>\r\n        <MuiThemeProvider theme={theme}>\r\n          <CssBaseline />\r\n          {this.props.children}\r\n        </MuiThemeProvider>\r\n      </JssProvider>\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst styles = theme => ({\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(1150 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 1150,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  }\r\n});\r\n\r\nconst Container = props => {\r\n  const { classes } = props;\r\n\r\n  return (\r\n    <div className={classes.layout}>\r\n      {props.children}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default withStyles(styles)(Container)","import React from 'react';\r\nimport { NavLink as BaseLink } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = theme => ({\r\n  button: {\r\n    '&.active': {\r\n      color: blue[400]\r\n    },\r\n    '&:hover': {\r\n      color: blue[400]\r\n    }\r\n  }\r\n});\r\n\r\nconst NavLink = props => (\r\n  <Button\r\n    component={BaseLink}\r\n    className={props.classes.button}\r\n    to={props.to}\r\n    exact={props.exact || false}\r\n  >\r\n    {props.children}\r\n  </Button>\r\n);\r\n\r\nexport default withStyles(styles)(NavLink);","import FetchService from \"../../../../services/fetch/FetchService\";\r\nimport AuthService from \"../../../../services/auth/AuthService\";\r\nimport axios from \"../../../../axios/axios-api\";\r\nimport EchoServer from \"../../../../echo-server/EchoServer\";\r\nimport { NEW_FRIEND_REQUEST_CHANGE, NEW_FRIEND_REQUEST_RESULT } from \"../../actionTypes\";\r\n\r\nexport function getRequests() {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      const { data } = await FetchService.http(axios).get(`/user/friends-list/total-new-requests`);\r\n      dispatch(success(data.total));\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n}\r\n\r\nfunction success(total) {\r\n  return { type: NEW_FRIEND_REQUEST_RESULT, payload: +total }\r\n}\r\n\r\nfunction addNewRequest() {\r\n  return { type: NEW_FRIEND_REQUEST_CHANGE, payload: 1 };\r\n}\r\n\r\nexport function removeRequest() {\r\n  return { type: NEW_FRIEND_REQUEST_CHANGE, payload: -1 };\r\n}\r\n\r\nexport function listenNewRequests() {\r\n  return (dispatch, getState) => {\r\n    const state = getState();\r\n    const { user } = state.user;\r\n\r\n    const token = AuthService.getInstance().getToken();\r\n    const channelName = `hello.${user.id}`;\r\n    const echo = EchoServer(token);\r\n\r\n    echo.private(channelName).on('invite', data => {\r\n      dispatch(addNewRequest());\r\n    });\r\n  }\r\n}\r\n\r\nexport function unsubscribeNewRequests(userId) {\r\n  const token = AuthService.getInstance().getToken();\r\n  EchoServer(token).leave(`hello.${userId}`);\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Badge from \"@material-ui/core/Badge/Badge\";\r\nimport NotificationImportant from \"@material-ui/icons/NotificationImportant\";\r\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\r\nimport {\r\n  getRequests,\r\n  listenNewRequests,\r\n  unsubscribeNewRequests\r\n} from \"@/store/actions/friends/requests/friendsNewRequestsAction\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress/CircularProgress\";\r\n\r\n@withRouter\r\n@connect(\r\n  state => ({ locale: state.translate.locale, ...state.friendsNewRequests }),\r\n  dispatch => ({\r\n    getRequests: () => dispatch(getRequests()),\r\n    requestListener: () => dispatch(listenNewRequests()),\r\n  })\r\n)\r\nexport default class LinkMenuNewFriends extends Component {\r\n  componentWillMount() {\r\n    this.props.requestListener();\r\n    this.props.getRequests();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    unsubscribeNewRequests()\r\n  }\r\n\r\n  render() {\r\n    if (this.props.loader) {\r\n      return (\r\n        <CircularProgress\r\n          variant=\"indeterminate\"\r\n          disableShrink\r\n          size={24}\r\n          thickness={4}\r\n        />\r\n      )\r\n    }\r\n\r\n    return (\r\n      <IconButton\r\n        color=\"inherit\"\r\n        component={Link}\r\n        to={`/${this.props.locale}/invites`}\r\n      >\r\n        {this.props.total > 0 ? (\r\n          <Badge badgeContent={this.props.total} color=\"primary\">\r\n            <NotificationImportant />\r\n          </Badge>\r\n        ) : (\r\n          <NotificationImportant />\r\n        )}\r\n      </IconButton>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react'\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport Container from '@/components/UI/Container/Container';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport NavLink from \"@/components/UI/NavLink/NavLink\";\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport Face from '@material-ui/icons/Face';\r\nimport Language from '@material-ui/icons/Language';\r\nimport Translate from \"@/containers/Translate/Translate\";\r\nimport LinkMenuNewFriends from \"@/containers/LinkMenuNewFriends/LinkMenuNewFriends\";\r\nimport styles from '@/containers/Header/styles';\r\n\r\n@withRouter\r\n@withStyles(styles)\r\nexport default class Header extends Component {\r\n  state = {\r\n    menuLang: null,\r\n    menuMobile: null,\r\n    menuUser: null\r\n  };\r\n\r\n  changeLanguageHandler(lang) {\r\n    const { languages, locale, location, history, onChangeLang } = this.props;\r\n\r\n    if (lang !== locale) {\r\n      let path = location.pathname;\r\n      let state = false;\r\n\r\n      languages.forEach(item => {\r\n        let str = `/${item.lang}`;\r\n\r\n        if (path.indexOf(str) === 0 && !state) {\r\n          path = path.replace(str, `/${lang}`);\r\n        }\r\n      });\r\n\r\n      onChangeLang(lang);\r\n\r\n      // replace url\r\n      history.push(path);\r\n    }\r\n\r\n    this.setState({ menuLang: null });\r\n  }\r\n\r\n  logoutHandler() {\r\n    this.setState({ menuUser: null }, () => {\r\n      this.props.logout();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { classes, languages, user, locale, loader } = this.props;\r\n    const { menuLang, menuMobile, menuUser } = this.state;\r\n\r\n    const renderMenuLang = (\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={menuLang}\r\n        open={Boolean(menuLang)}\r\n        onClose={() => this.setState({ menuLang: null })}\r\n      >\r\n        {languages.map((item, index) => {\r\n          return (\r\n            <MenuItem key={index} onClick={this.changeLanguageHandler.bind(this, item.lang)}>\r\n              {item.label}\r\n            </MenuItem>\r\n          )\r\n        })}\r\n      </Menu>\r\n    );\r\n\r\n    const renderMenuMobile = (\r\n      <Menu\r\n        anchorEl={menuMobile}\r\n        open={Boolean(menuMobile)}\r\n        onClose={() => this.setState({ menuMobile: null })}\r\n      >\r\n        <MenuItem component={Link} to={`/${locale}`}>\r\n          <Translate>Home</Translate>\r\n        </MenuItem>\r\n        <MenuItem component={Link} to={`/${locale}/about`}>\r\n          <Translate>About</Translate>\r\n        </MenuItem>\r\n        <MenuItem component={Link} to={`/${locale}/people`}>\r\n          <Translate>People</Translate>\r\n        </MenuItem>\r\n        <MenuItem\r\n          disabled={loader}\r\n          onClick={event => this.setState({ menuLang: event.currentTarget })}\r\n        >\r\n          <Language/> &nbsp; {locale.toUpperCase()}\r\n        </MenuItem>\r\n        {\r\n          user.isGuest ? (\r\n            <MenuItem disabled={user.loader} component={Link} to={`/${locale}/login`}>\r\n              <AccountCircle /> &nbsp; <Translate>Login</Translate>\r\n            </MenuItem>\r\n          ) : (\r\n            <MenuItem\r\n              onClick={event => this.setState({ menuUser: event.currentTarget })}\r\n            >\r\n              <Face /> &nbsp; {user.user.name}\r\n            </MenuItem>\r\n          )\r\n        }\r\n      </Menu>\r\n    );\r\n\r\n    const renderMenu = (\r\n      <Menu\r\n        anchorEl={menuUser}\r\n        open={Boolean(menuUser)}\r\n        onClose={() => this.setState({ menuUser: null })}\r\n      >\r\n        <MenuItem\r\n          component={Link}\r\n          to={`/${locale}/profile`}\r\n          onClick={() => this.setState({ menuUser: null })}\r\n        >\r\n          <Translate>Profile</Translate>\r\n        </MenuItem>\r\n        <MenuItem onClick={() => this.logoutHandler()}>\r\n          <Translate>Logout</Translate>\r\n        </MenuItem>\r\n      </Menu>\r\n    );\r\n\r\n    return (\r\n      <AppBar position=\"sticky\" color=\"default\" className={classes.root}>\r\n        <Container>\r\n          <Toolbar className={classes.toolbar}>\r\n            {/*<Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>*/}\r\n              {/*<NavLink to={`/${this.props.locale}`} exact>*/}\r\n                {/*<Home /> &nbsp; GameLove*/}\r\n              {/*</NavLink>*/}\r\n            {/*</Typography>*/}\r\n\r\n            <div className={classes.grow} />\r\n\r\n            {user.isGuest ? null : <LinkMenuNewFriends /> }\r\n\r\n            <div className={classes.sectionDesktop}>\r\n              <NavLink exact={true} to={`/${locale}`}>\r\n                <Translate>Home</Translate>\r\n              </NavLink>\r\n              <NavLink to={`/${locale}/about`}>\r\n                <Translate>About</Translate>\r\n              </NavLink>\r\n              <NavLink exact={true} to={`/${locale}/people`}>\r\n                <Translate>People</Translate>\r\n              </NavLink>\r\n              {\r\n                user.isGuest ? (\r\n                  <NavLink disabled={user.loader} to={`/${locale}/login`}>\r\n                    <AccountCircle />\r\n                    &nbsp; <Translate>Login</Translate>\r\n                  </NavLink>\r\n                ) : (\r\n                  <Button\r\n                    aria-owns={menuUser ? 'simple-menu' : undefined}\r\n                    aria-haspopup=\"true\"\r\n                    onClick={event => this.setState({ menuUser: event.currentTarget })}\r\n                    color=\"primary\"\r\n                  >\r\n                    <Face /> &nbsp; {user.user.name}\r\n                  </Button>\r\n                )\r\n              }\r\n              <Button\r\n                disabled={loader}\r\n                aria-owns={menuLang ? 'simple-menu' : undefined}\r\n                aria-haspopup=\"true\"\r\n                onClick={event => this.setState({ menuLang: event.currentTarget })}\r\n                color=\"primary\"\r\n              >\r\n                <Language /> &nbsp; {locale.toUpperCase()}\r\n              </Button>\r\n            </div>\r\n            <div className={classes.sectionMobile}>\r\n              <IconButton\r\n                aria-haspopup=\"true\"\r\n                onClick={event => this.setState({ menuMobile: event.currentTarget })}\r\n                color=\"inherit\"\r\n              >\r\n                <MoreIcon />\r\n              </IconButton>\r\n            </div>\r\n          </Toolbar>\r\n\r\n          {renderMenuLang}\r\n          {renderMenuMobile}\r\n          { !user.isGuest ? renderMenu : null }\r\n        </Container>\r\n      </AppBar>\r\n    );\r\n  }\r\n}","export default theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  toolbar: {\r\n    padding: 0\r\n  },\r\n  sectionDesktop: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'none',\r\n    },\r\n  }\r\n})","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport translateAction from \"../../../store/actions/translate/translateAction\";\r\n\r\n@withRouter\r\n@connect(\r\n  state => ({ translate: state.translate }),\r\n  dispatch => ({\r\n    onChangeLang: lang => dispatch(translateAction(lang))\r\n  })\r\n)\r\nexport default class Language extends Component {\r\n\r\n  componentDidMount() {\r\n    const { onChangeLang, match, translate } = this.props;\r\n\r\n    if (this.isLangExist() && !this.isLangCorrect()) {\r\n      onChangeLang(match.params.lang);\r\n    } else {\r\n      onChangeLang(translate.locale);\r\n    }\r\n  }\r\n\r\n  isLangCorrect() {\r\n    const { translate, match } = this.props;\r\n    return translate.locale === match.params.lang\r\n  }\r\n\r\n  isLangExist() {\r\n    const { translate, match } = this.props;\r\n    return translate.languages.some(item => item.lang === match.params.lang);\r\n  }\r\n\r\n  render() {\r\n    const { translate } = this.props;\r\n\r\n    if (!this.isLangExist()) {\r\n      return <Redirect to={`/${translate.locale}`} />\r\n    }\r\n\r\n    return <div />\r\n  }\r\n}","import React, {Component} from 'react'\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from '@/components/UI/Container/Container'\r\n\r\nexport default class Home extends Component {\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Typography component=\"h1\" variant=\"h4\" gutterBottom>\r\n          Hello\r\n        </Typography>\r\n      </Container>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react'\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from '@/components/UI/Container/Container'\r\n\r\nexport default class About extends Component {\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Typography component=\"h1\" variant=\"h4\" gutterBottom>\r\n          About\r\n        </Typography>\r\n      </Container>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport Translate from '@/containers/Translate/Translate';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AuthWrapper = ({ title, children, disabled, onClick, buttonText, locale, hideAction }) => (\r\n  <Dialog\r\n    open={true}\r\n    aria-labelledby=\"alert-dialog-title\"\r\n    aria-describedby=\"alert-dialog-description\"\r\n    scroll=\"body\"\r\n  >\r\n    <DialogTitle id=\"alert-dialog-title\">\r\n      {title}\r\n    </DialogTitle>\r\n    <DialogContent>\r\n      {children}\r\n    </DialogContent>\r\n    <DialogActions>\r\n      <Button\r\n        component={Link}\r\n        color=\"secondary\"\r\n        to={`/${locale}`}\r\n      >\r\n        <Translate>Close</Translate>\r\n      </Button>\r\n      {hideAction ? null : (\r\n        <Button\r\n          disabled={disabled}\r\n          onClick={onClick}\r\n          color=\"primary\"\r\n        >\r\n          {buttonText}\r\n        </Button>\r\n      )}\r\n    </DialogActions>\r\n  </Dialog>\r\n);\r\n\r\nexport default AuthWrapper;","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = theme => ({\r\n  alert: {\r\n    padding: theme.spacing.unit * 2,\r\n    // borderWidth: '1px',\r\n    // borderStyle: 'solid',\r\n    boxSizing: 'border-box',\r\n    boxShadow: theme.boxShadow,\r\n  },\r\n  alertDanger: {\r\n    background: `linear-gradient(45deg, ${theme.palette.error[700]} 30%, ${theme.palette.error[800]} 90%)`,\r\n    // borderColor: theme.palette.error[800],\r\n    color: theme.palette.error['A100']\r\n  },\r\n  alertSuccess: {\r\n    background: `linear-gradient(45deg, ${theme.palette.success[400]} 30%, ${theme.palette.success[500]} 90%)`,\r\n    // borderColor: theme.palette.success[500],\r\n    color: theme.palette.success[900]\r\n  },\r\n  alertWarning: {\r\n    background: `linear-gradient(45deg, ${theme.palette.primary[400]} 30%, ${theme.palette.primary[500]} 90%)`,\r\n    // borderColor: theme.palette.primary[500],\r\n    color: 'black'\r\n  },\r\n  alertInfo: {\r\n    background: `linear-gradient(45deg, ${theme.palette.secondary[400]} 30%, ${theme.palette.secondary[500]} 90%)`,\r\n    // borderColor: theme.palette.secondary[400],\r\n    color: theme.palette.secondary[900]\r\n  }\r\n});\r\n\r\nconst Alert = ({ classes, type, className, ...props }) => (\r\n  <div className={classNames(className, classes.alert, {\r\n    [classes.alertDanger]: type === 'danger',\r\n    [classes.alertSuccess]: type === 'success',\r\n    [classes.alertWarning]: type === 'warning',\r\n    [classes.alertInfo]: type === 'info',\r\n  })}>\r\n    {props.children}\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(Alert);","import is from 'is_js'\r\n\r\nexport function isRequired(value) {\r\n  return !is.empty(value);\r\n}\r\n\r\nexport function isBoolean(value) {\r\n  return is.boolean(value);\r\n}\r\n\r\nexport function confirm(control) {\r\n  return (value, form) => form.control(control).getValue() === value;\r\n}\r\n\r\nexport function isNumber(value) {\r\n  return !!String(value).match(/^\\d+$/)\r\n}\r\n\r\nexport function isFloat(value) {\r\n  return !!String(value).match(/^\\d+(\\.\\d+)?$/)\r\n}\r\n\r\nexport function min(min) {\r\n  return (value, form) => (isNumber(value) || isFloat(value)) && +value >= min\r\n}\r\n\r\nexport function max(max) {\r\n  return (value, form) => (isNumber(value) || isFloat(value)) && +value <= max\r\n}\r\n\r\nexport function minLength(min) {\r\n  return (value, form) => String(value).length >= min\r\n}\r\n\r\nexport function maxLength(max) {\r\n  return (value, form) => String(value).length <= max\r\n}\r\n\r\nexport function isEmail(value) {\r\n  return is.email(value)\r\n}","import is from 'is_js';\r\nimport { isRequired } from \"./Validators\";\r\n\r\nconst isEmpty = value => is.empty(value);\r\n\r\nexport default class FormControl {\r\n\r\n  valid = true;\r\n  name = null;\r\n\r\n  /*\r\n   * @param String defaultValue\r\n   * @param Function[] rules\r\n   */\r\n  constructor(defaultValue, rules) {\r\n    this.value = String(defaultValue || '');\r\n    this.rules = rules.sort(FormControl.sortRules);\r\n  }\r\n\r\n  getValue() {\r\n    return this.value;\r\n  }\r\n\r\n  setValue(value, form) {\r\n    this.value = value;\r\n    this.validate(form);\r\n  }\r\n\r\n  setName(name) {\r\n    this.name = name;\r\n  }\r\n\r\n  getName() {\r\n    return this.name;\r\n  }\r\n\r\n  getRules() {\r\n    return this.rules;\r\n  }\r\n\r\n  validate(form) {\r\n    this.valid = true;\r\n\r\n    const firstRule = this.getRules().slice(0, 1)[0] || null;\r\n\r\n    if (firstRule && firstRule.name !== isRequired.name && isEmpty(this.getValue())) {\r\n      this.valid = true;\r\n    } else {\r\n      this.getRules().forEach(rule => {\r\n        this.valid = rule(this.getValue(), form) && this.valid;\r\n      });\r\n    }\r\n\r\n    return this.valid;\r\n  }\r\n\r\n  static sortRules(fn1, fn2) {\r\n    if (fn1.name === isRequired.name) {\r\n      return -1;\r\n    } else if (fn2.name === isRequired.name) {\r\n      return 1;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n}","import FormControl from './FormControl'\r\n\r\nexport default class FormGroup {\r\n\r\n  controls = {};\r\n\r\n  constructor(controls) {\r\n    Object.keys(controls).forEach(name => {\r\n      const control = controls[name];\r\n      control.setName(name);\r\n      this.controls[control.getName()] = control;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @return FormControl|null\r\n   */\r\n  control(name) {\r\n    return this.controls[name] || null;\r\n  }\r\n\r\n  setValue(controlName, value) {\r\n    const control = this.control(controlName);\r\n\r\n    if (!control) {\r\n      throw new Error(`Control ${controlName} in not found`);\r\n    }\r\n\r\n    control.setValue(value, this);\r\n    return this;\r\n  }\r\n\r\n  update(callable) {\r\n    callable(this.clone());\r\n  }\r\n\r\n  /** @return FormGroup */\r\n  clone() {\r\n    return Object.assign(Object.create(this), this);\r\n  }\r\n\r\n  each(callable) {\r\n    Object.keys(this.controls)\r\n      .forEach(key => callable(key, this.controls[key]));\r\n  }\r\n\r\n  validate() {\r\n    this.each((controlName, control) => control.validate(this));\r\n    return this.isValid();\r\n  }\r\n\r\n  isValid() {\r\n    let isValid = true;\r\n    this.each((controlName, control) => isValid = isValid && control.valid);\r\n    return isValid;\r\n  }\r\n\r\n  getValues() {\r\n    let values = {};\r\n    this.each((controlName, control) => values[controlName] = control.getValue());\r\n    return values;\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { submit } from '@/store/actions/login-form/loginFormAction';\r\nimport AuthWrapper from '@/containers/Pages/Auth/AuthWrapper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Translate from '@/containers/Translate/Translate';\r\nimport Alert from '@/components/UI/Alert/Alert';\r\nimport { Link } from 'react-router-dom';\r\nimport { FormGroup, FormControl, Validators } from '@/form';\r\n\r\n@connect(\r\n  state => ({ ...state.loginForm, locale: state.translate.locale }),\r\n  dispatch => ({\r\n    onSubmit: data => dispatch(submit(data))\r\n  })\r\n)\r\nexport default class Login extends Component {\r\n\r\n  state = {\r\n    form: new FormGroup({\r\n      email: new FormControl('', [\r\n        Validators.isRequired,\r\n        Validators.isEmail\r\n      ]),\r\n      password: new FormControl('', [\r\n        Validators.isRequired,\r\n        Validators.minLength(5)\r\n      ])\r\n    })\r\n  };\r\n\r\n  sendFormHandler() {\r\n    this.state.form.update(form => {\r\n      const valid = form.validate();\r\n      this.setState({ form });\r\n\r\n      if (valid) {\r\n        this.props.onSubmit(form.getValues())\r\n      }\r\n    });\r\n  }\r\n\r\n  submitHandler(event) {\r\n    event.preventDefault();\r\n    this.sendFormHandler();\r\n  }\r\n\r\n  changeHandler(event, controlName) {\r\n    this.state.form.update(form => {\r\n      form.setValue(controlName, event.target.value);\r\n      this.setState({ form })\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { loader, error, errorMessage, locale } = this.props;\r\n\r\n    const { form } = this.state;\r\n    const email = form.control('email');\r\n    const password = form.control('password');\r\n\r\n    return (\r\n      <AuthWrapper\r\n        title={<Translate>Sign in</Translate>}\r\n        buttonText={<Translate>Sign in</Translate>}\r\n        locale={locale}\r\n        disabled={loader || !form.isValid()}\r\n        onClick={this.sendFormHandler.bind(this)}\r\n      >\r\n        <form\r\n          className=\"mb-15\"\r\n          onSubmit={event => this.submitHandler(event)}\r\n          noValidate\r\n          autoComplete=\"off\"\r\n        >\r\n          <TextField\r\n            fullWidth\r\n            error={!email.valid}\r\n            label={<Translate>Email</Translate>}\r\n            value={email.getValue()}\r\n            onChange={event => this.changeHandler(event, 'email')}\r\n            margin=\"normal\"\r\n            helperText={\r\n              !email.valid\r\n                ? <Translate params={{ field: 'Email' }}>RequiredFieldForm</Translate>\r\n                : null\r\n            }\r\n          />\r\n\r\n          <TextField\r\n            fullWidth\r\n            type=\"password\"\r\n            error={!password.valid}\r\n            label={<Translate>Password</Translate>}\r\n            value={password.getValue()}\r\n            onChange={event => this.changeHandler(event, 'password')}\r\n            margin=\"normal\"\r\n            helperText={\r\n              !password.valid\r\n                ? <Translate params={{ field: 'Password' }}>RequiredFieldForm</Translate>\r\n                : null\r\n            }\r\n          />\r\n        </form>\r\n\r\n        <div>\r\n          <Link to={`/${locale}/register`}>\r\n            <Translate name=\"Do you have not account?\" />\r\n          </Link>\r\n        </div>\r\n        <div>\r\n          <Link to={`/${locale}/restore-password`}>\r\n            <Translate name=\"Do you forget password?\" />\r\n          </Link>\r\n        </div>\r\n\r\n        {loader ? <CircularProgress color=\"primary\" className=\"mt-15\" /> : null}\r\n\r\n        {error ? (\r\n          <Alert className=\"mt-15\" type=\"danger\">\r\n            {errorMessage}\r\n          </Alert>\r\n        ) : null}\r\n      </AuthWrapper>\r\n    )\r\n  }\r\n}\r\n","import {\r\n  REGISTER_FORM_FAIL,\r\n  REGISTER_FORM_LOADER,\r\n  REGISTER_FORM_SUCCESS\r\n} from \"../actionTypes\";\r\nimport axios from '../../../axios/axios-api';\r\nimport ErrorHelper from \"../../../helpers/ErrorHelper\";\r\n\r\nexport function register(formData) {\r\n  return async (dispatch, getState) => {\r\n    dispatch(loader());\r\n\r\n    try {\r\n      const { data } = await axios.post(`/auth/register`, formData);\r\n      dispatch(success(data.data.message));\r\n    } catch (e) {\r\n      dispatch(fail(ErrorHelper.getMessageByError(e)));\r\n    }\r\n  }\r\n}\r\n\r\nexport function fail(message) {\r\n  return { type: REGISTER_FORM_FAIL, payload: message }\r\n}\r\n\r\nexport function success(message) {\r\n  return { type: REGISTER_FORM_SUCCESS, payload: message }\r\n}\r\n\r\nexport function loader() {\r\n  return { type: REGISTER_FORM_LOADER }\r\n}","export default theme => ({\r\n  danger: {\r\n    color: theme.palette.error.main\r\n  },\r\n  success: {\r\n    color: theme.palette.success.main\r\n  }\r\n})","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Alert from '@/components/UI/Alert/Alert';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Translate from '@/containers/Translate/Translate';\r\nimport { Link } from 'react-router-dom';\r\nimport { FormGroup, FormControl, Validators } from '@/form';\r\nimport { register as submit } from '@/store/actions/register-form/registerFormAction';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport AuthWrapper from '@/containers/Pages/Auth/AuthWrapper';\r\nimport styles from '@/containers/Pages/Auth/Register/styles';\r\n\r\n@withStyles(styles)\r\n@connect(\r\n  state => ({ ...state.registerForm, locale: state.translate.locale }),\r\n  dispatch => ({\r\n    onSubmit: formData => dispatch(submit(formData))\r\n  })\r\n)\r\nexport default class Register extends Component {\r\n  state = {\r\n    form: new FormGroup({\r\n      name: new FormControl('', [\r\n        Validators.isRequired,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(15)\r\n      ]),\r\n      email: new FormControl('', [\r\n        Validators.isRequired,\r\n        Validators.isEmail\r\n      ]),\r\n      password: new FormControl('', [\r\n        Validators.isRequired,\r\n        Validators.minLength(5)\r\n      ])\r\n    })\r\n  };\r\n\r\n  changeHandler(event, controlName) {\r\n    this.state.form.update(form => {\r\n      form.setValue(controlName, event.target.value);\r\n      this.setState({ form });\r\n    });\r\n  }\r\n\r\n  registerHandler() {\r\n    this.state.form.update(form => {\r\n      const valid = form.validate();\r\n      this.setState({ form });\r\n\r\n      if (valid) {\r\n        this.props.onSubmit(form.getValues())\r\n      }\r\n    });\r\n  }\r\n\r\n  submitHandler(event) {\r\n    event.preventDefault();\r\n    this.registerHandler();\r\n  }\r\n\r\n  render() {\r\n    const { locale, loader, error, success } = this.props;\r\n\r\n    const { form } = this.state;\r\n    const name = form.control('name');\r\n    const email = form.control('email');\r\n    const password = form.control('password');\r\n\r\n    return (\r\n      <AuthWrapper\r\n        title={<Translate>Sign Up</Translate>}\r\n        buttonText={<Translate>Sign Up</Translate>}\r\n        locale={locale}\r\n        disabled={loader || !form.isValid()}\r\n        onClick={this.registerHandler.bind(this)}\r\n      >\r\n        <form\r\n          className=\"mb-15\"\r\n          onSubmit={event => this.submitHandler(event)}\r\n          noValidate\r\n          autoComplete=\"off\"\r\n        >\r\n          <TextField\r\n            fullWidth\r\n            error={!name.valid}\r\n            label={<Translate>Username</Translate>}\r\n            value={name.getValue()}\r\n            onChange={event => this.changeHandler(event, 'name')}\r\n            margin=\"normal\"\r\n            helperText={\r\n              !name.valid\r\n                ? <Translate params={{ field: 'Username' }}>RequiredFieldForm</Translate>\r\n                : null\r\n            }\r\n          />\r\n\r\n          <TextField\r\n            fullWidth\r\n            error={!email.valid}\r\n            label={<Translate>Email</Translate>}\r\n            value={email.getValue()}\r\n            onChange={event => this.changeHandler(event, 'email')}\r\n            margin=\"normal\"\r\n            helperText={\r\n              !email.valid\r\n                ? <Translate params={{ field: 'Email' }}>RequiredFieldForm</Translate>\r\n                : null\r\n            }\r\n          />\r\n\r\n          <TextField\r\n            fullWidth\r\n            type=\"password\"\r\n            error={!password.valid}\r\n            label={<Translate>Password</Translate>}\r\n            value={password.getValue()}\r\n            onChange={event => this.changeHandler(event, 'password')}\r\n            margin=\"normal\"\r\n            helperText={\r\n              !password.valid\r\n                ? <Translate params={{ field: 'Password' }}>RequiredFieldForm</Translate>\r\n                : null\r\n            }\r\n          />\r\n        </form>\r\n\r\n        <DialogContentText>\r\n          <Link to={`/${locale}/login`}>\r\n            <Translate>\r\n              Do you have account?\r\n            </Translate>\r\n          </Link>\r\n        </DialogContentText>\r\n\r\n        { loader ? <CircularProgress color=\"primary\" className=\"mt-15\" /> : null }\r\n\r\n        {error ? <Alert className=\"mt-15\" type=\"danger\">{error}</Alert> : null}\r\n        {success ? <Alert className=\"mt-15\" type=\"success\">{success}</Alert> : null}\r\n      </AuthWrapper>\r\n    )\r\n  }\r\n}","import {\r\n  RESTORE_PASSWORD_SEND_CODE_EMAIL,\r\n  RESTORE_PASSWORD_SEND_CODE_FAIL,\r\n  RESTORE_PASSWORD_SEND_CODE_SUCCESS,\r\n  RESTORE_PASSWORD_CHANGE_EMAIL,\r\n  RESTORE_PASSWORD_VERIFY_EMAIL,\r\n  RESTORE_PASSWORD_VERIFY_FAIL,\r\n  RESTORE_PASSWORD_VERIFY_SUCCESS\r\n} from '../actionTypes';\r\nimport ErrorHelper from \"../../../helpers/ErrorHelper\";\r\nimport axios from '../../../axios/axios-api';\r\n\r\nexport function sendEmail(email) {\r\n  return async (dispatch, getState) => {\r\n    dispatch(sendEmailLoader());\r\n\r\n    try {\r\n      const { data } = await axios.post(`/auth/restore`, { email });\r\n      dispatch(sendEmailSuccess(email, data.message));\r\n    } catch (e) {\r\n      dispatch(sendEmailFail(ErrorHelper.getMessageByError(e)))\r\n    }\r\n  }\r\n}\r\n\r\nexport function sendEmailLoader() {\r\n  return { type: RESTORE_PASSWORD_SEND_CODE_EMAIL };\r\n}\r\n\r\nexport function sendEmailFail(message) {\r\n  return { type: RESTORE_PASSWORD_SEND_CODE_FAIL, payload: message };\r\n}\r\n\r\nexport function sendEmailSuccess(email, message) {\r\n  return { type: RESTORE_PASSWORD_SEND_CODE_SUCCESS, payload: { email, message } };\r\n}\r\n\r\nexport function changeEmail() {\r\n  return { type: RESTORE_PASSWORD_CHANGE_EMAIL };\r\n}\r\n\r\nexport function sendNewPassword(formData) {\r\n  return async (dispatch, getState) => {\r\n    dispatch(sendCodeLoader());\r\n\r\n    try {\r\n      const { data } = await axios.post(`/auth/change-password`, formData);\r\n      dispatch(sendCodeSuccess(data.message));\r\n    } catch (e) {\r\n      dispatch(sendCodeFail(ErrorHelper.getMessageByError(e)))\r\n    }\r\n  }\r\n}\r\n\r\nexport function sendCodeLoader() {\r\n  return { type: RESTORE_PASSWORD_VERIFY_EMAIL };\r\n}\r\n\r\nexport function sendCodeFail(message) {\r\n  return { type: RESTORE_PASSWORD_VERIFY_FAIL, payload: message };\r\n}\r\n\r\nexport function sendCodeSuccess(message) {\r\n  return { type: RESTORE_PASSWORD_VERIFY_SUCCESS, payload: message };\r\n}","import React, { Component } from 'react';\r\nimport { FormGroup, FormControl, Validators } from '@/form';\r\nimport TextField from \"@material-ui/core/es/TextField/TextField\";\r\nimport Translate from \"@/containers/Translate/Translate\";\r\nimport Link from \"react-router-dom/es/Link\";\r\nimport Alert from \"@/components/UI/Alert/Alert\";\r\nimport Grid from \"@material-ui/core/es/Grid/Grid\";\r\nimport Button from \"@material-ui/core/es/Button/Button\";\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styles from '@/containers/Pages/Auth/RestorePassword/EmailForm/styles';\r\n\r\n@withStyles(styles)\r\nexport default class EmailForm extends Component {\r\n  state = {\r\n    form: new FormGroup({\r\n      email: new FormControl('', [\r\n        Validators.isRequired,\r\n        Validators.isEmail\r\n      ])\r\n    })\r\n  };\r\n\r\n  changeHandler(event, controlName) {\r\n    this.state.form.update(form => {\r\n      form.setValue(controlName, event.target.value);\r\n      this.setState({ form });\r\n    });\r\n  }\r\n\r\n  submitHandler(event) {\r\n    event.preventDefault();\r\n\r\n    this.state.form.update(form => {\r\n      const valid = form.validate();\r\n      this.setState({ form });\r\n\r\n      if (valid) {\r\n        this.props.sendEmail(form.control('email').getValue())\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { locale, error, success, loader, classes } = this.props;\r\n    const form = this.state.form;\r\n    const email = form.control('email');\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <form\r\n          className=\"mb-15\"\r\n          onSubmit={event => this.submitHandler(event)}\r\n          noValidate\r\n          autoComplete=\"off\"\r\n        >\r\n          <Grid container spacing={0} alignItems=\"flex-end\">\r\n            <Grid item className={classes.fullWidth}>\r\n              <TextField\r\n                className=\"mb-0\"\r\n                fullWidth\r\n                error={!email.valid}\r\n                label={<Translate>Email</Translate>}\r\n                value={email.getValue()}\r\n                onChange={event => this.changeHandler(event, 'email')}\r\n                margin=\"none\"\r\n              />\r\n            </Grid>\r\n            <Grid item>\r\n              <Button\r\n                disabled={loader || !form.isValid()}\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                type=\"submit\"\r\n              >\r\n                <Translate>Send</Translate>\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          {\r\n            !email.valid\r\n              ? (\r\n                <div className={classes.error}>\r\n                  <Translate params={{ field: 'Email' }}>RequiredFieldForm</Translate>\r\n                </div>\r\n              )\r\n              : null\r\n          }\r\n        </form>\r\n\r\n        <div>\r\n          <Link to={`/${locale}/register`}>\r\n            <Translate>\r\n              Do you have not account?\r\n            </Translate>\r\n          </Link>\r\n        </div>\r\n        <div>\r\n          <Link to={`/${locale}/login`}>\r\n            <Translate>\r\n              Do you remember password?\r\n            </Translate>\r\n          </Link>\r\n        </div>\r\n\r\n        {error ? (\r\n          <Alert className=\"mt-15\" type=\"danger\">\r\n            {error}\r\n          </Alert>\r\n        ) : null}\r\n\r\n        {success ? (\r\n          <Alert className=\"mt-15\" type=\"success\">\r\n            {success}\r\n          </Alert>\r\n        ) : null}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}","export default theme => ({\r\n  error: {\r\n    color: theme.palette.error.main,\r\n    fontSize: 'small'\r\n  },\r\n  fullWidth: {\r\n    flex: '1 1 auto',\r\n    width: '1%'\r\n  }\r\n})","import React, { Component } from 'react';\r\nimport { FormGroup, FormControl, Validators } from '@/form';\r\nimport { Button, Grid, TextField } from \"@material-ui/core/es/index\";\r\nimport Translate from \"@/containers/Translate/Translate\";\r\nimport Alert from \"@/components/UI/Alert/Alert\";\r\n\r\nexport default class PasswordForm extends Component {\r\n  state = {\r\n    form: new FormGroup({\r\n      token: new FormControl('', [\r\n        Validators.isRequired,\r\n        Validators.minLength(10)\r\n      ]),\r\n      password: new FormControl('', [\r\n        Validators.isRequired,\r\n        Validators.minLength(5)\r\n      ]),\r\n      password_confirmation: new FormControl('', [\r\n        Validators.isRequired,\r\n        Validators.confirm('password')\r\n      ])\r\n    })\r\n  };\r\n\r\n  changeHandler(event, controlName) {\r\n    this.state.form.update(form => {\r\n      form.setValue(controlName, event.target.value);\r\n      this.setState({ form });\r\n    });\r\n  }\r\n\r\n  submitHandler(event) {\r\n    event.preventDefault();\r\n\r\n    this.state.form.update(form => {\r\n      const valid = form.validate();\r\n      this.setState({ form });\r\n\r\n      if (valid) {\r\n        this.props.sendNewPassword({...form.getValues(), email: this.props.email});\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { error, success, changeEmail, loader } = this.props;\r\n\r\n    const form = this.state.form;\r\n    const token = form.control('token');\r\n    const password = form.control('password');\r\n    const passwordConfirm = form.control('password_confirmation');\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <form\r\n          className=\"mb-15\"\r\n          onSubmit={event => this.submitHandler(event)}\r\n          noValidate\r\n          autoComplete=\"off\"\r\n        >\r\n          <TextField\r\n            fullWidth\r\n            error={!token.valid}\r\n            label={<Translate>Token</Translate>}\r\n            value={token.getValue()}\r\n            onChange={event => this.changeHandler(event, 'token')}\r\n            margin=\"normal\"\r\n            helperText={\r\n              !token.valid\r\n                ? <Translate params={{ field: 'Token' }}>RequiredFieldForm</Translate>\r\n                : null\r\n            }\r\n          />\r\n\r\n          <TextField\r\n            fullWidth\r\n            type=\"password\"\r\n            error={!password.valid}\r\n            label={<Translate>New password</Translate>}\r\n            value={password.getValue()}\r\n            onChange={event => this.changeHandler(event, 'password')}\r\n            margin=\"normal\"\r\n            helperText={\r\n              !password.valid\r\n                ? <Translate params={{ field: 'New password' }}>RequiredFieldForm</Translate>\r\n                : null\r\n            }\r\n          />\r\n\r\n          <TextField\r\n            fullWidth\r\n            type=\"password\"\r\n            error={!passwordConfirm.valid}\r\n            label={<Translate>Repeat new password</Translate>}\r\n            value={passwordConfirm.getValue()}\r\n            onChange={event => this.changeHandler(event, 'password_confirmation')}\r\n            margin=\"normal\"\r\n            helperText={\r\n              !passwordConfirm.valid\r\n                ? <Translate params={{ field: 'Repeat new password' }}>RequiredFieldForm</Translate>\r\n                : null\r\n            }\r\n          />\r\n\r\n          {error ? (\r\n            <Alert className=\"mt-15\" type=\"danger\">\r\n              {error}\r\n            </Alert>\r\n          ) : null}\r\n\r\n          {success ? (\r\n            <Alert className=\"mt-15\" type=\"success\">\r\n              {success}\r\n            </Alert>\r\n          ) : null}\r\n\r\n          <div className=\"pt-15 text-right\">\r\n            <Button\r\n              onClick={changeEmail}\r\n              type=\"button\"\r\n              color=\"secondary\"\r\n            >\r\n              <Translate>Prev</Translate>\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              disabled={loader || !form.isValid()}\r\n            >\r\n              <Translate>Change password</Translate>\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  changeEmail,\r\n  sendEmail,\r\n  sendNewPassword\r\n} from \"@/store/actions/restore-password-form/restorePasswordFormAction\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport AuthWrapper from '@/containers/Pages/Auth/AuthWrapper';\r\nimport Translate from '@/containers/Translate/Translate';\r\nimport EmailForm from '@/containers/Pages/Auth/RestorePassword/EmailForm/EmailForm';\r\nimport PasswordForm from '@/containers/Pages/Auth/RestorePassword/PasswordForm/PasswordForm';\r\n\r\n@connect(\r\n  state => ({ ...state.restorePasswordForm, locale: state.translate.locale }),\r\n  dispatch => ({\r\n    sendEmail: email => dispatch(sendEmail(email)),\r\n    changeEmail: () => dispatch(changeEmail()),\r\n    sendNewPassword: data => dispatch(sendNewPassword(data))\r\n  })\r\n)\r\nexport default class RestorePassword extends Component {\r\n  render() {\r\n    const { email, loader, locale } = this.props;\r\n\r\n    return (\r\n      <AuthWrapper\r\n        title={<Translate>Restore password</Translate>}\r\n        hideAction={true}\r\n        locale={locale}\r\n      >\r\n        { loader ? <CircularProgress /> : null }\r\n\r\n        {email ? <PasswordForm {...this.props} /> : <EmailForm {...this.props} />}\r\n      </AuthWrapper>\r\n    );\r\n  }\r\n}","import { VERIFY_EMAIL_FAIL, VERIFY_EMAIL_LOADER, VERIFY_EMAIL_SUCCESS } from \"../actionTypes\";\r\nimport ErrorHelper from \"../../../helpers/ErrorHelper\";\r\nimport axios from '../../../axios/axios-api';\r\n\r\nexport function verifyEmail(token) {\r\n  return async (dispatch, getState) => {\r\n    dispatch(loader());\r\n\r\n    try {\r\n      const { data } = await axios.get(`/auth/verify/${token}`);\r\n      dispatch(success(data.message));\r\n    } catch (e) {\r\n      dispatch(error(ErrorHelper.getMessageByError(e)));\r\n    }\r\n  }\r\n}\r\n\r\nexport function loader() {\r\n  return { type: VERIFY_EMAIL_LOADER }\r\n}\r\n\r\nexport function success(message) {\r\n  return { type: VERIFY_EMAIL_SUCCESS, payload: message }\r\n}\r\n\r\nexport function error(message) {\r\n  return { type: VERIFY_EMAIL_FAIL, payload: message }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport AuthWrapper from '@/containers/Pages/Auth/AuthWrapper';\r\nimport Translate from '@/containers/Translate/Translate';\r\nimport { withRouter } from 'react-router-dom';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Alert from '@/components/UI/Alert/Alert';\r\nimport { verifyEmail } from '@/store/actions/verify-email/verifyEmailAction';\r\n\r\n@withRouter\r\n@connect(\r\n  state => ({ ...state.verifyEmail, locale: state.translate.locale }),\r\n  dispatch => ({\r\n    onVerify: token => dispatch(verifyEmail(token))\r\n  })\r\n)\r\nexport default class VerifyEmail extends Component {\r\n  componentDidMount() {\r\n    const { onVerify, match } = this.props;\r\n    onVerify(match.params.token);\r\n  }\r\n\r\n  render() {\r\n    const { locale, loader, error, success } = this.props;\r\n\r\n    const renderContent = loader ? (\r\n      <CircularProgress />\r\n    ) : (\r\n      <React.Fragment>\r\n        {error ? <Alert type=\"danger\">{error}</Alert> : null}\r\n        {success ? <Alert type=\"success\">{success}</Alert> : null}\r\n      </React.Fragment>\r\n    );\r\n\r\n    return (\r\n      <AuthWrapper\r\n        title={<Translate>Verify email</Translate>}\r\n        hideAction={true}\r\n        locale={locale}\r\n      >\r\n        {renderContent}\r\n      </AuthWrapper>\r\n    );\r\n  }\r\n}","import axios from '../../../../axios/axios-api';\r\nimport {\r\n  PROFILE_DETAIL_PAGE_INIT,\r\n  PROFILE_DETAIL_PAGE_FAIL,\r\n  PROFILE_DETAIL_PAGE_CHANGE_DATA\r\n} from \"../../actionTypes\";\r\nimport ErrorHelper from \"../../../../helpers/ErrorHelper\";\r\nimport FetchService from \"../../../../services/fetch/FetchService\";\r\n\r\nexport function init() {\r\n  return async dispatch => {\r\n    try {\r\n      const { data } = await FetchService.http(axios).get(`/user/form`);\r\n      dispatch(initComplete(data.form, data.labels));\r\n    } catch (e) {\r\n      dispatch(initFail(ErrorHelper.getMessageByError(e)));\r\n    }\r\n  }\r\n}\r\n\r\nexport function changeFormData(data) {\r\n  return { type: PROFILE_DETAIL_PAGE_CHANGE_DATA, payload: data };\r\n}\r\n\r\nexport function initComplete(data, labels) {\r\n  return { type: PROFILE_DETAIL_PAGE_INIT, payload: { data, labels } };\r\n}\r\n\r\nexport function initFail(message) {\r\n  return { type: PROFILE_DETAIL_PAGE_FAIL, payload: message };\r\n}","import axios from '../../../../axios/axios-api';\r\nimport {\r\n  PROFILE_DETAIL_FORM_LOADER,\r\n  PROFILE_DETAIL_FORM_SUCCESS,\r\n  PROFILE_DETAIL_FORM_FAIL\r\n} from \"../../actionTypes\";\r\nimport ErrorHelper from \"../../../../helpers/ErrorHelper\";\r\nimport FetchService from \"../../../../services/fetch/FetchService\";\r\nimport { changeFormData } from \"./profileDetailAction\";\r\n\r\nexport function save(formData) {\r\n  return async dispatch => {\r\n    dispatch(loader());\r\n\r\n    try {\r\n      const { data } = await FetchService.http(axios).post(`/user/form`, formData);\r\n      dispatch(changeFormData(formData));\r\n      dispatch(success(data.data.message));\r\n    } catch (e) {\r\n      dispatch(fail(ErrorHelper.getMessageByError(e)));\r\n    }\r\n  }\r\n}\r\n\r\nfunction loader() {\r\n  return { type: PROFILE_DETAIL_FORM_LOADER };\r\n}\r\n\r\nfunction success(message) {\r\n  return { type: PROFILE_DETAIL_FORM_SUCCESS, payload: message };\r\n}\r\n\r\nfunction fail(message) {\r\n  return { type: PROFILE_DETAIL_FORM_FAIL, payload: message };\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { FormGroup, FormControl, Validators } from '../../../../../form';\r\nimport { Button, Grid, MenuItem, TextField } from \"@material-ui/core/es/index\";\r\nimport Translate from \"../../../../Translate/Translate\";\r\nimport Alert from \"../../../../../components/UI/Alert/Alert\";\r\nimport { save } from \"../../../../../store/actions/profile/profile-detail/profileDetailFormAction\";\r\n\r\n@connect(\r\n  state => state.profileDetailForm,\r\n  dispatch => ({\r\n    onSubmit: data => dispatch(save(data))\r\n  })\r\n)\r\nexport default class ProfileDetailForm extends Component {\r\n\r\n  static propTypes = {\r\n    data: PropTypes.object.isRequired,\r\n    labels: PropTypes.object.isRequired\r\n  };\r\n\r\n  state = {\r\n    form: new FormGroup({\r\n      'age': new FormControl('', [\r\n        Validators.isRequired,\r\n        Validators.isNumber,\r\n        Validators.min(10),\r\n        Validators.max(99)\r\n      ]),\r\n      'body_type': new FormControl('', [\r\n        Validators.isRequired\r\n      ]),\r\n      'eye_color': new FormControl('', [\r\n        Validators.isRequired,\r\n      ]),\r\n      'gender': new FormControl('', [\r\n        Validators.isRequired,\r\n      ]),\r\n      'hair_color': new FormControl('', [\r\n        Validators.isRequired\r\n      ]),\r\n      'height': new FormControl('', [\r\n        Validators.isRequired,\r\n        Validators.isNumber\r\n      ]),\r\n      'orientation': new FormControl('', [\r\n        Validators.isRequired,\r\n      ]),\r\n      'status': new FormControl('', [\r\n        Validators.isRequired,\r\n      ]),\r\n      'weight': new FormControl('', [\r\n        Validators.isRequired,\r\n        Validators.isNumber\r\n      ]),\r\n    })\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.state.form.update(form => {\r\n      Object.keys(this.props.data).forEach(key => {\r\n        const value = this.props.data[key];\r\n\r\n        if (value) {\r\n          try {\r\n            form.setValue(key, value);\r\n          } catch (e) { }\r\n        }\r\n      });\r\n\r\n      this.setState({ form });\r\n    });\r\n  }\r\n\r\n  changeHandler(event, controlName) {\r\n    this.state.form.update(form => {\r\n      form.setValue(controlName, event.target.value);\r\n      this.setState({ form });\r\n    });\r\n  }\r\n\r\n  submitHandler(event) {\r\n    event.preventDefault();\r\n\r\n    this.state.form.update(form => {\r\n      const valid = form.validate();\r\n      this.setState({ form });\r\n\r\n      if (valid) {\r\n        this.props.onSubmit(form.getValues());\r\n      }\r\n    });\r\n  }\r\n\r\n  inputRender(type, control, label) {\r\n    return (\r\n      <TextField\r\n        disabled={this.props.loader}\r\n        fullWidth\r\n        type={type}\r\n        error={!control.valid}\r\n        label={<Translate>{label}</Translate>}\r\n        value={control.getValue()}\r\n        onChange={event => this.changeHandler(event, control.getName())}\r\n        margin=\"normal\"\r\n        helperText={\r\n          !control.valid\r\n            ? <Translate params={{ field: label }}>RequiredFieldForm</Translate>\r\n            : null\r\n        }\r\n      />\r\n    )\r\n  }\r\n\r\n  selectRender(control, label, options) {\r\n    return (\r\n      <TextField\r\n        disabled={this.props.loader}\r\n        fullWidth\r\n        select\r\n        error={!control.valid}\r\n        label={<Translate>{label}</Translate>}\r\n        value={control.getValue()}\r\n        onChange={event => this.changeHandler(event, control.getName())}\r\n        helperText={\r\n          !control.valid\r\n            ? <Translate params={{ field: label }}>RequiredFieldForm</Translate>\r\n            : null\r\n        }\r\n        SelectProps={{\r\n          renderValue: selected => options.map(option => {\r\n            return option.key === selected\r\n              ? <Translate key={option.key}>{option.value}</Translate>\r\n              : null;\r\n          })\r\n        }}\r\n        margin=\"normal\"\r\n      >\r\n        {options.map(option => (\r\n          <MenuItem key={option.key} value={option.key}>\r\n            <Translate>{option.value}</Translate>\r\n          </MenuItem>\r\n        ))}\r\n      </TextField>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { labels, loader, error, success } = this.props;\r\n\r\n    const form = this.state.form;\r\n\r\n    const age = form.control('age');\r\n    const bodyType = form.control('body_type');\r\n    const eyeColor = form.control('eye_color');\r\n    const gender = form.control('gender');\r\n    const hairColor = form.control('hair_color');\r\n    const height = form.control('height');\r\n    const orientation = form.control('orientation');\r\n    const status = form.control('status');\r\n    const weight = form.control('weight');\r\n\r\n    return (\r\n      <form onSubmit={event => this.submitHandler(event)}>\r\n        <Grid justify=\"center\" container spacing={0}>\r\n          <Grid item md={8} xs={12}>\r\n            <Grid container spacing={16}>\r\n              <Grid item md={6} xs={12}>\r\n                {this.inputRender('number', age, 'Age')}\r\n              </Grid>\r\n              <Grid item md={6} xs={12}>\r\n                {this.selectRender(bodyType, 'Body type', labels.body)}\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container spacing={16}>\r\n              <Grid item md={6} xs={12}>\r\n                {this.selectRender(eyeColor, 'Eye color', labels.eye)}\r\n              </Grid>\r\n              <Grid item md={6} xs={12}>\r\n                {this.selectRender(gender, 'Gender', labels.gender)}\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container spacing={16}>\r\n              <Grid item md={6} xs={12}>\r\n                {this.selectRender(hairColor, 'Hair color', labels.hair)}\r\n              </Grid>\r\n              <Grid item md={6} xs={12}>\r\n                {this.inputRender('number', height, 'Height')}\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container spacing={16}>\r\n              <Grid item md={4} xs={12}>\r\n                {this.selectRender(orientation, 'Orientation', labels.orientation)}\r\n              </Grid>\r\n              <Grid item md={4} xs={12}>\r\n                {this.selectRender(status, 'Status', labels.status)}\r\n              </Grid>\r\n              <Grid item md={4} xs={12}>\r\n                {this.inputRender('number', weight, 'Weight')}\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {error ? <Alert className=\"mt-15\" type=\"danger\">{error}</Alert> : null}\r\n            {success ? <Alert className=\"mt-15\" type=\"success\">{success}</Alert> : null}\r\n\r\n            <div className=\"pt-25 text-right\">\r\n              <Button\r\n                disabled={loader}\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n              >\r\n                <Translate>Save</Translate>\r\n              </Button>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Container from \"../../../components/UI/Container/Container\";\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport { Paper, Tab, Tabs } from \"@material-ui/core/es/index\";\r\nimport Translate from \"../../Translate/Translate\";\r\n\r\nconst links = [\r\n  {\r\n    label: 'Information',\r\n    path: 'profile',\r\n    exact: true\r\n  },\r\n  {\r\n    label: 'Gallery',\r\n    path: 'profile/gallery'\r\n  },\r\n  {\r\n    label: 'Location',\r\n    path: 'profile/location'\r\n  },\r\n  {\r\n    label: 'My games',\r\n    path: 'profile/games'\r\n  },\r\n];\r\n\r\n@withRouter\r\n@connect(\r\n  state => state.translate\r\n)\r\nexport default class Profile extends Component {\r\n  state = {\r\n    value: 0\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.location.state) {\r\n      this.setState({ value: this.props.location.state.value });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Paper>\r\n          <Tabs\r\n            className=\"mb-25\"\r\n            value={this.state.value}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n          >\r\n            {links.map((link, index) => {\r\n              return (\r\n                <Tab\r\n                  key={index}\r\n                  label={<Translate>{link.label}</Translate>}\r\n                  component={NavLink}\r\n                  to={{\r\n                    pathname: `/${this.props.locale}/${link.path}`,\r\n                    state: { value: index }\r\n                  }}\r\n                />\r\n              )\r\n            })}\r\n          </Tabs>\r\n        </Paper>\r\n\r\n        {this.props.children}\r\n      </Container>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { init } from \"../../../../store/actions/profile/profile-detail/profileDetailAction\";\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport ProfileDetailForm from './ProfileDetailForm/ProfileDetailForm';\r\nimport Container from \"../../../../components/UI/Container/Container\";\r\nimport Alert from \"../../../../components/UI/Alert/Alert\";\r\nimport Profile from \"../Profile\";\r\n\r\n@connect(\r\n  state => state.profileDetailPage,\r\n  dispatch => ({\r\n    onInit: () => dispatch(init())\r\n  })\r\n)\r\nexport default class Detail extends Component {\r\n  componentDidMount() {\r\n    if (this.props.init === false) {\r\n      this.props.onInit();\r\n    }\r\n  }\r\n  \r\n  render() {\r\n    const { init, error, data, labels } = this.props;\r\n\r\n    return (\r\n      <Profile>\r\n        {\r\n          init === false\r\n            ? <LinearProgress />\r\n            : <ProfileDetailForm data={data} labels={labels} />\r\n        }\r\n\r\n        { error ? <Alert type=\"danger\">{error}</Alert> : null }\r\n      </Profile>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from \"@material-ui/core/es/index\";\r\n\r\nexport default class UploadButton extends Component {\r\n  static propTypes = {\r\n    multiple: PropTypes.bool,\r\n    onChange: PropTypes.func.isRequired,\r\n    color: PropTypes.string,\r\n    disabled: PropTypes.bool\r\n  };\r\n\r\n  chooseImages() {\r\n    this.input.click();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <input\r\n          style={{ display: 'none' }}\r\n          ref={input => this.input = input}\r\n          type=\"file\"\r\n          multiple={this.props.multiple || false}\r\n          onChange={event => this.props.onChange(event)}\r\n          disabled={this.props.disabled || false}\r\n        />\r\n\r\n        <Button\r\n          color={this.props.color || 'secondary'}\r\n          onClick={this.chooseImages.bind(this)}\r\n          disabled={this.props.disabled || false}\r\n        >\r\n          {this.props.children}\r\n        </Button>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}","import {\r\n  PROFILE_GALLERY_LIST_COMPLETE,\r\n  PROFILE_GALLERY_LIST_ERROR_INIT,\r\n  PROFILE_GALLERY_LIST_APPEND_LOADER,\r\n  PROFILE_GALLERY_LIST_ADD_MODELS\r\n} from \"../../actionTypes\";\r\nimport axios from \"../../../../axios/axios-api\";\r\nimport FetchService from \"../../../../services/fetch/FetchService\";\r\nimport ErrorHelper from \"../../../../helpers/ErrorHelper\";\r\n\r\nexport function getModelsAction(first = true) {\r\n  return async (dispatch, getState) => {\r\n    const state = getState();\r\n\r\n    const { user } = state.user;\r\n    const { nextPage, loader, models } = state.profileGalleryList;\r\n\r\n    const url = first ? `/user/form/gallery` : (nextPage || null);\r\n\r\n    if (!url) {\r\n      return false;\r\n    }\r\n\r\n    !loader && dispatch(appendLoader());\r\n\r\n    try {\r\n      const { data } = await FetchService.http(axios).get(url);\r\n\r\n      let nextUrl = null;\r\n\r\n      if (data.next_page_url) {\r\n        const url = new URL(data.next_page_url);\r\n        nextUrl = url.pathname + url.search;\r\n      }\r\n\r\n      dispatch(complete({\r\n        models: first ? data.data : models.concat(data.data),\r\n        page: data.current_page,\r\n        nextPage: nextUrl,\r\n        total: data.total\r\n      }));\r\n\r\n      setTimeout(() => dispatch(getModelsAction(false)), 700);\r\n    } catch (e) {\r\n      dispatch(error(ErrorHelper.getMessageByError(e)));\r\n    }\r\n  }\r\n}\r\n\r\nexport function addModels(newData, oldData, total) {\r\n  return { type: PROFILE_GALLERY_LIST_ADD_MODELS, payload: {\r\n    models: newData.concat(oldData),\r\n    total\r\n  } };\r\n}\r\n\r\nfunction appendLoader() {\r\n  return { type: PROFILE_GALLERY_LIST_APPEND_LOADER };\r\n}\r\n\r\nfunction complete(data) {\r\n  return {  type: PROFILE_GALLERY_LIST_COMPLETE, payload: data }\r\n}\r\n\r\nfunction error(message) {\r\n  return { type: PROFILE_GALLERY_LIST_ERROR_INIT, payload: message };\r\n}\r\n\r\n\r\n","import {\r\n  PROFILE_GALLERY_UPLOAD_LOADER,\r\n  PROFILE_GALLERY_UPLOAD_SUCCESS,\r\n  PROFILE_GALLERY_UPLOAD_FAIL\r\n} from \"../../actionTypes\";\r\nimport axios from \"../../../../axios/axios-api\";\r\nimport FetchService from \"../../../../services/fetch/FetchService\";\r\nimport ErrorHelper from \"../../../../helpers/ErrorHelper\";\r\nimport { addModels } from \"./profileGalleryListAction\";\r\n\r\nexport function uploadPhotos(images) {\r\n  return async (dispatch, getState) => {\r\n    dispatch(loader());\r\n\r\n    const state = getState();\r\n    const { models, total } = state.profileGalleryList;\r\n\r\n    let formData = new FormData();\r\n\r\n    images.forEach(file => {\r\n      formData.append('images[]', file.file, file.name);\r\n    });\r\n\r\n    try {\r\n      const { data } = await FetchService.http(axios).post(`/user/form/gallery`, formData);\r\n      dispatch(addModels(data, models, total + data.length));\r\n      dispatch(success(data));\r\n    } catch (e) {\r\n      dispatch(error(ErrorHelper.getMessageByError(e)));\r\n    }\r\n  }\r\n}\r\n\r\nfunction loader() {\r\n  return { type: PROFILE_GALLERY_UPLOAD_LOADER };\r\n}\r\n\r\nfunction success(images) {\r\n  return { type: PROFILE_GALLERY_UPLOAD_SUCCESS, payload: images }\r\n}\r\n\r\nfunction error(message) {\r\n  return { type: PROFILE_GALLERY_UPLOAD_FAIL, payload: message }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Add, Remove } from '@material-ui/icons';\r\nimport Translate from \"@/containers/Translate/Translate\";\r\nimport UploadButton from \"@/components/UI/UploadButton/UploadButton\";\r\nimport { uploadPhotos } from \"@/store/actions/profile/profile-gallery/profileGalleryUploadAction\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  GridList,\r\n  GridListTile,\r\n  GridListTileBar,\r\n  IconButton\r\n} from \"@material-ui/core/es/index\";\r\n\r\n@connect(\r\n  state => state.profileGalleryUpload,\r\n  dispatch => ({\r\n    uploadPhotos: images => dispatch(uploadPhotos(images)),\r\n  })\r\n)\r\nexport default class ProfileGalleryUpload extends Component {\r\n\r\n  state = {\r\n    chooseImage: false,\r\n    images: []\r\n  };\r\n\r\n  extImages = ['jpeg', 'jpg', 'png', 'gif'];\r\n\r\n  addImage(file) {\r\n    this.setState(state => {\r\n      state.images.push(file);\r\n\r\n      if (!state.chooseImage) {\r\n        state.chooseImage = true;\r\n      }\r\n\r\n      return state;\r\n    });\r\n  }\r\n\r\n  removeImage(index) {\r\n    this.setState(state => {\r\n      state.images.splice(index, 1);\r\n\r\n      if (state.images.length === 0) {\r\n        state.chooseImage = false;\r\n      }\r\n\r\n      return state;\r\n    });\r\n  }\r\n\r\n  loadImages(event) {\r\n    [].forEach.call(event.target.files, file => {\r\n      const ext = file.name.substr(file.name.lastIndexOf('.') + 1);\r\n\r\n      if (!this.extImages.some(item => item === ext.toLowerCase())) {\r\n        return false;\r\n      }\r\n\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => this.addImage({\r\n        file: file,\r\n        name: file.name,\r\n        image: reader.result\r\n      });\r\n      reader.onerror = error => console.error(error);\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ images: [], chooseImage: false });\r\n  }\r\n\r\n  uploadHandler() {\r\n    this.props.uploadPhotos(this.state.images);\r\n    this.handleClose();\r\n  }\r\n\r\n  render() {\r\n    const { loader, success, error } = this.props;\r\n    const { chooseImage, images } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <UploadButton\r\n          multiple={true}\r\n          disabled={chooseImage || loader}\r\n          onChange={this.loadImages.bind(this)}\r\n        >\r\n          <Add /> &nbsp; <Translate>Add photos</Translate>\r\n        </UploadButton>\r\n\r\n        <Dialog\r\n          open={chooseImage}\r\n          onClose={this.handleClose.bind(this)}\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogContent>\r\n            <GridList cellHeight={200}>\r\n              {images.map((image, index) => (\r\n                <GridListTile key={index} cols={1}>\r\n                  <img src={image.image} alt={image.name} />\r\n                  <GridListTileBar\r\n                    title={<Translate>Remove image</Translate>}\r\n                    titlePosition=\"top\"\r\n                    actionIcon={\r\n                      <IconButton\r\n                        disabled={loader}\r\n                        onClick={() => this.removeImage(index)}\r\n                      >\r\n                        <Remove />\r\n                      </IconButton>\r\n                    }\r\n                    actionPosition=\"left\"\r\n                  />\r\n                </GridListTile>\r\n              ))}\r\n            </GridList>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button\r\n              onClick={this.handleClose.bind(this)}\r\n              color=\"secondary\"\r\n            >\r\n              <Translate>Cancel</Translate>\r\n            </Button>\r\n            <Button\r\n              color=\"primary\"\r\n              onClick={this.uploadHandler.bind(this)}\r\n            >\r\n              <Translate>Upload</Translate>\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    )\r\n  }\r\n}","import {\r\n  PROFILE_GALLERY_ITEM_INIT,\r\n  PROFILE_GALLERY_ITEM_IS_LOADED,\r\n  PROFILE_GALLERY_ITEM_SAVE,\r\n  PROFILE_GALLERY_ITEM_SAVE_OK,\r\n  PROFILE_GALLERY_ITEM_SAVE_FAIL,\r\n  PROFILE_GALLERY_ITEM_DELETE\r\n} from \"../../actionTypes\";\r\nimport axios from \"../../../../axios/axios-api\";\r\nimport FetchService from \"../../../../services/fetch/FetchService\";\r\nimport ErrorHelper from \"../../../../helpers/ErrorHelper\";\r\n\r\nexport function fetchById(id) {\r\n  return async dispatch => {\r\n    dispatch(loader());\r\n\r\n    let data = null;\r\n\r\n    try {\r\n      const response = await FetchService.http(axios).get(`/user/form/gallery/${id}`);\r\n      data = response.data;\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n\r\n    dispatch(isLoaded(data));\r\n  }\r\n}\r\n\r\nexport function deleteItem(id) {\r\n  return dispatch => {\r\n    dispatch({ type: PROFILE_GALLERY_ITEM_DELETE });\r\n    FetchService.http(axios).delete(`/user/form/gallery/${id}`);\r\n  }\r\n}\r\n\r\nexport function updateItem(formData, id) {\r\n  return async (dispatch, getState) => {\r\n    dispatch(loaderSubmit());\r\n\r\n    try {\r\n      const { data } = await FetchService.http(axios).post(`/user/form/gallery/${id}`, formData);\r\n      dispatch(successForm(data.message));\r\n    } catch (e) {\r\n      dispatch(errorForm(ErrorHelper.getMessageByError(e)));\r\n    }\r\n  }\r\n}\r\n\r\nfunction loaderSubmit() {\r\n  return { type: PROFILE_GALLERY_ITEM_SAVE }\r\n}\r\n\r\nfunction successForm(message) {\r\n  return { type: PROFILE_GALLERY_ITEM_SAVE_OK, payload: message }\r\n}\r\n\r\nfunction errorForm(message) {\r\n  return { type: PROFILE_GALLERY_ITEM_SAVE_FAIL, payload: message }\r\n}\r\n\r\nfunction loader() {\r\n  return { type: PROFILE_GALLERY_ITEM_INIT }\r\n}\r\n\r\nfunction isLoaded(data = null) {\r\n  let params = null;\r\n\r\n  if (data) {\r\n    params = {\r\n      description: data.description,\r\n      avatar: data.avatar\r\n    };\r\n  }\r\n\r\n  return { type: PROFILE_GALLERY_ITEM_IS_LOADED, payload: params }\r\n}\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { FormGroup, FormControl, Validators } from \"../../../../../form\";\r\nimport {\r\n  FormControl as FormControlComponent,\r\n  FormGroup as FormGroupComponent,\r\n  FormControlLabel,\r\n  Switch,\r\n  TextField, Button\r\n} from \"@material-ui/core/es/index\";\r\nimport Translate from \"../../../../Translate/Translate\";\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Alert from \"../../../../../components/UI/Alert/Alert\";\r\n\r\nconst styles = theme => ({\r\n  buttonError: {\r\n    color: theme.palette.error[500]\r\n  }\r\n});\r\n\r\n@withStyles(styles)\r\nexport default class ProfileGalleryItemForm extends Component {\r\n  static propTypes = {\r\n    loaderSubmit: PropTypes.bool.isRequired,\r\n    form: PropTypes.object,\r\n    error: PropTypes.any,\r\n    success: PropTypes.string,\r\n    onDelete: PropTypes.func.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    onUpdate: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {\r\n    form: new FormGroup({\r\n      description: new FormControl('', [\r\n        Validators.maxLength(255)\r\n      ]),\r\n      avatar: new FormControl(false, [\r\n        Validators.isRequired,\r\n        Validators.isBoolean\r\n      ])\r\n    })\r\n  };\r\n\r\n  componentWillMount() {\r\n    const data = this.props.form;\r\n    const form = this.state.form.clone();\r\n\r\n    if (data) {\r\n      form.setValue('description', data.description || '');\r\n      form.setValue('avatar', data.avatar || false);\r\n      this.setState({ form });\r\n    }\r\n  }\r\n\r\n  changeHandler(value, controlName) {\r\n    this.state.form.update(form => {\r\n      form.setValue(controlName, value);\r\n      this.setState({ form });\r\n    });\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    this.state.form.update(form => {\r\n      const valid = form.validate();\r\n      this.setState({ form });\r\n\r\n      if (valid === true) {\r\n        this.props.onUpdate(form.getValues());\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      classes,\r\n      loaderSubmit,\r\n      error,\r\n      success,\r\n      onClose,\r\n      onDelete\r\n    } = this.props;\r\n\r\n    const form = this.state.form;\r\n\r\n    const description = form.control('description');\r\n    const avatar = form.control('avatar');\r\n\r\n    return (\r\n      <form onSubmit={event => this.handleSubmit(event)}>\r\n        <FormControlComponent component=\"fieldset\">\r\n          <FormGroupComponent>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  disabled={loaderSubmit}\r\n                  checked={avatar.getValue()}\r\n                  color=\"primary\"\r\n                  onChange={event => {\r\n                    return this.changeHandler(event.target.checked, avatar.getName());\r\n                  }}\r\n                />\r\n              }\r\n              label={<Translate>Avatar</Translate>}\r\n            />\r\n          </FormGroupComponent>\r\n        </FormControlComponent>\r\n\r\n        <TextField\r\n          disabled={loaderSubmit}\r\n          fullWidth\r\n          type=\"text\"\r\n          error={!description.valid}\r\n          label={<Translate>Description</Translate>}\r\n          value={description.getValue()}\r\n          onChange={event => {\r\n            return this.changeHandler(event.target.value, description.getName());\r\n          }}\r\n          margin=\"normal\"\r\n          helperText={\r\n            !description.valid\r\n              ? <Translate params={{ field: 'Description' }}>RequiredFieldForm</Translate>\r\n              : null\r\n          }\r\n        />\r\n\r\n        {error ? <Alert type=\"danger\">{error}</Alert> : null}\r\n        {success ? <Alert type=\"success\">{success}</Alert> : null}\r\n\r\n        <div className=\"text-right pt-15\">\r\n          <Button\r\n            color=\"secondary\"\r\n            type=\"button\"\r\n            onClick={() => onClose()}\r\n          >\r\n            <Translate>Close</Translate>\r\n          </Button>\r\n\r\n          <Button\r\n            disabled={loaderSubmit}\r\n            className={classes.buttonError}\r\n            type=\"button\"\r\n            onClick={event => confirm('Are you sure?') ? onDelete() : false}\r\n          >\r\n            <Translate>Delete</Translate>\r\n          </Button>\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            disabled={loaderSubmit}\r\n            color=\"primary\"\r\n          >\r\n            <Translate>Update</Translate>\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n}","import env from '@/env/env'\r\n\r\nexport default class ImageHelper {\r\n  static url(path) {\r\n    return env.staticImagesHost + path;\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  GridListTileBar,\r\n  IconButton, LinearProgress\r\n} from \"@material-ui/core/es/index\";\r\nimport { Edit } from '@material-ui/icons';\r\nimport Translate from \"../../../../Translate/Translate\";\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { fetchById, deleteItem, updateItem } from \"../../../../../store/actions/profile/profile-gallery/profileGalleryItemAction\";\r\nimport ProfileGalleryItemForm from \"./ProfileGalleryItemForm\";\r\nimport ImageHelper from \"@/helpers/ImageHelper\";\r\n\r\nconst styles = theme => ({\r\n  image: {\r\n    maxWidth: '100%'\r\n  }\r\n});\r\n\r\n@withStyles(styles)\r\n@connect(\r\n  state => state.profileGalleryItem,\r\n  dispatch => ({\r\n    fetchDetailItem: id => dispatch(fetchById(id)),\r\n    onDeleteItem: id => dispatch(deleteItem(id)),\r\n    onUpdateItem: (formData, id) => dispatch(updateItem(formData, id))\r\n  })\r\n)\r\nexport default class ProfileGalleryItem extends Component {\r\n\r\n  static propTypes = {\r\n    id: PropTypes.number.isRequired,\r\n    url: PropTypes.string.isRequired,\r\n    origin: PropTypes.string.isRequired,\r\n    onDeleteFromList: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {\r\n    open: false\r\n  };\r\n\r\n  handlerEdit() {\r\n    this.setState({ open: true }, () => {\r\n      this.props.fetchDetailItem(this.props.id);\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ open: false })\r\n  }\r\n\r\n  handleUpdate(formData) {\r\n    this.props.onUpdateItem(formData, this.props.id).then(() => {\r\n      //... close popup ?\r\n    });\r\n  }\r\n\r\n  handleDelete() {\r\n    this.handleClose();\r\n    this.props.onDeleteFromList(this.props.id);\r\n    this.props.onDeleteItem(this.props.id);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      url, origin, classes, loader,\r\n      loaderSubmit, form, error, success\r\n    } = this.props;\r\n    const { open } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <img className={classes.image} src={ImageHelper.url(url)} />\r\n\r\n        <GridListTileBar\r\n          title={<Translate>Edit photo</Translate>}\r\n          titlePosition=\"top\"\r\n          actionIcon={\r\n            <IconButton onClick={this.handlerEdit.bind(this)}>\r\n              <Edit />\r\n            </IconButton>\r\n          }\r\n          actionPosition=\"right\"\r\n        />\r\n\r\n        <Dialog\r\n          open={open}\r\n          onClose={this.handleClose.bind(this)}\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n          scroll=\"body\"\r\n        >\r\n          <DialogContent>\r\n            <img className={classes.image} src={ImageHelper.url(origin)} />\r\n\r\n            {loader ? <LinearProgress color=\"secondary\" /> : (\r\n              <ProfileGalleryItemForm\r\n                loaderSubmit={loaderSubmit}\r\n                form={form}\r\n                error={error}\r\n                success={success}\r\n                onClose={() => this.handleClose()}\r\n                onUpdate={data => this.handleUpdate(data)}\r\n                onDelete={() => this.handleDelete()}\r\n              />\r\n            )}\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  addModels,\r\n  getModelsAction\r\n} from \"../../../../../store/actions/profile/profile-gallery/profileGalleryListAction\";\r\nimport { GridList, GridListTile } from \"@material-ui/core/es/index\";\r\nimport ProfileGalleryItem from \"../ProfileGalleryItem/ProfileGalleryItem\";\r\nimport IconButton from \"@material-ui/core/es/IconButton/IconButton\";\r\nimport Refresh from '@material-ui/icons/Refresh';\r\n\r\n@connect(\r\n  state => ({\r\n    ...state.profileGalleryList,\r\n    device: state.mobileDetect.device\r\n  }),\r\n  dispatch => ({\r\n    getModels: () => dispatch(getModelsAction()),\r\n    updateList: (models, total) => dispatch(addModels([], models, total))\r\n  })\r\n)\r\nexport default class ProfileGalleryList extends Component {\r\n\r\n  fetch() {\r\n    this.props.getModels();\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.loader) {\r\n      this.fetch();\r\n    }\r\n  }\r\n\r\n  handleDeleteItem(deleteId) {\r\n    const models = this.props.models.filter(({ id }) => +id !== +deleteId);\r\n    this.props.updateList(models, this.props.total - 1);\r\n  }\r\n\r\n  render() {\r\n    const { models, device } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"mb-15 text-right\">\r\n          <IconButton\r\n            className=\"mr-10\"\r\n            onClick={this.fetch.bind(this)}\r\n            disabled={this.props.loader}\r\n            color=\"primary\"\r\n          >\r\n            <Refresh />\r\n          </IconButton>\r\n        </div>\r\n\r\n        <GridList cellHeight={210} cols={device.getValueByData({\r\n          xs: 2, sm: 3, md: 4, lg: 5\r\n        })}>\r\n          {models.map((image, key) => (\r\n            <GridListTile key={key} cols={1}>\r\n              <ProfileGalleryItem\r\n                {...image}\r\n                onDeleteFromList={id => this.handleDeleteItem(id)}\r\n              />\r\n            </GridListTile>\r\n          ))}\r\n        </GridList>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Profile from '../Profile';\r\nimport ProfileGalleryUpload from './ProfileGalleryUpload/ProfileGalleryUpload';\r\nimport ProfileGalleryList from \"./ProfileGalleryList/ProfileGalleryList\";\r\nimport { Grid, LinearProgress } from \"@material-ui/core/es/index\";\r\nimport Translate from \"../../../Translate/Translate\";\r\nimport Alert from \"../../../../components/UI/Alert/Alert\";\r\n\r\n@connect(\r\n  state => ({\r\n    list: state.profileGalleryList,\r\n    upload: state.profileGalleryUpload\r\n  })\r\n)\r\nexport default class ProfileGallery extends Component {\r\n  render() {\r\n    const { list, upload } = this.props;\r\n\r\n    return (\r\n      <Profile>\r\n        <Grid\r\n          container\r\n          justify=\"space-between\"\r\n          direction=\"row\"\r\n          alignItems=\"center\"\r\n          className=\"mb-25\"\r\n        >\r\n          <Grid item>\r\n            {!list.loader ? (\r\n              <div>\r\n                <Translate>Total</Translate>:&nbsp;\r\n                {list.models.length === list.total ? null : list.models.length + ' / '}\r\n                {list.total}\r\n              </div>\r\n            ) : null}\r\n          </Grid>\r\n          <Grid item>\r\n            {/* Upload images */}\r\n            <ProfileGalleryUpload />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {upload.loader ? (\r\n          <Alert type=\"info\" className=\"my-15\">\r\n            <div className=\"mb-10\">\r\n              <Translate>Uploading photos...</Translate>\r\n            </div>\r\n            <LinearProgress color=\"secondary\" />\r\n          </Alert>\r\n        ) : null}\r\n\r\n        <ProfileGalleryList />\r\n      </Profile>\r\n    )\r\n  }\r\n}","import {\r\n  PROFILE_LOCATION_FETCH_COMPLETED,\r\n  PROFILE_LOCATION_UPDATE,\r\n  PROFILE_LOCATION_UPDATED\r\n} from \"../../actionTypes\";\r\nimport axios from '../../../../axios/axios-api';\r\nimport FetchService from \"../../../../services/fetch/FetchService\";\r\nimport env from '../../../../env/env';\r\n\r\nexport function fetchLocation() {\r\n  return async dispatch => {\r\n    let coordinates = [];\r\n    let locations = [];\r\n\r\n    try {\r\n      const { data } = await FetchService.http(axios).get(`/user/form/location`);\r\n\r\n      if (data) {\r\n        coordinates = [data.lat, data.long];\r\n        locations = data.location;\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n\r\n    dispatch(fetchCompleted(coordinates, locations));\r\n  }\r\n}\r\n\r\nexport function updateLocation(lat, long) {\r\n  return (dispatch, getState) => {\r\n    dispatch(updateLoader());\r\n\r\n    const { languages } = getState().translate;\r\n\r\n    const promises = [];\r\n\r\n    languages.forEach(({ lang }) => {\r\n      promises.push(fetchGeoByCoords(lat, long, lang));\r\n    });\r\n\r\n    Promise.all([...promises]).then(async locations => {\r\n      try {\r\n        const { data } = await FetchService.http(axios).post(`/user/form/location`, {\r\n          lat, long, locations\r\n        });\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n\r\n      dispatch(updated([lat, long], locations));\r\n    });\r\n  }\r\n}\r\n\r\nfunction fetchGeoByCoords(lat, long, language) {\r\n  const url = `https://geocode-maps.yandex.ru/1.x/?kind=locality&format=json&apiKey=${env.yandexApiKey}&geocode=${long},${lat}&lang=${language}`;\r\n  const http = new XMLHttpRequest();\r\n\r\n  return new Promise((resolve, reject) => {\r\n    http.open('get', url, true);\r\n    http.onload = () => {\r\n      try {\r\n        const data = JSON.parse(http.responseText);\r\n\r\n        const geoObject = data.response.GeoObjectCollection.featureMember[0].GeoObject;\r\n        const addressDetail = geoObject.metaDataProperty.GeocoderMetaData;\r\n        const address = addressDetail.text;\r\n        const country = addressDetail.AddressDetails.Country.CountryName;\r\n        const city = addressDetail.AddressDetails.Country.AdministrativeArea.Locality.LocalityName;\r\n\r\n        resolve({ language, country, city, address });\r\n      } catch (e) {\r\n        reject(e);\r\n      }\r\n    };\r\n\r\n    http.send();\r\n  });\r\n}\r\n\r\nfunction updated(coordinates, locations) {\r\n  return { type: PROFILE_LOCATION_UPDATED, payload: {\r\n    coordinates, locations\r\n  } }\r\n}\r\n\r\nfunction updateLoader() {\r\n  return { type: PROFILE_LOCATION_UPDATE };\r\n}\r\n\r\nfunction fetchCompleted(coordinates, locations) {\r\n  return { type: PROFILE_LOCATION_FETCH_COMPLETED, payload: {\r\n    coordinates, locations\r\n  } }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Profile from \"../Profile\";\r\nimport { Button } from \"@material-ui/core/es/index\";\r\nimport { YMaps, Map, Circle } from 'react-yandex-maps';\r\nimport { LinearProgress } from \"@material-ui/core/es/index\";\r\nimport Translate from \"../../../Translate/Translate\";\r\nimport {\r\n  fetchLocation,\r\n  updateLocation\r\n} from \"../../../../store/actions/profile/profile-location/profileLocationAction\";\r\n\r\n@connect(\r\n  state => ({\r\n    lang: state.translate.locale,\r\n    languages: state.translate.languages,\r\n    ...state.profileLocation\r\n  }),\r\n  dispatch => ({\r\n    fetch: () => dispatch(fetchLocation()),\r\n    update: (lat, long) => dispatch(updateLocation(lat, long))\r\n  })\r\n)\r\nexport default class GeoLocation extends Component {\r\n  componentDidMount() {\r\n    if (this.props.fetchLoader) {\r\n      this.props.fetch();\r\n    }\r\n  }\r\n\r\n  handleGetLocation() {\r\n    window.navigator.geolocation.getCurrentPosition(position => {\r\n      this.props.update(position.coords.latitude, position.coords.longitude);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { coordinates, locations, fetchLoader, updateLoader, lang } = this.props;\r\n\r\n    let content = null;\r\n\r\n    if (fetchLoader === true) {\r\n      content = <LinearProgress />\r\n    } else {\r\n      content = (\r\n        <div>\r\n          {coordinates.length ? (\r\n            <div>\r\n              <p>\r\n                <Translate>Address</Translate>: &nbsp;\r\n                {locations.map((item, index) => {\r\n                  if (item.language === lang) {\r\n                    return <span key={index}>{item.address}</span>\r\n                  }\r\n                })}\r\n              </p>\r\n\r\n              <YMaps>\r\n                <Map\r\n                  style={{width: '100%', height: '300px'}}\r\n                  className=\"mb-25\"\r\n                  defaultState={{ center: coordinates, zoom: 14 }}\r\n                >\r\n                  <Circle\r\n                    geometry={[coordinates, 500]}\r\n                    options={{\r\n                      strokeColor: '#166299',\r\n                      strokeOpacity: 0.8,\r\n                      strokeWidth: 2,\r\n                    }}\r\n                  />\r\n                </Map>\r\n              </YMaps>\r\n            </div>\r\n          ) : null}\r\n\r\n          <Button\r\n            disabled={updateLoader}\r\n            type=\"primary\"\r\n            onClick={this.handleGetLocation.bind(this)}\r\n          >\r\n            {\r\n              coordinates.length\r\n                ? <Translate>Update location</Translate>\r\n                : <Translate>Add location</Translate>\r\n            }\r\n          </Button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Profile>\r\n        {content}\r\n      </Profile>\r\n    )\r\n  }\r\n}","import axios from '../../../../axios/axios-api';\r\nimport FetchService from \"../../../../services/fetch/FetchService\";\r\nimport {\r\n  PROFILE_GAMES_FETCHED,\r\n  PROFILE_GAMES_UPDATE_FAIL,\r\n  PROFILE_GAMES_UPDATE_SUCCESS,\r\n  PROFILE_GAMES_UPDATE,\r\n  PROFILE_GAMES_CHANGE_VALUES\r\n} from \"../../actionTypes\";\r\nimport ErrorHelper from \"../../../../helpers/ErrorHelper\";\r\n\r\nexport function fetchGames() {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      const allGames = await getAllGames();\r\n      const myGames = await getOwnGames();\r\n\r\n      dispatch(isLoaded(allGames, myGames));\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n}\r\n\r\nexport function updateGames(gameList) {\r\n  return async (dispatch, getState) => {\r\n    dispatch(setUpdateLoader());\r\n\r\n    const games = gameList.map(({ value }) => value);\r\n\r\n    try {\r\n      const { data } = await FetchService.http(axios)\r\n        .post(`/user/form/games`, { games });\r\n\r\n      dispatch(success(data.message))\r\n    } catch (e) {\r\n      dispatch(error(ErrorHelper.getMessageByError(e)));\r\n    }\r\n  }\r\n}\r\n\r\nexport function changeGames(values) {\r\n  return { type: PROFILE_GAMES_CHANGE_VALUES, payload: values }\r\n}\r\n\r\nfunction setUpdateLoader() {\r\n  return { type: PROFILE_GAMES_UPDATE }\r\n}\r\n\r\nfunction error(message) {\r\n  return { type: PROFILE_GAMES_UPDATE_FAIL, payload: message }\r\n}\r\n\r\nfunction success(message) {\r\n  return { type: PROFILE_GAMES_UPDATE_SUCCESS, payload: message }\r\n}\r\n\r\nfunction isLoaded(allGames, myGames) {\r\n  return { type: PROFILE_GAMES_FETCHED, payload: { allGames, myGames } }\r\n}\r\n\r\nfunction getAllGames() {\r\n  return axios.get(`/list-games`)\r\n    .then(response => response.data);\r\n}\r\n\r\nfunction getOwnGames() {\r\n  return FetchService.http(axios).get(`/user/form/games`)\r\n    .then(response => response.data);\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport deburr from 'lodash/deburr';\r\nimport keycode from 'keycode';\r\nimport Downshift from 'downshift';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Chip from '@material-ui/core/Chip';\r\n\r\nconst renderInput = inputProps => {\r\n  const { InputProps, ref, ...other } = inputProps;\r\n\r\n  return (\r\n    <TextField\r\n      InputProps={{\r\n        inputRef: ref,\r\n        ...InputProps,\r\n      }}\r\n      {...other}\r\n    />\r\n  );\r\n};\r\n\r\nconst renderSuggestion = ({ suggestion, index, itemProps, highlightedIndex, selectedItem }) => {\r\n  const isHighlighted = highlightedIndex === index;\r\n  const isSelected = (selectedItem || '').indexOf(suggestion.label) > -1;\r\n\r\n  return (\r\n    <MenuItem\r\n      {...itemProps}\r\n      key={suggestion.label}\r\n      selected={isHighlighted}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: isSelected ? 500 : 400,\r\n      }}\r\n    >\r\n      {suggestion.label}\r\n    </MenuItem>\r\n  );\r\n};\r\n\r\nrenderSuggestion.propTypes = {\r\n  highlightedIndex: PropTypes.number,\r\n  index: PropTypes.number,\r\n  itemProps: PropTypes.object,\r\n  selectedItem: PropTypes.string,\r\n  suggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\r\n};\r\n\r\nconst getSuggestions = (value, items, selectedValues) => {\r\n  const inputValue = deburr(value.trim()).toLowerCase();\r\n  const inputLength = inputValue.length;\r\n\r\n  if (inputLength === 0) {\r\n    return [];\r\n  }\r\n\r\n  let count = 0;\r\n\r\n  return items.filter(suggestion => {\r\n    if (selectedValues.indexOf(suggestion) >= 0) {\r\n      return false;\r\n    }\r\n\r\n    const keep = count < 5 && suggestion.label.slice(0, inputLength).toLowerCase() === inputValue;\r\n    keep && count++;\r\n    return keep;\r\n  });\r\n};\r\n\r\n@withStyles(theme => ({\r\n  input: {\r\n    '& > div': {\r\n      display: 'block',\r\n      '& input': {\r\n        display: 'inline-flex',\r\n        maxWidth: '100px'\r\n      }\r\n    }\r\n  }\r\n}))\r\nexport default class Autocomplete extends Component {\r\n\r\n  static propTypes = {\r\n    items: PropTypes.array.isRequired,\r\n    values: PropTypes.array.isRequired,\r\n    placeholder: PropTypes.string.isRequired,\r\n    label: PropTypes.any.isRequired,\r\n    onChangeItems: PropTypes.func.isRequired,\r\n    disabled: PropTypes.bool,\r\n    variant: PropTypes.string\r\n  };\r\n\r\n  state = {\r\n    inputValue: ''\r\n  };\r\n\r\n  handleKeyDown = event => {\r\n    const { values, onChangeItems } = this.props;\r\n    const { inputValue } = this.state;\r\n\r\n    if (values.length && !inputValue.length && keycode(event) === 'backspace') {\r\n      onChangeItems(values.slice(0, values.length - 1));\r\n    }\r\n  };\r\n\r\n  handleInputChange = event => {\r\n    this.setState({ inputValue: event.target.value });\r\n  };\r\n\r\n  handleChange = item => {\r\n    const { values, onChangeItems } = this.props;\r\n    let newValue = [...values];\r\n\r\n    if (!newValue.some(({ value }) => value === item.value)) {\r\n      newValue.push(item);\r\n    }\r\n\r\n    this.setState({ inputValue: '' }, () => {\r\n      onChangeItems(newValue);\r\n    });\r\n  };\r\n\r\n  handleDelete = item => () => {\r\n    const { values, onChangeItems } = this.props;\r\n    let newValues = [...values];\r\n\r\n    if (newValues.some(row => row.value === item.value)) {\r\n      newValues = newValues.filter(({ value }) => value !== item.value);\r\n    }\r\n\r\n    onChangeItems(newValues);\r\n  };\r\n\r\n  render() {\r\n    const { items, values, placeholder, label, disabled, variant, classes } = this.props;\r\n    const { inputValue } = this.state;\r\n\r\n    return (\r\n      <Downshift\r\n        id=\"downshift-multiple\"\r\n        inputValue={inputValue}\r\n        onChange={this.handleChange}\r\n        selectedItem={values}\r\n      >\r\n        {({\r\n          getInputProps,\r\n          getItemProps,\r\n          isOpen,\r\n          inputValue: inputValue2,\r\n          selectedItem: selectedItem2,\r\n          highlightedIndex,\r\n        }) => (\r\n          <div>\r\n            {renderInput({\r\n              disabled,\r\n              fullWidth: true,\r\n              variant: variant ? variant : 'standard',\r\n              margin: 'normal',\r\n              className: classes.input,\r\n              InputProps: getInputProps({\r\n                startAdornment: values.map(item => (\r\n                  <Chip\r\n                    disabled={disabled}\r\n                    key={item.value}\r\n                    tabIndex={-1}\r\n                    label={item.label}\r\n                    className=\"my-7 mr-7\"\r\n                    color=\"primary\"\r\n                    onDelete={this.handleDelete(item)}\r\n                  />\r\n                )),\r\n                onChange: this.handleInputChange,\r\n                onKeyDown: this.handleKeyDown,\r\n                placeholder\r\n              }),\r\n              label,\r\n            })}\r\n            {isOpen ? (\r\n              <Paper square>\r\n                {getSuggestions(inputValue2, items, selectedItem2).map((suggestion, index) =>\r\n                  renderSuggestion({\r\n                    suggestion,\r\n                    index,\r\n                    itemProps: getItemProps({ item: suggestion }),\r\n                    highlightedIndex,\r\n                    selectedItem: selectedItem2,\r\n                  })\r\n                )}\r\n              </Paper>\r\n            ) : null}\r\n          </div>\r\n        )}\r\n      </Downshift>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Profile from \"../Profile\";\r\nimport {\r\n  fetchGames,\r\n  updateGames,\r\n  changeGames\r\n} from \"../../../../store/actions/profile/profile-games/profileGamesAction\";\r\nimport Autocomplete from \"../../../../components/UI/Autocomplete/Autocomplete\";\r\nimport { Button, Grid } from \"@material-ui/core/es/index\";\r\nimport Translate from \"../../../Translate/Translate\";\r\nimport Alert from \"../../../../components/UI/Alert/Alert\";\r\n\r\n@connect(\r\n  state => state.profileGames,\r\n  dispatch => ({\r\n    fetchGames: () => dispatch(fetchGames()),\r\n    updateGames: listGames => dispatch(updateGames(listGames)),\r\n    onChangeValues: values => dispatch(changeGames(values))\r\n  })\r\n)\r\nexport default class ProfileGames extends Component {\r\n\r\n  componentDidMount() {\r\n    const { fetchLoader } = this.props;\r\n\r\n    if (fetchLoader) {\r\n      this.props.fetchGames();\r\n    }\r\n  }\r\n\r\n  handleUpdateValues() {\r\n    this.props.updateGames(this.props.myGames);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      allGames, myGames, fetchLoader, updateLoader, success, error\r\n    } = this.props;\r\n\r\n    return (\r\n      <Profile>\r\n        <Grid justify=\"center\" container spacing={0}>\r\n          <Grid item md={8} xs={12}>\r\n            {fetchLoader ? 'loading...' : (\r\n              <div>\r\n                <Autocomplete\r\n                  disabled={updateLoader}\r\n                  items={allGames}\r\n                  values={myGames}\r\n                  placeholder=\"Choose game\"\r\n                  label={<Translate>My games</Translate>}\r\n                  onChangeItems={values => this.props.onChangeValues(values)}\r\n                />\r\n\r\n                {success ? <Alert className=\"mt-15\" type=\"success\">{success}</Alert> : null}\r\n                {error ? <Alert className=\"mt-15\" type=\"danger\">{error}</Alert> : null}\r\n\r\n                <div className=\"pt-25 text-right\">\r\n                  <Button\r\n                    disabled={updateLoader}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={() => this.handleUpdateValues()}\r\n                  >\r\n                    <Translate>Save</Translate>\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </Profile>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport PaginationBase from \"material-ui-flat-pagination\";\r\n\r\nconst Pagination = props => {\r\n  const { currentPage, onClick, ...otherProps } = props;\r\n\r\n  const currentOffset = (currentPage - 1) * otherProps.limit;\r\n  const totalPages = Math.ceil(props.total / props.limit);\r\n\r\n  if (totalPages <= 1) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <PaginationBase\r\n      offset={currentOffset}\r\n      {...otherProps}\r\n      onClick={(e, offset) => {\r\n        const page = Math.ceil(totalPages * offset / props.total);\r\n        return onClick(e, page <= 0 ? 1 : page);\r\n      }}\r\n    />\r\n  )\r\n};\r\n\r\nexport default Pagination;","import { LOADER_ON, LOADER_OFF } from \"../actionTypes\";\r\n\r\nexport function loaderOn() {\r\n  return { type: LOADER_ON }\r\n}\r\n\r\nexport function loaderOff() {\r\n  return { type: LOADER_OFF }\r\n}","import {\r\n  PEOPLE_LIST_LOADER_LIST,\r\n  PEOPLE_LIST_QUERY,\r\n  PEOPLE_LIST_ERROR\r\n} from '../actionTypes';\r\nimport axios from '../../../axios/axios-api';\r\nimport FetchService from \"../../../services/fetch/FetchService\";\r\nimport ErrorHelper from \"../../../helpers/ErrorHelper\";\r\nimport { loaderOff, loaderOn } from \"../loader/loaderAction\";\r\n\r\nexport function fetchModels(url, formData = {}, appendModels = false) {\r\n  return async (dispatch, getState) => {\r\n    const state = getState();\r\n    const { models } = state.peopleList;\r\n\r\n    dispatch(loaderList());\r\n    dispatch(loaderOn());\r\n\r\n    try {\r\n      const { data } = await FetchService.http(axios).post(url, {\r\n        ...formData,\r\n        games: !formData.games ? [] : formData.games.map(({ value }) => value),\r\n        genres: !formData.genres ? [] : formData.genres.map(({ value }) => value)\r\n      });\r\n\r\n      dispatch(queryResult(url, data, formData, appendModels ? models : null));\r\n    } catch (e) {\r\n      dispatch(error(ErrorHelper.getMessageByError(e)));\r\n    }\r\n\r\n    dispatch(loaderOff());\r\n  }\r\n}\r\n\r\nfunction loaderList() {\r\n  return { type: PEOPLE_LIST_LOADER_LIST }\r\n}\r\n\r\nfunction error(error) {\r\n  return { type: PEOPLE_LIST_ERROR, payload: error }\r\n}\r\n\r\nexport function correctUrl(url) {\r\n  if (!url) {\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const urlModel = new URL(url);\r\n    return urlModel.pathname.substr(urlModel.pathname.indexOf('/', 1)) + urlModel.search;\r\n  } catch (e) {\r\n    return url;\r\n  }\r\n}\r\n\r\nfunction queryResult(url, response, formData, models = null) {\r\n  const payload = {\r\n    models: models ? models.concat(response.data) : response.data,\r\n    url,\r\n    formData,\r\n    totalItems: response.total,\r\n    currentPage: response.current_page,\r\n    perPage: response.per_page,\r\n    lastPage: response.last_page,\r\n    nextPageUrl: correctUrl(response.next_page_url),\r\n    prevPageUrl: correctUrl(response.prev_page_url),\r\n    firstPageUrl: correctUrl(response.first_page_url),\r\n    lastPageUrl: correctUrl(response.lastPageUrl),\r\n    params: response.params,\r\n    sortAttributes: response.sortAttributes.map(sortItem => {\r\n      return {...sortItem, url: correctUrl(sortItem.url)}\r\n    })\r\n  };\r\n\r\n  return { type: PEOPLE_LIST_QUERY, payload }\r\n}\r\n\r\nexport function replacePage(url, page) {\r\n  return url.replace(/page=\\d+/, `page=${page}`);\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport DialogTitle from \"@material-ui/core/DialogTitle/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions/DialogActions\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog/Dialog\";\r\nimport { FormGroup, FormControl, Validators } from '@/form'\r\nimport TextField from \"@material-ui/core/TextField/TextField\";\r\nimport Translate from \"@/containers/Translate/Translate\";\r\nimport Alert from \"@/components/UI/Alert/Alert\";\r\nimport { sendInvite, clearInviteForm } from \"@/store/actions/friends/inviteFormAction\";\r\n\r\n@connect(\r\n  state => state.inviteForm,\r\n  dispatch => ({\r\n    sendInvite: formData => dispatch(sendInvite(formData)),\r\n    clear: () => dispatch(clearInviteForm())\r\n  })\r\n)\r\nexport default class InviteDialog extends Component {\r\n\r\n  static propTypes = {\r\n    fromUser: PropTypes.number.isRequired,\r\n    toUser: PropTypes.number.isRequired,\r\n    onClose: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {\r\n    form: new FormGroup({\r\n      message: new FormControl('', [ Validators.isRequired, Validators.minLength(10) ])\r\n    })\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n  }\r\n\r\n  handleField(controlName, value) {\r\n    this.state.form.update(form => {\r\n      form.setValue(controlName, value);\r\n      this.setState({ form })\r\n    });\r\n  }\r\n\r\n  handleForm(event) {\r\n    event && event.preventDefault();\r\n\r\n    this.state.form.update(form => {\r\n      const valid = form.validate();\r\n\r\n      if (valid) {\r\n        this.props.sendInvite({\r\n          ...form.getValues(),\r\n          from: this.props.fromUser,\r\n          to: this.props.toUser\r\n        });\r\n      }\r\n\r\n      this.setState({ form });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { onClose, loader, success, error } = this.props;\r\n    const message = this.state.form.control('message');\r\n\r\n    return (\r\n      <Dialog\r\n        open={true}\r\n        onClose={() => loader ? false : onClose()}\r\n        aria-labelledby=\"simple-dialog-title\"\r\n        scroll=\"body\"\r\n      >\r\n        <DialogTitle id=\"simple-dialog-title\">\r\n          <Translate name=\"Send invite\" />\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <form onSubmit={event => this.handleForm(event)}>\r\n            <TextField\r\n              fullWidth\r\n              disabled={loader}\r\n              label={<Translate name=\"Message\" />}\r\n              error={!message.valid}\r\n              multiline\r\n              rowsMax=\"4\"\r\n              value={message.getValue()}\r\n              onChange={e => this.handleField(message.getName(), e.target.value)}\r\n              margin=\"normal\"\r\n              helperText={\r\n                !message.valid\r\n                  ? <Translate params={{ field: message.getName() }}>RequiredFieldForm</Translate>\r\n                  : null\r\n              }\r\n            />\r\n          </form>\r\n\r\n          {success ? <Alert type=\"success\">{success}</Alert> : null}\r\n          {error ? <Alert type=\"danger\">{error}</Alert> : null}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button disabled={loader} onClick={() => onClose()} color=\"secondary\">\r\n            <Translate name=\"Close\" />\r\n          </Button>\r\n          <Button disabled={loader} onClick={() => this.handleForm()} color=\"primary\">\r\n            <Translate name=\"Send\" />\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n  }\r\n}","import {\r\n  INVITE_FORM_CLEAR,\r\n  INVITE_FORM_ERROR,\r\n  INVITE_FORM_SENDING,\r\n  INVITE_FORM_SUCCESS\r\n} from \"../actionTypes\";\r\nimport FetchService from \"../../../services/fetch/FetchService\";\r\nimport axios from \"../../../axios/axios-api\";\r\nimport ErrorHelper from \"../../../helpers/ErrorHelper\";\r\n\r\nexport function sendInvite(formData) {\r\n  return async (dispatch, getState) => {\r\n    dispatch(loader());\r\n\r\n    try {\r\n      const { data } = await FetchService.http(axios).post(`/user/friend/invite`, formData);\r\n      dispatch(success(data.message));\r\n    } catch (e) {\r\n      dispatch(error(ErrorHelper.getMessageByError(e)));\r\n    }\r\n  }\r\n}\r\n\r\nexport function clearInviteForm() {\r\n  return { type: INVITE_FORM_CLEAR }\r\n}\r\n\r\nfunction error(error) {\r\n  return { type: INVITE_FORM_ERROR, payload: error }\r\n}\r\n\r\nfunction success(message) {\r\n  return { type: INVITE_FORM_SUCCESS, payload: message }\r\n}\r\n\r\nfunction loader() {\r\n  return { type: INVITE_FORM_SUCCESS }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport InviteDialog from \"@/containers/InviteToFriend/InviteDialog\";\r\n\r\nexport default class InviteToFriend extends Component {\r\n\r\n  static propTypes = {\r\n    fromUser: PropTypes.number.isRequired,\r\n    toUser: PropTypes.number.isRequired,\r\n    children: PropTypes.object.isRequired\r\n  };\r\n\r\n  state = {\r\n    open: false,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.element = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const [ child ] = this.element.current.childNodes;\r\n\r\n    if (child) {\r\n      child.onclick = () => {\r\n        this.handleOpenDialog();\r\n      }\r\n    }\r\n  }\r\n\r\n  handleOpenDialog() {\r\n    this.setState({ open: true });\r\n  }\r\n\r\n  handleCloseDialog() {\r\n    this.setState({ open: false });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <span ref={this.element}>\r\n          {this.props.children}\r\n        </span>\r\n\r\n        {this.state.open ? (\r\n          <InviteDialog\r\n            fromUser={this.props.fromUser}\r\n            toUser={this.props.toUser}\r\n            onClose={() => this.handleCloseDialog()}\r\n          />\r\n        ) : null}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}","import OnlineUserService from \"@/services/online-users/OnlineUserService\";\r\nimport { ONLINE_USERS_UPDATE, ONLINE_USERS_LIVE } from \"@/store/actions/actionTypes\";\r\nimport FetchService from \"@/services/fetch/FetchService\";\r\nimport axios from '@/axios/axios-api';\r\n\r\nexport class onlineUserAction {\r\n  static register(userId) {\r\n    return (dispatch, getState) => {\r\n      const { collection } = getState().onlineUser;\r\n      const model = new OnlineUserService(userId);\r\n      const newCollection = collection.add(model);\r\n\r\n      newCollection && dispatch({ type: ONLINE_USERS_UPDATE, payload: newCollection });\r\n\r\n      return model;\r\n    }\r\n  }\r\n\r\n  static live() {\r\n    return dispatch => {\r\n      return FetchService.http(axios).get('/ping')\r\n        .then(({ data }) => {\r\n          dispatch({ type: ONLINE_USERS_LIVE, payload: (new Date).getTime() + (60 * 1000) });\r\n          return data;\r\n        });\r\n    }\r\n  }\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { onlineUserAction } from '@/store/actions/user/onlineUserAction'\r\n\r\n@connect(\r\n  state => state.onlineUser,\r\n  dispatch => ({\r\n    register: userId => dispatch(onlineUserAction.register(userId))\r\n  })\r\n)\r\nexport default class IsOnlineUser extends Component {\r\n\r\n  static propTypes = {\r\n    userId: PropTypes.number.isRequired\r\n  };\r\n\r\n  ref = null;\r\n\r\n  componentDidMount() {\r\n    this.listenUser();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.userId !== this.props.userId) {\r\n      this.listenUser(nextProps.userId);\r\n    }\r\n  }\r\n\r\n  getUser(userId) {\r\n    return this.props.collection.getModelByUser(userId);\r\n  }\r\n\r\n  listenUser(userId = null) {\r\n    userId = userId || this.props.userId;\r\n\r\n    let model = this.getUser(userId);\r\n\r\n    if (!model) {\r\n      model = this.props.register(userId);\r\n    }\r\n\r\n    this.ref.setAttribute('user-id', userId);\r\n\r\n    this.changeStateUser(userId, model.isOnline());\r\n\r\n    model.onChangeStatus((user, status) => this.changeStateUser(user, status));\r\n  }\r\n\r\n  changeStateUser(userId, status) {\r\n    if (this.ref && +this.ref.getAttribute('user-id') !== +userId) {\r\n      return false;\r\n    }\r\n\r\n    const elem = this.ref ? this.ref.firstChild : null;\r\n\r\n    if (elem) {\r\n      status\r\n        ? elem.classList.add('active')\r\n        : elem.classList.remove('active');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <span ref={element => this.ref = element}>\r\n        {this.props.children || ''}\r\n      </span>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Card,\r\n  CardActions,\r\n  CardHeader,\r\n  CardMedia,\r\n} from '@material-ui/core/es/index';\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport env from '@/env/env';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport PersonPinCircle from '@material-ui/icons/PersonPinCircle';\r\nimport Translate from '@/containers/Translate/Translate';\r\nimport InviteToFriend from '@/containers/InviteToFriend/InviteToFriend';\r\nimport IsOnlineUser from '@/containers/OnlineUser/IsOnlineUser';\r\nimport ImageHelper from \"@/helpers/ImageHelper\";\r\n\r\nconst styles = theme => ({\r\n  image: {\r\n    height: '400px',\r\n    backgroundPosition: 'center center'\r\n  },\r\n  avatarLabel: {\r\n    color: theme.palette.primary.main\r\n  }\r\n});\r\n\r\n@withRouter\r\n@withStyles(styles)\r\n@connect(\r\n  state => ({ user: state.user })\r\n)\r\nexport default class PeopleItem extends Component {\r\n\r\n  isInvite() {\r\n    const { id, user, all_invitations } = this.props;\r\n    all_invitations.map(item => +item);\r\n\r\n    return !user.isGuest && +user.user.id !== +id && all_invitations.indexOf(+user.user.id) === -1;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      id, coordinates, games, profile, images, name, lang, classes, user\r\n    } = this.props;\r\n\r\n    if (images.length === 0) {\r\n      images.push({\r\n        list: '/storage/images/400.png',\r\n        origin: '/storage/images/400.png',\r\n      })\r\n    }\r\n\r\n    const labelName = (\r\n      <IsOnlineUser userId={id}>\r\n        <PersonPinCircle className=\"online-user-detect-icon\" />\r\n        <span>{name}, {profile.age}</span>\r\n      </IsOnlineUser>\r\n    );\r\n\r\n    return (\r\n      <Card>\r\n        <CardHeader\r\n          avatar={\r\n            <Avatar aria-label=\"Recipe\" className={classes.avatarLabel}>\r\n              {name[0].toUpperCase()}\r\n            </Avatar>\r\n          }\r\n          title={labelName}\r\n          subheader={\r\n            coordinates\r\n              ? coordinates.location.map(({ language, address }) => language === lang ? address : null)\r\n              : null\r\n          }\r\n        />\r\n        <Carousel\r\n          emulateTouch\r\n          centerMode={images.length > 1}\r\n          showThumbs={false}\r\n          showArrows={false}\r\n          showIndicators={false}\r\n          showStatus={false}\r\n          dynamicHeight={true}\r\n          centerSlidePercentage={90}\r\n        >\r\n          {images.map((image, index) => (\r\n            <div key={index}>\r\n              <CardMedia\r\n                component=\"img\"\r\n                image={ImageHelper.url(image.list)}\r\n              />\r\n            </div>\r\n          ))}\r\n        </Carousel>\r\n        <CardActions className=\"text-right\">\r\n          <Button\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            component={Link}\r\n            to={`/${lang}/people/${id}`}\r\n          >\r\n            <Translate name=\"More\" />\r\n          </Button>\r\n\r\n          {!this.isInvite() ? null : (\r\n            <InviteToFriend\r\n              fromUser={+user.user.id}\r\n              toUser={+id}\r\n            >\r\n              <Button\r\n                size=\"small\"\r\n                color=\"primary\"\r\n              >\r\n                <Translate name=\"Send invite\" />\r\n              </Button>\r\n            </InviteToFriend>\r\n          )}\r\n        </CardActions>\r\n      </Card>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { Button, Menu, MenuItem } from \"@material-ui/core\";\r\nimport Translate from \"@/containers/Translate/Translate\";\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { SortByAlpha } from '@material-ui/icons'\r\n\r\nconst styles = theme => ({\r\n  activeItemMenu: {\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: 'black',\r\n    '&:hover': {\r\n      backgroundColor: theme.palette.primary[600],\r\n      color: 'black',\r\n    }\r\n  }\r\n});\r\n\r\n@withStyles(styles)\r\nexport default class SortLinks extends Component {\r\n\r\n  state = {\r\n    element: null\r\n  };\r\n\r\n  handleOpen = event => {\r\n    this.setState({ element: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ element: null })\r\n  };\r\n\r\n  handleSort(data) {\r\n    this.handleClose();\r\n    this.props.onChangeSort(data);\r\n  }\r\n\r\n  render() {\r\n    const { element } = this.state;\r\n    const { attributes, disabled, classes } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Button\r\n          disabled={disabled}\r\n          aria-owns={element ? 'sort-menu' : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleOpen}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n        >\r\n          <SortByAlpha className=\"mr-5\" /> {attributes.map(({ active, label }, index) => {\r\n          return active ? <Translate key={index} name={label} /> : null\r\n        })}\r\n        </Button>\r\n\r\n        <Menu\r\n          id=\"sort-menu\"\r\n          anchorEl={element}\r\n          open={Boolean(element)}\r\n          onClose={this.handleClose}\r\n        >\r\n          {attributes.map((item, index) => {\r\n            return (\r\n              <MenuItem\r\n                key={index}\r\n                onClick={() => this.handleSort(item)}\r\n                className={item.active ? classes.activeItemMenu : ''}\r\n              >\r\n                <Translate>{item.label}</Translate>\r\n              </MenuItem>\r\n            )\r\n          })}\r\n        </Menu>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}","import { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { Grid, TextField } from \"@material-ui/core\";\r\nimport Range from \"rc-slider/es/Range\";\r\n\r\nimport 'rc-slider/assets/index.css';\r\n\r\nexport default class FieldRange extends Component {\r\n\r\n  static propTypes = {\r\n    labels: PropTypes.shape({\r\n      from: PropTypes.string.isRequired,\r\n      to: PropTypes.string.isRequired\r\n    }),\r\n    rules: PropTypes.array.isRequired,\r\n    defaultValue: PropTypes.array.isRequired,\r\n    values: PropTypes.array.isRequired,\r\n    onChange: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {\r\n    min: 0,\r\n    max: 0\r\n  };\r\n\r\n  timer = null;\r\n\r\n  componentWillMount() {\r\n    const [min, max] = this.props.defaultValue;\r\n    this.setState({ min, max });\r\n  }\r\n\r\n  clearTimer() {\r\n    clearTimeout(this.timer);\r\n    this.timer = null;\r\n  }\r\n\r\n  handleChangeField(state, value) {\r\n    this.setState({ [state]: value ? value : 0 })\r\n  }\r\n\r\n  handleMin(value) {\r\n    const [minRules] = this.props.rules;\r\n    const [, maxValue] = this.props.values;\r\n\r\n    if (this.timer) {\r\n      this.clearTimer();\r\n    }\r\n\r\n    this.timer = setTimeout(() => {\r\n      value = value < minRules ? minRules : value;\r\n      value = value > maxValue ? maxValue : value;\r\n\r\n      this.handleChange(value, maxValue);\r\n      clearTimeout(this.timer);\r\n    });\r\n  }\r\n\r\n  handleMax(value) {\r\n    const [ , maxRules ] = this.props.rules;\r\n    const [ minValue ] = this.props.values;\r\n\r\n    if (this.timer) {\r\n      this.clearTimer();\r\n    }\r\n\r\n    this.timer = setTimeout(() => {\r\n      value = value > maxRules ? maxRules : value;\r\n      value = value < minValue ? minValue : value;\r\n\r\n      this.handleChange(minValue, value);\r\n      clearTimeout(this.timer);\r\n      this.timer = null;\r\n    });\r\n  }\r\n\r\n  handleChange(min, max) {\r\n    this.setState({ min, max });\r\n    this.props.onChange(min, max);\r\n  }\r\n\r\n  render() {\r\n    const { labelFrom, labelTo, values, rules, defaultValue } = this.props;\r\n    const { min, max } = this.state;\r\n    const [ minRule, maxRule ] = rules;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Grid container>\r\n          <Grid item xs={6}>\r\n            <TextField\r\n              fullWidth\r\n              label={labelFrom}\r\n              value={min}\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              className=\"mb-0\"\r\n              onChange={event => this.handleChangeField('min', +event.target.value)}\r\n              onBlur={event => this.handleMin(+event.target.value)}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <TextField\r\n              fullWidth\r\n              label={labelTo}\r\n              value={max}\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              className=\"mb-0\"\r\n              onChange={event => this.handleChangeField('max', +event.target.value)}\r\n              onBlur={event => this.handleMax(+event.target.value)}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n        <Range\r\n          min={minRule}\r\n          max={maxRule}\r\n          className=\"py-0\"\r\n          allowCross={false}\r\n          value={values}\r\n          defaultValue={defaultValue}\r\n          onChange={([minValue, maxValue]) => this.handleChange(minValue, maxValue)}\r\n        />\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TextField, Grid } from '@material-ui/core';\r\nimport Translate from \"../../../Translate/Translate\";\r\nimport FieldRange from \"../../../../components/UI/FieldRange/FieldRange\";\r\nimport { MenuItem } from \"@material-ui/core/es\";\r\nimport Autocomplete from \"../../../../components/UI/Autocomplete/Autocomplete\";\r\nimport Button from \"@material-ui/core/es/Button/Button\";\r\n\r\nconst initialState = {\r\n  name: '',\r\n  body_type: '',\r\n  hair_color: '',\r\n  eye_color: '',\r\n  orientation: '',\r\n  gender: '',\r\n  age: { min: 0, max: 120 },\r\n  height: { min: 0, max: 300 },\r\n  weight: { min: 0, max: 500 },\r\n  games: [],\r\n  genres: [],\r\n  location: ''\r\n};\r\n\r\nexport default class PeopleSearch extends Component {\r\n\r\n  static propTypes = {\r\n    labels: PropTypes.shape({\r\n      body: PropTypes.array,\r\n      eye: PropTypes.array,\r\n      gender: PropTypes.array,\r\n      hair: PropTypes.array,\r\n      orientation: PropTypes.array\r\n    }),\r\n    games: PropTypes.array,\r\n    genres: PropTypes.array,\r\n    data: PropTypes.object,\r\n    disabled: PropTypes.bool,\r\n    onSubmit: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {...initialState};\r\n\r\n  componentWillMount() {\r\n    const dataKeys = Object.keys(this.props.data);\r\n\r\n    if (dataKeys.length === 0) {\r\n      return;\r\n    }\r\n\r\n    dataKeys.forEach(key => {\r\n      if (key in this.state) {\r\n        this.setState({ [key]: this.props.data[key] })\r\n      }\r\n    });\r\n  }\r\n\r\n  handleField(controlName, value) {\r\n    this.setState({ [controlName]: value });\r\n  }\r\n\r\n  selectRender(control, label, options) {\r\n    options = [{ key: '', value: 'Choose' }, ...options];\r\n\r\n    return (\r\n      <TextField\r\n        fullWidth\r\n        select\r\n        label={<Translate>{label}</Translate>}\r\n        value={this.state[control] || ''}\r\n        onChange={event => this.handleField(control, event.target.value)}\r\n        SelectProps={{\r\n          renderValue: selected => options.map(option => {\r\n            return option.key === selected\r\n              ? <Translate key={option.key}>{option.value}</Translate>\r\n              : null;\r\n          })\r\n        }}\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n      >\r\n        {options.map(option => (\r\n          <MenuItem key={option.key} value={option.key}>\r\n            <Translate>{option.value}</Translate>\r\n          </MenuItem>\r\n        ))}\r\n      </TextField>\r\n    )\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    this.props.onSubmit(this.state);\r\n  }\r\n\r\n  handleResetForm(event) {\r\n    event.preventDefault();\r\n\r\n    this.setState({...initialState});\r\n    this.props.onSubmit({});\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      age,\r\n      height,\r\n      weight,\r\n      games,\r\n      genres,\r\n      location\r\n    } = this.state;\r\n    const { labels, disabled } = this.props;\r\n\r\n    return (\r\n      <form\r\n        noValidate\r\n        autoComplete=\"off\"\r\n        onSubmit={event => this.handleSubmit(event)}\r\n        onReset={event => this.handleResetForm(event)}\r\n        className=\"mb-25\"\r\n      >\r\n        <Grid container spacing={16}>\r\n          <Grid item sm={6} xs={12}>\r\n            <TextField\r\n              fullWidth\r\n              label={<Translate>Name</Translate>}\r\n              value={name}\r\n              onChange={event => this.handleField('name', event.target.value)}\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n            />\r\n          </Grid>\r\n          <Grid item sm={6} xs={12}>\r\n            <TextField\r\n              fullWidth\r\n              label={<Translate>Country or city</Translate>}\r\n              value={location}\r\n              onChange={event => this.handleField('location', event.target.value)}\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            {this.selectRender('body_type', 'Body type', labels.body)}\r\n          </Grid>\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            {this.selectRender('hair_color', 'Hair color', labels.hair)}\r\n          </Grid>\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            {this.selectRender('eye_color', 'Eye color', labels.eye)}\r\n          </Grid>\r\n\r\n          <Grid item sm={6} xs={12}>\r\n            {this.selectRender('orientation', 'Orientation', labels.orientation)}\r\n          </Grid>\r\n          <Grid item sm={6} xs={12}>\r\n            {this.selectRender('gender', 'Gender', labels.gender)}\r\n          </Grid>\r\n\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <FieldRange\r\n              labelFrom={<Translate name=\"Age from\" />}\r\n              labelTo={<Translate name=\"Age to\" />}\r\n              rules={[0, 120]}\r\n              defaultValue={[0, 120]}\r\n              values={[age.min, age.max]}\r\n              onChange={(min, max) => this.handleField('age', { min, max })}\r\n            />\r\n          </Grid>\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <FieldRange\r\n              labelFrom={<Translate name=\"Height from\" />}\r\n              labelTo={<Translate name=\"Height to\" />}\r\n              rules={[100, 280]}\r\n              defaultValue={[100, 280]}\r\n              values={[height.min, height.max]}\r\n              onChange={(min, max) => this.handleField('height', { min, max })}\r\n            />\r\n          </Grid>\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <FieldRange\r\n              labelFrom={<Translate name=\"Weight from\" />}\r\n              labelTo={<Translate name=\"Weight to\" />}\r\n              rules={[0, 500]}\r\n              defaultValue={[0, 500]}\r\n              values={[weight.min, weight.max]}\r\n              onChange={(min, max) => this.handleField('weight', { min, max })}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item sm={6} xs={12}>\r\n            <Autocomplete\r\n              items={this.props.games}\r\n              values={games}\r\n              placeholder=\"...\"\r\n              label={<Translate name=\"Online games\" />}\r\n              onChangeItems={value => this.handleField('games', value)}\r\n              variant=\"outlined\"\r\n            />\r\n          </Grid>\r\n          <Grid item sm={6} xs={12}>\r\n            <Autocomplete\r\n              items={this.props.genres}\r\n              values={genres}\r\n              placeholder=\"...\"\r\n              label={<Translate name=\"Game genres\" />}\r\n              onChangeItems={value => this.handleField('genres', value)}\r\n              variant=\"outlined\"\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <div className=\"text-right pt-10\">\r\n          <Button\r\n            type=\"reset\"\r\n            color=\"default\"\r\n            variant=\"contained\"\r\n            className=\"bg-red text-red-100 mr-5\"\r\n            disabled={disabled}\r\n          >\r\n            <Translate name=\"Reset\" />\r\n          </Button>\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            disabled={disabled}\r\n          >\r\n            <Translate name=\"Search\" />\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Pagination from '@/components/UI/Pagination/Pagination';\r\nimport {\r\n  fetchModels,\r\n  replacePage\r\n} from \"@/store/actions/people/peopleListAction\";\r\nimport { Grid } from \"@material-ui/core/es/index\";\r\nimport PeopleItem from \"@/containers/Pages/People/Item/PeopleItem\";\r\nimport Container from \"@/components/UI/Container/Container\";\r\nimport SortLinks from \"@/components/UI/SortLinks/SortLinks\";\r\nimport PeopleSearch from \"@/containers/Pages/People/Search/PeopleSearch\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { Search } from '@material-ui/icons'\r\nimport IconButton from \"@material-ui/core/es/IconButton/IconButton\";\r\nimport Refresh from '@material-ui/icons/Refresh';\r\n\r\n@withRouter\r\n@connect(\r\n  state => ({ lang: state.translate.locale, ...state.peopleList }),\r\n  dispatch => ({\r\n    fetchModels: (url, formData) => dispatch(fetchModels(url, formData)),\r\n  })\r\n)\r\nexport default class PeopleList extends Component {\r\n\r\n  state = {\r\n    searchFormShow: false\r\n  };\r\n\r\n  fetch() {\r\n    this.props.fetchModels('/people');\r\n  }\r\n\r\n  componentWillMount() {\r\n    if (this.props.loaderList) {\r\n      this.fetch();\r\n    }\r\n  }\r\n\r\n  handleToggleShowSearch = () => {\r\n    this.setState({ searchFormShow: !this.state.searchFormShow });\r\n  };\r\n\r\n  handlePagination(page) {\r\n    const { formData, firstPageUrl } = this.props;\r\n    this.props.fetchModels(replacePage(firstPageUrl, page), formData);\r\n  }\r\n\r\n  handleSort(sort) {\r\n    this.props.fetchModels(sort.url, this.props.formData);\r\n  }\r\n\r\n  handleSearchForm(data) {\r\n    this.handleToggleShowSearch();\r\n    this.props.fetchModels(replacePage(this.props.url, 1), data);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      loaderList, models, totalItems, params,\r\n      perPage, currentPage, lang, sortAttributes, formData\r\n    } = this.props;\r\n\r\n    return (\r\n      <Container>\r\n        <div className=\"mb-15 text-right\">\r\n          <IconButton\r\n            className=\"mr-10\"\r\n            onClick={this.fetch.bind(this)}\r\n            disabled={loaderList}\r\n            color=\"primary\"\r\n          >\r\n            <Refresh />\r\n          </IconButton>\r\n\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            onClick={this.handleToggleShowSearch}\r\n            disabled={loaderList}\r\n          >\r\n            <Search />\r\n          </Button>\r\n\r\n          <SortLinks\r\n            attributes={sortAttributes}\r\n            disabled={loaderList}\r\n            onChangeSort={data => this.handleSort(data)}\r\n          />\r\n        </div>\r\n\r\n        {Object.keys(params).length > 0 && this.state.searchFormShow ? (\r\n          <div className=\"mb-15\">\r\n            <PeopleSearch\r\n              {...params}\r\n              data={formData}\r\n              disabled={loaderList}\r\n              onSubmit={data => this.handleSearchForm(data)}\r\n            />\r\n          </div>\r\n        ) : null}\r\n\r\n        <Grid container spacing={16}>\r\n          {models.map((item, index) => (\r\n            <Grid item md={4} sm={6} xs={12} key={index}>\r\n              <PeopleItem {...item} lang={lang} />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n\r\n        <div className=\"py-25\">\r\n          <Pagination\r\n            limit={perPage}\r\n            currentPage={currentPage}\r\n            total={totalItems}\r\n            disabled={loaderList}\r\n            centerRipple={true}\r\n            size=\"large\"\r\n            onClick={(e, page) => this.handlePagination(page)}\r\n          />\r\n        </div>\r\n      </Container>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = theme => ({\r\n  loader: {\r\n    position: 'fixed',\r\n    zIndex: 9999,\r\n    top: 0,\r\n    left: 0,\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nconst Loader = ({ loader, classes }) => (\r\n  <div className={classes.loader}>\r\n    {loader ? <LinearProgress /> : null}\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(Loader);","import {\r\n  USER_DETAIL_FETCH,\r\n  USER_DETAIL_CLEAR,\r\n  USER_DETAIL_ERROR\r\n} from '../actionTypes';\r\nimport axios from '../../../axios/axios-api';\r\nimport ErrorHelper from \"../../../helpers/ErrorHelper\";\r\nimport { loaderOff, loaderOn } from \"../loader/loaderAction\";\r\n\r\nexport function fetchInfo(id) {\r\n  return async (dispatch, getState) => {\r\n    dispatch(loaderOn());\r\n\r\n    try {\r\n      const { data } = await axios.get(`/people/${id}`);\r\n      dispatch(successFetch(data));\r\n    } catch (e) {\r\n      dispatch(errorFetch(ErrorHelper.getMessageByError(e)));\r\n    }\r\n\r\n    dispatch(loaderOff());\r\n  }\r\n}\r\n\r\nfunction successFetch(data) {\r\n  return { type: USER_DETAIL_FETCH, payload: data };\r\n}\r\n\r\nfunction errorFetch(error) {\r\n  return { type: USER_DETAIL_ERROR, payload: error };\r\n}\r\n\r\nexport function clearInfo() {\r\n  return { type: USER_DETAIL_CLEAR };\r\n}","import React from 'react';\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport Paper from \"@material-ui/core/es/Paper/Paper\";\r\nimport { CardMedia } from \"@material-ui/core/es\";\r\nimport ImageHelper from \"@/helpers/ImageHelper\";\r\n\r\nconst UserFace = ({ images }) => (\r\n  <Paper>\r\n    <Carousel\r\n      emulateTouch\r\n      centerMode={images.length > 1}\r\n      showThumbs={false}\r\n      showArrows={false}\r\n      showIndicators={false}\r\n      showStatus={false}\r\n      dynamicHeight={true}\r\n      centerSlidePercentage={90}\r\n    >\r\n      {images.map((image, index) => (\r\n        <div key={index}>\r\n          <CardMedia\r\n            component=\"img\"\r\n            image={ImageHelper.url(image.list)}\r\n          />\r\n        </div>\r\n      ))}\r\n    </Carousel>\r\n  </Paper>\r\n);\r\n\r\nexport default UserFace;","import React from 'react';\r\nimport { YMaps, Map, Circle } from 'react-yandex-maps';\r\nimport Paper from \"@material-ui/core/es/Paper/Paper\";\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\n\r\nconst UserMap = ({ lat, long, location, lang }) => (\r\n  <React.Fragment>\r\n    <Paper className=\"px-8 py-8 mb-8\">\r\n      <Typography component=\"p\">\r\n        {location.map(item => item.language === lang ? item.address : null)}\r\n      </Typography>\r\n    </Paper>\r\n    <Paper>\r\n      <YMaps>\r\n        <Map\r\n          style={{width: '100%', height: '320px'}}\r\n          className=\"mb-25\"\r\n          defaultState={{ center: [lat, long], zoom: 14 }}\r\n        >\r\n          <Circle\r\n            geometry={[[lat, long], 500]}\r\n            options={{\r\n              strokeColor: '#166299',\r\n              strokeOpacity: 0.8,\r\n              strokeWidth: 2,\r\n            }}\r\n          />\r\n        </Map>\r\n      </YMaps>\r\n    </Paper>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default UserMap;","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst List = ({ classes, children }) => (\r\n  <ul className={classes.list}>\r\n    {children}\r\n  </ul>\r\n);\r\n\r\nexport default withStyles(theme => ({\r\n  list: {\r\n    listStyle: 'none',\r\n    padding: 0,\r\n    margin: 0,\r\n    maxWidth: '500px',\r\n  }\r\n}))(List);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst ListItem = ({ label, value, classes }) => (\r\n  <li className={classes.item}>\r\n    <div className={classes.label}>{label}</div>\r\n    <div className={classes.dotted} />\r\n    <div className={classes.value}>{value}</div>\r\n  </li>\r\n);\r\n\r\nexport default withStyles(theme => ({\r\n  item: {\r\n    marginBottom: theme.spacing.unit * 2,\r\n    alignItems: 'flex-end !important',\r\n    display: 'flex',\r\n    flexWrap: 'wrap'\r\n  },\r\n  dotted: {\r\n    flexBasis: 0,\r\n    flexGrow: 1,\r\n    maxWidth: '100%',\r\n    borderBottom: `1px dotted ${theme.palette.grey[\"500\"]}`,\r\n    marginBottom: '7px',\r\n    opacity: '.5'\r\n  },\r\n  label: {\r\n    flex: '0 0 auto',\r\n    width: 'auto',\r\n    maxWidth: 'none',\r\n    paddingRight: '5px',\r\n    color: theme.palette.grey[\"400\"]\r\n  },\r\n  value: {\r\n    flex: '0 0 auto',\r\n    width: 'auto',\r\n    maxWidth: 'none',\r\n    paddingLeft: '5px'\r\n  }\r\n}))(ListItem);","import {\r\n  GALLERY_LIST_USER_QUERY,\r\n  GALLERY_LIST_USER_LOADER,\r\n  GALLERY_LIST_USER_ERROR,\r\n  GALLERY_LIST_USER_CLEAR\r\n} from \"../../actionTypes\";\r\nimport axios from '../../../../axios/axios-api';\r\nimport ErrorHelper from \"../../../../helpers/ErrorHelper\";\r\nimport { correctUrl } from \"../../people/peopleListAction\";\r\n\r\nexport function fetchList(url) {\r\n  return async (dispatch, getState) => {\r\n    const state = getState();\r\n    const { models } = state.imagesList;\r\n\r\n    dispatch(loader());\r\n\r\n    try {\r\n      const { data } = await axios.get(url);\r\n      dispatch(success(data, models))\r\n    } catch (e) {\r\n      dispatch(error(ErrorHelper.getMessageByError(e)));\r\n    }\r\n  }\r\n}\r\n\r\nfunction success(response, oldModels) {\r\n  const payload = {\r\n    models: oldModels.concat(response.data),\r\n    totalItems: response.total,\r\n    currentPage: response.current_page,\r\n    perPage: response.per_page,\r\n    lastPage: response.last_page,\r\n    nextPageUrl: correctUrl(response.next_page_url),\r\n    prevPageUrl: correctUrl(response.prev_page_url),\r\n    firstPageUrl: correctUrl(response.first_page_url),\r\n    lastPageUrl: correctUrl(response.lastPageUrl)\r\n  };\r\n\r\n  return { type: GALLERY_LIST_USER_QUERY, payload }\r\n}\r\n\r\nfunction error(error) {\r\n  return { type: GALLERY_LIST_USER_ERROR, payload: error }\r\n}\r\n\r\nfunction loader() {\r\n  return { type: GALLERY_LIST_USER_LOADER }\r\n}\r\n\r\nexport function clearList() {\r\n  return { type: GALLERY_LIST_USER_CLEAR }\r\n}","import React, { Component } from 'react';\r\nimport Dialog from \"@material-ui/core/Dialog/Dialog\";\r\nimport AppBar from \"@material-ui/core/AppBar/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\r\nimport Close from '@material-ui/icons/Close';\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport Container from \"../../../../components/UI/Container/Container\";\r\nimport ImageHelper from \"@/helpers/ImageHelper\";\r\n\r\nexport default class ImagesItem extends Component {\r\n\r\n  state = {\r\n    open: false,\r\n  };\r\n\r\n  handleOpen() {\r\n    this.setState({ open: true });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ open: false });\r\n  }\r\n\r\n  selectedItem() {\r\n    const { id, images } = this.props;\r\n    const result = images.find(item => +item.id === +id);\r\n    return images.indexOf(result);\r\n  }\r\n\r\n  render() {\r\n    const { url, images } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <img src={ImageHelper.url(url)} alt=\"\" onClick={this.handleOpen.bind(this)} />\r\n\r\n        <Dialog\r\n          fullScreen\r\n          open={this.state.open}\r\n          onClose={this.handleClose.bind(this)}\r\n        >\r\n          <AppBar>\r\n            <Toolbar>\r\n              <IconButton\r\n                color=\"inherit\"\r\n                onClick={this.handleClose.bind(this)}\r\n                aria-label=\"Close\"\r\n              >\r\n                <Close />\r\n              </IconButton>\r\n            </Toolbar>\r\n          </AppBar>\r\n\r\n          <div className=\"pt-75\">\r\n            <Container>\r\n              <Carousel\r\n                emulateTouch\r\n                centerMode={images.length > 1}\r\n                showThumbs={true}\r\n                showArrows={true}\r\n                showIndicators={true}\r\n                showStatus={false}\r\n                dynamicHeight={false}\r\n                centerSlidePercentage={90}\r\n                selectedItem={this.selectedItem()}\r\n              >\r\n                {images.map(({ origin }, index) => (\r\n                  <div key={index}>\r\n                    <img src={ImageHelper.url(origin)} alt=\"\" />\r\n                  </div>\r\n                ))}\r\n              </Carousel>\r\n            </Container>\r\n          </div>\r\n        </Dialog>\r\n\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport GridList from \"@material-ui/core/GridList/GridList\";\r\nimport GridListTile from \"@material-ui/core/GridListTile/GridListTile\";\r\nimport { fetchList, clearList } from \"../../../../store/actions/user-detail/images/imagesListAction\";\r\nimport Button from \"@material-ui/core/es/Button/Button\";\r\nimport Translate from \"../../../Translate/Translate\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport ImagesItem from \"./ImagesItem\";\r\n\r\n@withStyles(theme => ({\r\n  heading: {\r\n    ...theme.typography.h5,\r\n    marginBottom: theme.spacing.unit * 2,\r\n    marginTop: theme.spacing.unit * 3\r\n  }\r\n}))\r\n@connect(\r\n  state => ({\r\n    ...state.imagesList,\r\n    lang: state.translate.locale,\r\n    device: state.mobileDetect.device\r\n  }),\r\n  dispatch => ({\r\n    fetchModels: url => dispatch(fetchList(url)),\r\n    clearList: () => dispatch(clearList()),\r\n  })\r\n)\r\nexport default class ImagesList extends Component {\r\n  componentWillMount() {\r\n    this.props.fetchModels(`/people/${this.props.userId}/gallery`);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clearList();\r\n  }\r\n\r\n  handleLoadMore() {\r\n    this.props.fetchModels(this.props.nextPageUrl);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      models, loaderList, totalItems,\r\n      nextPageUrl, device, classes\r\n    } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className={classes.heading}>\r\n          <Translate name=\"Photos (:total)\" params={{ total: totalItems }} />\r\n        </div>\r\n\r\n        <GridList cellHeight={180} cols={device.getValueByData({\r\n          xs: 2, sm: 3, md: 3, lg: 4\r\n        })}>\r\n          {models.map((item, index) => (\r\n            <GridListTile key={index} cols={1}>\r\n              <ImagesItem {...item} images={models} />\r\n            </GridListTile>\r\n          ))}\r\n        </GridList>\r\n\r\n        {nextPageUrl ? (\r\n          <div className=\"text-center mt-15\">\r\n            <Button\r\n              disabled={loaderList}\r\n              color=\"primary\"\r\n              onClick={() => this.handleLoadMore()}\r\n            >\r\n              <Translate name=\"Show more\" />\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  fetchInfo,\r\n  clearInfo\r\n} from \"../../../store/actions/user-detail/userDetailAction\";\r\nimport Container from \"../../../components/UI/Container/Container\";\r\nimport Alert from \"../../../components/UI/Alert/Alert\";\r\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport UserFace from \"./UserFace\";\r\nimport UserMap from \"./UserMap\";\r\nimport List from \"../../../components/UI/List/List\";\r\nimport ListItem from \"../../../components/UI/List/ListItem\";\r\nimport Translate from \"../../Translate/Translate\";\r\nimport Paper from \"@material-ui/core/es/Paper/Paper\";\r\nimport Chip from \"@material-ui/core/Chip/Chip\";\r\nimport ImagesList from \"./Images/ImagesList\";\r\nimport IsOnlineUser from \"@/containers/OnlineUser/IsOnlineUser\";\r\nimport PersonPinCircle from \"@material-ui/icons/PersonPinCircle\";\r\n\r\n@withRouter\r\n@withStyles(theme => ({\r\n  leftContainer: {\r\n    maxWidth: '320px',\r\n    marginBottom: theme.spacing.unit * 2\r\n  },\r\n  widthContainer: {\r\n    width: '100%'\r\n  }\r\n}))\r\n@connect(\r\n  state => ({ lang: state.translate.locale, detail: state.userDetail }),\r\n  dispatch => ({\r\n    fetchInfo: id => dispatch(fetchInfo(id)),\r\n    clearInfo: () => dispatch(clearInfo())\r\n  })\r\n)\r\nexport default class PeopleDetail extends Component {\r\n\r\n  componentWillMount() {\r\n    const id = +this.props.match.params.id;\r\n    this.props.fetchInfo(id);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clearInfo();\r\n  }\r\n\r\n  renderProfileList(label, value, labelItems) {\r\n    const [ labelItem ] = labelItems.filter(({ key }) => key === value);\r\n\r\n    return !labelItem ? null : (\r\n      <ListItem\r\n        label={<Translate name={label} />}\r\n        value={<Translate name={labelItem.value} />}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { classes, detail, lang } = this.props;\r\n    const { info, loaderInfo, error } = detail;\r\n\r\n    if (loaderInfo) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Container>\r\n        {error ? <Alert type=\"danger\">{error}</Alert> : (\r\n          <React.Fragment>\r\n            <Grid container spacing={40}>\r\n              <Grid item>\r\n                <div className={classes.leftContainer}>\r\n                  <UserFace images={info.images} />\r\n                </div>\r\n                {info.coordinates ? (\r\n                  <div className={classes.leftContainer}>\r\n                    <UserMap {...info.coordinates} lang={lang} />\r\n                  </div>\r\n                ) : null}\r\n              </Grid>\r\n              <Grid item xs={12} sm container>\r\n                <div className={classes.widthContainer}>\r\n                  <Typography component=\"h1\" variant=\"h4\" gutterBottom className=\"mb-40\">\r\n                    <IsOnlineUser userId={info.id}>\r\n                      <PersonPinCircle className=\"online-user-detect-icon\" />\r\n                    </IsOnlineUser>\r\n                    {info.name}\r\n                  </Typography>\r\n\r\n                  <div className=\"mb-25\">\r\n                    <List>\r\n                      <ListItem\r\n                        label={<Translate name=\"Age\" />}\r\n                        value={<Translate name=\":age years\" params={{ age: info.profile.age }} />}\r\n                      />\r\n                      {this.renderProfileList('Gender', info.profile.gender, info.labels.gender)}\r\n                      {this.renderProfileList('Orientation', info.profile.orientation, info.labels.orientation)}\r\n                      {this.renderProfileList('Body type', info.profile.body_type, info.labels.body)}\r\n                      <ListItem\r\n                        label={<Translate name=\"Height\" />}\r\n                        value={<Translate name=\":height sm\" params={{ height: info.profile.height }} />}\r\n                      />\r\n                      <ListItem\r\n                        label={<Translate name=\"Weight\" />}\r\n                        value={<Translate name=\":weight kg\" params={{ weight: info.profile.weight }} />}\r\n                      />\r\n                      {this.renderProfileList('Hair color', info.profile.hair_color, info.labels.hair)}\r\n                      {this.renderProfileList('Eye color', info.profile.eye_color, info.labels.eye)}\r\n                    </List>\r\n                  </div>\r\n\r\n                  {info.games.length === 0 ? null : (\r\n                    <Paper className=\"py-15 px-15\">\r\n                      {info.games.map(({ title, id }) =>\r\n                        <Chip\r\n                          key={id}\r\n                          tabIndex={-1}\r\n                          label={title}\r\n                          className=\"my-5 mr-5\"\r\n                          color=\"primary\"\r\n                        />\r\n                      )}\r\n                    </Paper>\r\n                  )}\r\n\r\n                  <ImagesList userId={info.id} />\r\n                </div>\r\n              </Grid>\r\n            </Grid>\r\n          </React.Fragment>\r\n        )}\r\n      </Container>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst Heading = ({ component, size, classes, children, ...params }) => (\r\n  React.createElement(component || 'h1', {\r\n    ...params,\r\n    className: classes[`heading-${size || 4}`]\r\n  }, children)\r\n);\r\n\r\nexport default withStyles(theme => ({\r\n  'heading-1': theme.typography.h1,\r\n  'heading-2': theme.typography.h2,\r\n  'heading-3': theme.typography.h3,\r\n  'heading-4': theme.typography.h4,\r\n  'heading-5': theme.typography.h5,\r\n  'heading-6': theme.typography.h6,\r\n}))(Heading);","import {\r\n  INVITE_LIST_LOADER_LIST,\r\n  INVITE_LIST_QUERY,\r\n  INVITE_LIST_ERROR,\r\n  INVITE_LIST_TRANSFORM\r\n} from '../actionTypes';\r\nimport axios from '../../../axios/axios-api';\r\nimport FetchService from \"../../../services/fetch/FetchService\";\r\nimport ErrorHelper from \"../../../helpers/ErrorHelper\";\r\nimport { loaderOff, loaderOn } from \"../loader/loaderAction\";\r\nimport { correctUrl } from \"../people/peopleListAction\";\r\n\r\nexport function fetchModels(url, append) {\r\n  return async (dispatch, getState) => {\r\n    const state = getState();\r\n    const { models } = state.inviteList;\r\n\r\n    dispatch(loaderList());\r\n    dispatch(loaderOn());\r\n\r\n    try {\r\n      const { data } = await FetchService.http(axios).get(url);\r\n      dispatch(queryResult(url, data, append ? models : []));\r\n    } catch (e) {\r\n      dispatch(error(ErrorHelper.getMessageByError(e)));\r\n    }\r\n\r\n    dispatch(loaderOff());\r\n  }\r\n}\r\n\r\nexport function transformModels(models) {\r\n  return { type: INVITE_LIST_TRANSFORM, payload: models }\r\n}\r\n\r\nfunction loaderList() {\r\n  return { type: INVITE_LIST_LOADER_LIST }\r\n}\r\n\r\nfunction error(error) {\r\n  return { type: INVITE_LIST_ERROR, payload: error }\r\n}\r\n\r\nfunction queryResult(url, response, models) {\r\n  const payload = {\r\n    models: models.concat(response.data),\r\n    url,\r\n    totalItems: response.total,\r\n    currentPage: response.current_page,\r\n    perPage: response.per_page,\r\n    lastPage: response.last_page,\r\n    nextPageUrl: correctUrl(response.next_page_url),\r\n    prevPageUrl: correctUrl(response.prev_page_url),\r\n    firstPageUrl: correctUrl(response.first_page_url),\r\n    lastPageUrl: correctUrl(response.lastPageUrl),\r\n    params: response.params,\r\n    sortAttributes: response.sortAttributes.map(sortItem => {\r\n      return {...sortItem, url: correctUrl(sortItem.url)}\r\n    })\r\n  };\r\n\r\n  return { type: INVITE_LIST_QUERY, payload }\r\n}","import React from 'react';\r\nimport { Button as ButtonMaterial } from  '@material-ui/core';\r\nimport * as colors from '@material-ui/core/colors';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst Button = ({ children, classes, typeColor, ...params }) => {\r\n\r\n  let className = [];\r\n\r\n  if (params.className) {\r\n    className = [...className, ...params.className.split(' ')];\r\n  }\r\n\r\n  if (typeColor) {\r\n    className.push(classes[typeColor || 'blue']);\r\n  }\r\n\r\n  return (\r\n    <ButtonMaterial\r\n      {...params}\r\n      className={className.join(' ')}\r\n    >\r\n      {children}\r\n    </ButtonMaterial>\r\n  )\r\n};\r\n\r\nconst colorsObject = {};\r\n\r\nObject.keys(colors).forEach(key => {\r\n  colorsObject[key] = {\r\n    backgroundColor: colors[key].main || colors[key][500],\r\n    color: colors[key].contrastText || 'white',\r\n    '&:hover': {\r\n      backgroundColor: colors[key].dark || colors[key][700],\r\n    }\r\n  };\r\n});\r\n\r\nexport default withStyles(colorsObject)(Button);","import {\r\n  INVITE_CONTROL_ERROR,\r\n  INVITE_CONTROL_LOADER,\r\n  INVITE_CONTROL_SUCCESS\r\n} from \"../actionTypes\";\r\nimport ErrorHelper from \"../../../helpers/ErrorHelper\";\r\nimport axios from \"../../../axios/axios-api\";\r\nimport FetchService from \"../../../services/fetch/FetchService\";\r\nimport { transformModels } from \"./inviteListAction\";\r\nimport { removeRequest } from \"./requests/friendsNewRequestsAction\";\r\n\r\nexport class inviteItemControlAction {\r\n  static asyncFetchByUrl(url, inviteId) {\r\n    return async (dispatch, getState) => {\r\n      dispatch(this.loader());\r\n\r\n      const state = getState();\r\n      let { models } = state.inviteList;\r\n\r\n      try {\r\n        const { data } = await FetchService.http(axios).get(url);\r\n        dispatch(this.success());\r\n        dispatch(transformModels(models.filter(model => +model.invite.id !== +inviteId)));\r\n        dispatch(removeRequest());\r\n      } catch (e) {\r\n        dispatch(this.error(ErrorHelper.getMessageByError(e)));\r\n      }\r\n    }\r\n  }\r\n\r\n  static refuse(inviteId) {\r\n    return this.asyncFetchByUrl(`/user/friend/invite/refuse/${inviteId}`, inviteId);\r\n  }\r\n\r\n  static accept(inviteId) {\r\n    return this.asyncFetchByUrl(`/user/friend/invite/accept/${inviteId}`, inviteId);\r\n  }\r\n\r\n  static loader() {\r\n    return { type: INVITE_CONTROL_LOADER }\r\n  }\r\n\r\n  static error(error) {\r\n    return { type: INVITE_CONTROL_ERROR, payload: error }\r\n  }\r\n\r\n  static success() {\r\n    return { type: INVITE_CONTROL_SUCCESS }\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { Avatar, Card, CardActions, CardHeader, CardMedia } from \"@material-ui/core/es\";\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Translate from \"../../Translate/Translate\";\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport env from \"../../../env/env\";\r\nimport Button from \"../../../components/UI/Buttons/Button\";\r\nimport { translate } from '../../../store/actions/translate/translateAction';\r\nimport CardContent from \"@material-ui/core/es/CardContent/CardContent\";\r\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\r\nimport { inviteItemControlAction } from \"../../../store/actions/friends/inviteItemControlAction\";\r\n\r\nconst styles = theme => ({\r\n  image: {\r\n    height: '400px',\r\n    backgroundPosition: 'center center'\r\n  },\r\n  avatarLabel: {\r\n    color: theme.palette.primary.main\r\n  },\r\n  buttons: {\r\n    justifyContent: 'space-between'\r\n  }\r\n});\r\n\r\n@withStyles(styles)\r\n@connect(\r\n  state => ({ lang: state.translate.locale, ...state.inviteItemControl }),\r\n  dispatch => ({\r\n    accept: inviteId => dispatch(inviteItemControlAction.accept(inviteId)),\r\n    refuse: inviteId => dispatch(inviteItemControlAction.refuse(inviteId))\r\n  })\r\n)\r\nexport default class InviteItem extends Component {\r\n\r\n  handleRefuse() {\r\n    if (!confirm(translate('Are you sure?'))) {\r\n      return false;\r\n    }\r\n\r\n    this.props.refuse(this.props.invite.id);\r\n  }\r\n\r\n  handleAccept() {\r\n    this.props.accept(this.props.invite.id);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      id, lang, classes, name, profile, coordinates, images, invite, loader\r\n    } = this.props;\r\n\r\n    if (images.length === 0) {\r\n      images.push({\r\n        list: env.mediaUrl + '/images/400.png',\r\n        origin: env.mediaUrl + '/images/400.png',\r\n      })\r\n    }\r\n\r\n    return (\r\n      <Card>\r\n        <CardHeader\r\n          avatar={\r\n            <Avatar aria-label=\"Recipe\" className={classes.avatarLabel}>\r\n              {name[0].toUpperCase()}\r\n            </Avatar>\r\n          }\r\n          title={`${name}, ${profile.age}`}\r\n          subheader={\r\n            coordinates\r\n              ? coordinates.location.map(({ language, address }) => language === lang ? address : null)\r\n              : null\r\n          }\r\n        />\r\n        <Carousel\r\n          emulateTouch\r\n          centerMode={images.length > 1}\r\n          showThumbs={false}\r\n          showArrows={false}\r\n          showIndicators={false}\r\n          showStatus={false}\r\n          dynamicHeight={true}\r\n          centerSlidePercentage={90}\r\n        >\r\n          {images.map((image, index) => (\r\n            <div key={index}>\r\n              <CardMedia\r\n                component=\"img\"\r\n                image={image.list}\r\n              />\r\n            </div>\r\n          ))}\r\n        </Carousel>\r\n        <CardContent>\r\n          <Typography>\r\n            {invite ? invite.message : null}\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions className={classes.buttons}>\r\n          <Button\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            component={Link}\r\n            to={`/${lang}/people/${id}`}\r\n            disabled={loader}\r\n          >\r\n            <Translate name=\"More\" />\r\n          </Button>\r\n\r\n          <div>\r\n            <Button\r\n              variant=\"contained\"\r\n              size=\"small\"\r\n              typeColor=\"green\"\r\n              className=\"mr-5\"\r\n              onClick={this.handleAccept.bind(this)}\r\n              disabled={loader}\r\n            >\r\n              <Translate name=\"Accept\" />\r\n            </Button>\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              size=\"small\"\r\n              typeColor=\"red\"\r\n              onClick={this.handleRefuse.bind(this)}\r\n              disabled={loader}\r\n            >\r\n              <Translate name=\"Refuse\" />\r\n            </Button>\r\n          </div>\r\n        </CardActions>\r\n      </Card>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchModels } from \"../../../store/actions/friends/inviteListAction\";\r\nimport SortLinks from \"../../../components/UI/SortLinks/SortLinks\";\r\nimport { Grid } from \"@material-ui/core/es\";\r\nimport Button from \"@material-ui/core/es/Button/Button\";\r\nimport Translate from \"../../Translate/Translate\";\r\nimport { replacePage } from \"../../../store/actions/people/peopleListAction\";\r\nimport InviteItem from \"./InviteItem\";\r\nimport IconButton from \"@material-ui/core/es/IconButton/IconButton\";\r\nimport Refresh from '@material-ui/icons/Refresh';\r\n\r\n@connect(\r\n  state => state.inviteList,\r\n  dispatch => ({\r\n    fetchModels: (url, append) => dispatch(fetchModels(url, append)),\r\n  })\r\n)\r\nexport default class InviteList extends Component {\r\n\r\n  fetchUrl = '/user/friend/invite-list';\r\n\r\n  fetch() {\r\n    this.props.fetchModels(this.fetchUrl);\r\n  }\r\n\r\n  componentWillMount() {\r\n    if (this.props.loaderList) {\r\n      this.fetch();\r\n    }\r\n  }\r\n\r\n  handleLoadMore() {\r\n    this.props.fetchModels(this.props.nextPageUrl, true);\r\n  }\r\n\r\n  handleSort({ url }) {\r\n    this.props.fetchModels(replacePage(url, 1), false);\r\n  }\r\n\r\n  render() {\r\n    const { sortAttributes, loaderList, models, nextPageUrl } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"text-right mb-25\">\r\n          <IconButton\r\n            className=\"mr-10\"\r\n            onClick={this.fetch.bind(this)}\r\n            disabled={loaderList}\r\n            color=\"primary\"\r\n          >\r\n            <Refresh />\r\n          </IconButton>\r\n\r\n          <SortLinks\r\n            attributes={sortAttributes}\r\n            disabled={loaderList}\r\n            onChangeSort={data => this.handleSort(data)}\r\n          />\r\n        </div>\r\n\r\n        <Grid container spacing={16}>\r\n          {models.map((item, index) => (\r\n            <Grid item md={4} sm={6} xs={12} key={index} >\r\n              <InviteItem {...item} />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n\r\n        {nextPageUrl ? (\r\n          <div className=\"text-center mt-15\">\r\n            <Button\r\n              disabled={loaderList}\r\n              color=\"primary\"\r\n              onClick={() => this.handleLoadMore()}\r\n            >\r\n              <Translate name=\"Show more\" />\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport Container from \"../../../components/UI/Container/Container\";\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Translate from \"../../Translate/Translate\";\r\nimport Heading from \"../../../components/UI/Heading/Heading\";\r\nimport InviteList from \"./InviteList\";\r\n\r\n@withStyles({})\r\nexport default class Invites extends Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Container>\r\n        <Heading>\r\n          <Translate name=\"Invite list\" />\r\n        </Heading>\r\n\r\n        <InviteList />\r\n      </Container>\r\n    )\r\n  }\r\n}","import store from '../../store';\r\nimport EchoServer from '../../../echo-server/EchoServer'\r\nimport { NOTIFY_CHANGE } from \"../actionTypes\";\r\nimport AuthService from \"../../../services/auth/AuthService\";\r\n\r\nexport class notificationAction {\r\n  static dispatchNotify(notify) {\r\n    store.dispatch(this.add(notify));\r\n  }\r\n\r\n  static add(notify) {\r\n    let messages = store.getState().notification.messages.concat();\r\n    messages.push(notify);\r\n    return this.change(messages);\r\n  }\r\n\r\n  static remove(notify) {\r\n    let messages = store.getState().notification.messages.concat();\r\n    messages.splice(messages.indexOf(notify), 1);\r\n    return this.change(messages);\r\n  }\r\n\r\n  static listen() {\r\n    return (dispatch, getState) => {\r\n      const { user } = getState().user;\r\n\r\n      EchoServer(AuthService.getInstance().getToken())\r\n        .private(`notification.${user.id}`)\r\n        .on('message', notify => dispatch(this.add(notify)));\r\n    }\r\n  }\r\n\r\n  static unsubscribe() {\r\n    const { user } = store.getState().user;\r\n    EchoServer(AuthService.getInstance().getToken())\r\n      .leave(`notification.${user.id}`);\r\n  }\r\n\r\n  static change(payload) {\r\n    return { type: NOTIFY_CHANGE, payload }\r\n  }\r\n}","import * as colors from '@material-ui/core/colors';\r\n\r\nconst typeColors = {};\r\n\r\nObject.keys(colors).forEach(key => {\r\n  typeColors[key] = {\r\n    backgroundColor: colors[key].main || colors[key][500],\r\n    color: colors[key].contrastText || 'white',\r\n  };\r\n\r\n  typeColors[`${key}-button`] = {\r\n    backgroundColor: colors[key][700],\r\n    color: colors[key].A100 || colors[key][50],\r\n  }\r\n});\r\n\r\nexport default theme => ({\r\n  ...typeColors,\r\n  item: {\r\n    marginBottom: '10px',\r\n  }\r\n})","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Avatar from \"@material-ui/core/Avatar/Avatar\";\r\nimport NotificationImportant from '@material-ui/icons/NotificationImportant';\r\nimport Close from '@material-ui/icons/Close';\r\nimport Card from \"@material-ui/core/Card/Card\";\r\nimport CardHeader from \"@material-ui/core/CardHeader/CardHeader\";\r\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\r\nimport styles from '@/containers/Notication/Item/styles';\r\n\r\n@withStyles(styles)\r\nexport default class NotificationItem extends Component {\r\n\r\n  timer = null;\r\n\r\n  static propTypes = {\r\n    type: PropTypes.string.isRequired,\r\n    theme: PropTypes.string.isRequired,\r\n    message: PropTypes.string.isRequired,\r\n    onDestroy: PropTypes.func.isRequired\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.startTimer();\r\n  }\r\n\r\n  startTimer() {\r\n    this.timer = setTimeout(() => this.props.onDestroy(), 3500);\r\n  }\r\n\r\n  handleDestroy() {\r\n    this.props.onDestroy()\r\n  }\r\n\r\n  handleEnter() {\r\n    this.timer && clearTimeout(this.timer);\r\n    this.timer = null;\r\n  }\r\n\r\n  handleLeave() {\r\n    this.startTimer();\r\n  }\r\n\r\n  render() {\r\n    const { classes, type, theme, message } = this.props;\r\n\r\n    let style = [classes.item];\r\n    let button = '';\r\n\r\n    if (type) {\r\n      button = classes[`${type}-button`];\r\n      style.push(classes[type] || '');\r\n    }\r\n\r\n    return (\r\n      <Card\r\n        onMouseEnter={this.handleEnter.bind(this)}\r\n        onMouseLeave={this.handleLeave.bind(this)}\r\n        className={style.join(' ')}\r\n      >\r\n        <CardHeader\r\n          className=\"py-10 px-10\"\r\n          avatar={\r\n            <Avatar aria-label=\"Recipe\" className={button}>\r\n              <NotificationImportant />\r\n            </Avatar>\r\n          }\r\n          action={\r\n            <IconButton className={button} color=\"inherit\" onClick={this.handleDestroy.bind(this)}>\r\n              <Close />\r\n            </IconButton>\r\n          }\r\n          title={theme}\r\n          subheader={message}\r\n        />\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport { notificationAction } from '@/store/actions/notification/notificationAction';\r\nimport NotificationItem from '@/containers/Notication/Item/NotificationItem';\r\nimport styles from '@/containers/Notication/styles';\r\n\r\n@withStyles(styles)\r\n@connect(\r\n  state => ({ notify: state.notification }),\r\n  dispatch => ({\r\n    remove: notify => dispatch(notificationAction.remove(notify)),\r\n    listen: () => dispatch(notificationAction.listen()),\r\n  })\r\n)\r\nexport default class Notification extends Component {\r\n\r\n  componentWillMount() {\r\n    this.props.listen();\r\n  }\r\n\r\n  handleDestroy(notify) {\r\n    this.props.remove(notify);\r\n  }\r\n\r\n  render() {\r\n    const { classes, notify } = this.props;\r\n\r\n    return (\r\n      <div className={classes.wrapper}>\r\n        {notify.messages.reverse().map((notify, index) =>\r\n          <NotificationItem\r\n            key={index}\r\n            {...notify}\r\n            onDestroy={() => this.handleDestroy(notify)}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}","export default theme => ({\r\n  wrapper: {\r\n    position: 'fixed',\r\n    zIndex: 9999,\r\n    top: 0,\r\n    right: 0,\r\n    maxWidth: '320px',\r\n    boxSizing: 'border-box',\r\n    padding: '15px'\r\n  }\r\n})","import {\r\n  CHAT_BACK_TO_LIST,\r\n  CHAT_CHOOSE_CHAT,\r\n  CHAT_VOLUME_ON,\r\n  CHAT_VOLUME_OFF,\r\n  CHAT_TOGGLE\r\n} from '../actionTypes';\r\n\r\nexport class chatAction {\r\n  static chooseChat(chat) {\r\n    return { type: CHAT_CHOOSE_CHAT, payload: chat };\r\n  }\r\n\r\n  static backToList() {\r\n    return { type: CHAT_BACK_TO_LIST };\r\n  }\r\n\r\n  static volumeOn() {\r\n    return { type: CHAT_VOLUME_ON };\r\n  }\r\n\r\n  static volumeOff() {\r\n    return { type: CHAT_VOLUME_OFF };\r\n  }\r\n\r\n  static toggle(active) {\r\n    return { type: CHAT_TOGGLE, payload: active };\r\n  }\r\n}","import { loaderOff, loaderOn } from \"../loader/loaderAction\";\r\nimport FetchService from \"../../../services/fetch/FetchService\";\r\nimport axios from \"../../../axios/axios-api\";\r\nimport ErrorHelper from \"../../../helpers/ErrorHelper\";\r\nimport {\r\n  CHAT_LIST_USER_LOADER,\r\n  CHAT_LIST_USER_QUERY,\r\n  CHAT_LIST_USER_ERROR\r\n} from \"../actionTypes\";\r\nimport { correctUrl } from \"../people/peopleListAction\";\r\n\r\nexport class chatListAction {\r\n  static fetchModels(url, formData, append = true) {\r\n    return async (dispatch, getState) => {\r\n      const state = getState();\r\n      const { models } = state.chatList;\r\n\r\n      dispatch(this.loaderList());\r\n      dispatch(loaderOn());\r\n\r\n      try {\r\n        const { data } = await FetchService.http(axios).post(url, {\r\n          ...formData,\r\n        });\r\n\r\n        dispatch(this.queryResult(url, data, formData, append ? models : []));\r\n      } catch (e) {\r\n        dispatch(this.error(ErrorHelper.getMessageByError(e)));\r\n      }\r\n\r\n      dispatch(loaderOff());\r\n    }\r\n  }\r\n\r\n  static queryResult(url, response, formData, models) {\r\n    const payload = {\r\n      url,\r\n      formData,\r\n      models: models.concat(response.data),\r\n      totalItems: response.total,\r\n      currentPage: response.current_page,\r\n      perPage: response.per_page,\r\n      lastPage: response.last_page,\r\n      nextPageUrl: correctUrl(response.next_page_url),\r\n      prevPageUrl: correctUrl(response.prev_page_url),\r\n      firstPageUrl: correctUrl(response.first_page_url),\r\n      lastPageUrl: correctUrl(response.lastPageUrl)\r\n    };\r\n\r\n    return { type: CHAT_LIST_USER_QUERY, payload }\r\n  }\r\n\r\n  static loaderList() {\r\n    return { type: CHAT_LIST_USER_LOADER }\r\n  }\r\n\r\n  static error(error) {\r\n    return { type: CHAT_LIST_USER_ERROR, payload: error }\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ListItem from \"@material-ui/core/ListItem/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar/Avatar\";\r\nimport ListItemText from \"@material-ui/core/ListItemText/ListItemText\";\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\nimport List from \"@material-ui/core/List/List\";\r\nimport Button from \"@material-ui/core/es/Button/Button\";\r\nimport { Close, Refresh, VolumeMute, VolumeDown } from \"@material-ui/icons\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel/FormControlLabel\";\r\nimport Translate from \"@/containers/Translate/Translate\";\r\nimport { chatListAction } from \"@/store/actions/chat/chatListAction\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress/CircularProgress\";\r\nimport TimeAgo from 'react-time-ago/no-tooltip';\r\nimport styles from '@/containers/Chat/ChatList/styles';\r\nimport Badge from \"@material-ui/core/es/Badge/Badge\";\r\nimport IsOnlineUser from \"@/containers/OnlineUser/IsOnlineUser\";\r\nimport SupervisedUserCircle from '@material-ui/icons/SupervisedUserCircle';\r\n\r\n@withStyles(styles)\r\n@connect(\r\n  state => ({\r\n    ...state.chatList,\r\n    newMessage: state.chatNewMessage,\r\n    user: state.user.user,\r\n    lang: state.translate.locale\r\n  }),\r\n  dispatch => ({\r\n    fetchModels: (url, append) => dispatch(chatListAction.fetchModels(url, {}, append)),\r\n  })\r\n)\r\nexport default class ChatList extends Component {\r\n\r\n  static propTypes = {\r\n    volume: PropTypes.bool.isRequired,\r\n    onChangeVolume: PropTypes.func.isRequired,\r\n    onCloseChat: PropTypes.func.isRequired,\r\n    onClick: PropTypes.func.isRequired\r\n  };\r\n\r\n  fetch(append = true) {\r\n    this.props.fetchModels('/user/chat/list', append);\r\n  }\r\n\r\n  componentWillMount() {\r\n    if (this.props.loaderList) {\r\n      this.fetch(false);\r\n    }\r\n  }\r\n\r\n  handleRefresh() {\r\n    this.fetch(false);\r\n  }\r\n\r\n  handleNextPage() {\r\n    this.props.fetchModels(this.props.nextPageUrl, true);\r\n  }\r\n\r\n  noReadMessage(id) {\r\n    const item = this.props.newMessage.detail.find(({ chat_id }) => +chat_id === +id);\r\n    return item ? +item.no_read : 0;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      classes, volume, onChangeVolume, onCloseChat, onClick,\r\n      models, loaderList, nextPageUrl, user, lang\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className={classes.wrapper}>\r\n        <div className={classes.controls}>\r\n          <div>\r\n            <Button\r\n              onClick={() => onCloseChat()}\r\n              color=\"secondary\"\r\n              size=\"small\"\r\n            >\r\n              <Close />\r\n            </Button>\r\n            <Button\r\n              disabled={loaderList}\r\n              onClick={e => this.handleRefresh()}\r\n              color=\"secondary\"\r\n              size=\"small\"\r\n            >\r\n              <Refresh />\r\n            </Button>\r\n          </div>\r\n          <div>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  color=\"primary\"\r\n                  checked={volume}\r\n                  onChange={e => onChangeVolume(e.target.checked)}\r\n                />\r\n              }\r\n              labelPlacement=\"start\"\r\n              label={volume ? <VolumeDown /> : <VolumeMute />}\r\n            />\r\n          </div>\r\n        </div>\r\n        {/*<div className={classes.search}>*/}\r\n          {/*<TextField*/}\r\n            {/*disabled={loaderList}*/}\r\n            {/*fullWidth*/}\r\n            {/*placeholder=\"Search...\"*/}\r\n            {/*margin=\"normal\"*/}\r\n          {/*/>*/}\r\n        {/*</div>*/}\r\n        <div className={classes.items}>\r\n          <List component=\"nav\">\r\n            {models.map((item, index) => {\r\n\r\n              const [ friend ] = item.with_users.filter(({ user_id }) => +user_id !== +user.id);\r\n\r\n              const AvatarUser = (\r\n                friend.image ? (\r\n                  <ListItemAvatar>\r\n                    <IsOnlineUser userId={friend.user.id}>\r\n                      <div className=\"online-user-detect-avatar\">\r\n                        <Avatar\r\n                          alt={friend.user.name}\r\n                          src={friend.image}\r\n                        />\r\n                      </div>\r\n                    </IsOnlineUser>\r\n                  </ListItemAvatar>\r\n                ) : null\r\n              );\r\n\r\n              return (\r\n                <ListItem\r\n                  key={index}\r\n                  button\r\n                  onClick={e => onClick(item)}\r\n                >\r\n                  {AvatarUser}\r\n\r\n                  <ListItemText\r\n                    primary={friend.user.name}\r\n                    secondary={\r\n                      <React.Fragment>\r\n                        {this.noReadMessage(item.id) > 0 ? (\r\n                          <Badge badgeContent={this.noReadMessage(item.id)} color=\"primary\">\r\n                            <Typography className={classes.maxMessage} component=\"small\" color=\"secondary\">\r\n                              {item.last_message}\r\n                            </Typography>\r\n                          </Badge>\r\n                        ) : (\r\n                          <Typography className={classes.maxMessage} component=\"small\" color=\"secondary\">\r\n                            {item.last_message}\r\n                          </Typography>\r\n                        )}\r\n\r\n                        <Typography component=\"small\">\r\n                          <Typography\r\n                            component={TimeAgo}\r\n                            locale={lang}\r\n                            align=\"right\"\r\n                            color=\"secondary\"\r\n                          >\r\n                            {item.time_update}\r\n                          </Typography>\r\n                        </Typography>\r\n                      </React.Fragment>\r\n                    }\r\n                  />\r\n                </ListItem>\r\n              )\r\n            })}\r\n          </List>\r\n        </div>\r\n        {nextPageUrl ? (\r\n          <div className={classes.loadMore}>\r\n            {loaderList ? <CircularProgress color=\"primary\" size=\"20\" /> : (\r\n              <Button onClick={e => this.handleNextPage()} color=\"primary\">\r\n                <Translate name=\"More\" />\r\n              </Button>\r\n            )}\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    )\r\n  }\r\n}","export default theme => ({\r\n  wrapper: {\r\n    display: 'flex',\r\n    height: '100vh',\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-start',\r\n    minWidth: '320px'\r\n  },\r\n  controls: {\r\n    flex: '0 0 auto',\r\n    display: 'flex',\r\n    paddingRight: `${theme.spacing.unit * 2}px`,\r\n    height: 'auto',\r\n    width: '100%',\r\n    justifyContent: 'space-between',\r\n    '& > div': {\r\n      display: 'inline-flex',\r\n    },\r\n    '& svg': {\r\n      position: 'relative',\r\n      top: '2px',\r\n      color: theme.palette.secondary.main\r\n    },\r\n    '& label': {\r\n      position: 'relative',\r\n      top: '3px'\r\n    }\r\n  },\r\n  search: {\r\n    flex: '0 0 auto',\r\n    height: 'auto',\r\n    width: '100%',\r\n    '& input': {\r\n      paddingLeft: `${theme.spacing.unit}px`,\r\n      paddingRight: `${theme.spacing.unit}px`\r\n    }\r\n  },\r\n  loadMore: {\r\n    flex: '0 0 auto',\r\n    height: 'auto',\r\n    textAlign: 'center',\r\n    width: '100%',\r\n    padding: `${theme.spacing.unit}px`\r\n  },\r\n  items: {\r\n    flexBasis: 0,\r\n    flexGrow: 1,\r\n    overflowY: 'auto',\r\n    width: '100%',\r\n  },\r\n  maxMessage: {\r\n    maxWidth: '300px'\r\n  }\r\n})","import { loaderOff, loaderOn } from \"../loader/loaderAction\";\r\nimport FetchService from \"../../../services/fetch/FetchService\";\r\nimport axios from \"../../../axios/axios-api\";\r\nimport ErrorHelper from \"../../../helpers/ErrorHelper\";\r\nimport {\r\n  MESSAGE_LIST_USER_LOADER,\r\n  MESSAGE_LIST_USER_QUERY,\r\n  MESSAGE_LIST_USER_ERROR,\r\n  MESSAGE_LIST_USER_ADD_ITEM,\r\n  MESSAGE_LIST_USER_CLEAR\r\n} from \"../actionTypes\";\r\nimport { correctUrl } from \"../people/peopleListAction\";\r\nimport EchoServer from \"../../../echo-server/EchoServer\";\r\nimport AuthService from \"../../../services/auth/AuthService\";\r\n\r\nexport class messageListAction {\r\n  static fetchModels(url, append = true) {\r\n    return async (dispatch, getState) => {\r\n      const state = getState();\r\n      const { models } = state.messageList;\r\n\r\n      dispatch(this.loaderList());\r\n      dispatch(loaderOn());\r\n\r\n      try {\r\n        const { data } = await FetchService.http(axios).post(url);\r\n\r\n        dispatch(this.queryResult(url, data, append ? models : []));\r\n      } catch (e) {\r\n        dispatch(this.error(ErrorHelper.getMessageByError(e)));\r\n      }\r\n\r\n      dispatch(loaderOff());\r\n    }\r\n  }\r\n\r\n  static queryResult(url, response, models) {\r\n    const payload = {\r\n      url,\r\n      models: response.data.concat(models),\r\n      totalItems: response.total,\r\n      currentPage: response.current_page,\r\n      perPage: response.per_page,\r\n      lastPage: response.last_page,\r\n      nextPageUrl: correctUrl(response.next_page_url),\r\n      prevPageUrl: correctUrl(response.prev_page_url),\r\n      firstPageUrl: correctUrl(response.first_page_url),\r\n      lastPageUrl: correctUrl(response.lastPageUrl)\r\n    };\r\n\r\n    return { type: MESSAGE_LIST_USER_QUERY, payload }\r\n  }\r\n\r\n  static loaderList() {\r\n    return { type: MESSAGE_LIST_USER_LOADER }\r\n  }\r\n\r\n  static error(error) {\r\n    return { type: MESSAGE_LIST_USER_ERROR, payload: error }\r\n  }\r\n\r\n  static listenNewMessage(chatId) {\r\n    return (dispatch, getState) => {\r\n      const { id } = getState().user.user;\r\n      const channelName = `message.${chatId}.${id}`;\r\n      const echo = EchoServer(AuthService.getInstance().getToken());\r\n\r\n      echo.private(channelName).on('create', message => {\r\n        let models = getState().messageList.models.concat();\r\n        models.push(message);\r\n        dispatch({ type: MESSAGE_LIST_USER_ADD_ITEM, payload: models });\r\n      });\r\n    }\r\n  }\r\n\r\n  static clear(id) {\r\n    // up last visited\r\n    FetchService.http(axios).get(`/user/chat/${id}/close`);\r\n\r\n    return { type: MESSAGE_LIST_USER_CLEAR }\r\n  }\r\n}","import {\r\n  CHAT_MESSAGE_FORM_CLEAR,\r\n  CHAT_MESSAGE_FORM_COMPLETE,\r\n  CHAT_MESSAGE_FORM_SUBMIT\r\n} from '../actionTypes';\r\nimport FetchService from '../../../services/fetch/FetchService';\r\nimport axios from '../../../axios/axios-api';\r\nimport ErrorHelper from \"../../../helpers/ErrorHelper\";\r\nimport { notificationAction } from \"../notification/notificationAction\";\r\n\r\nexport class messageFormAction {\r\n  static sendMessage(formData) {\r\n    return async (dispatch, getState) => {\r\n      const state = getState();\r\n      const { id } = state.chat.activeChat;\r\n\r\n      dispatch(this.loaderOn());\r\n\r\n      try {\r\n        await FetchService.http(axios).post(`/user/chat/${id}/message/create`,\r\n          formData\r\n        );\r\n      } catch (e) {\r\n        notificationAction.dispatchNotify({\r\n          type: 'red',\r\n          theme: 'Error',\r\n          message: ErrorHelper.getMessageByError(e)\r\n        });\r\n      }\r\n\r\n      dispatch(this.loaderOff());\r\n    }\r\n  }\r\n\r\n  static loaderOn() {\r\n    return { type: CHAT_MESSAGE_FORM_SUBMIT };\r\n  }\r\n\r\n  static loaderOff() {\r\n    return { type: CHAT_MESSAGE_FORM_COMPLETE };\r\n  }\r\n\r\n  static clear() {\r\n    return { type: CHAT_MESSAGE_FORM_CLEAR };\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormControl, FormGroup, Validators } from '@/form';\r\nimport TextField from \"@material-ui/core/TextField/TextField\";\r\nimport Translate from \"@/containers/Translate/Translate\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment/InputAdornment\";\r\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\r\nimport Send from '@material-ui/icons/Send';\r\nimport { messageFormAction } from \"@/store/actions/chat/messageFormAction\";\r\n\r\n@connect(\r\n  state => ({ messageForm: state.messageForm }),\r\n  dispatch => ({\r\n    send: data => dispatch(messageFormAction.sendMessage(data)),\r\n    clear: () => dispatch(messageFormAction.clear())\r\n  })\r\n)\r\nexport default class MessageForm extends Component {\r\n\r\n  state = {\r\n    form: new FormGroup({\r\n      message: new FormControl('', [\r\n        Validators.isRequired,\r\n        Validators.maxLength(1500)\r\n      ])\r\n    })\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n  }\r\n\r\n  handleChange(value, control) {\r\n    this.state.form.update(form => {\r\n      form.setValue(control, value);\r\n      this.setState({ form });\r\n    });\r\n  }\r\n\r\n  handleSubmit(event = null) {\r\n    event && event.preventDefault();\r\n\r\n    this.state.form.update(form => {\r\n      const valid = form.validate();\r\n      valid && this.props.send(form.getValues());\r\n      form.control('message').setValue('');\r\n      this.setState({ form });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { loader } = this.props.messageForm;\r\n    const { form } = this.state;\r\n    const message = form.control('message');\r\n\r\n    return (\r\n      <form onSubmit={e => this.handleSubmit(e)}>\r\n        <TextField\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          label={<Translate name=\"Write message...\" />}\r\n          value={message.getValue()}\r\n          onChange={e => this.handleChange(e.target.value, message.getName())}\r\n          InputProps={{\r\n            endAdornment: (\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  disabled={loader}\r\n                  aria-label=\"Toggle password visibility\"\r\n                  onClick={() => this.handleSubmit()}\r\n                >\r\n                  <Send />\r\n                </IconButton>\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n      </form>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport Avatar from \"@material-ui/core/Avatar/Avatar\";\r\nimport TimeAgo from 'react-time-ago/no-tooltip';\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar/ListItemAvatar\";\r\nimport IsOnlineUser from \"@/containers/OnlineUser/IsOnlineUser\";\r\n\r\nconst MessageItem = ({ yourMessage, lang, ...params }) => {\r\n  const classList = ['chat-messages-item'];\r\n\r\n  if (yourMessage) {\r\n    classList.push('chat-messages-item-own-message')\r\n  }\r\n\r\n  const AvatarUser = (\r\n    params.image ? (\r\n      <ListItemAvatar>\r\n        <IsOnlineUser userId={params.user_id}>\r\n          <div className=\"chat-messages-item-avatar online-user-detect-avatar\">\r\n            <Avatar\r\n              alt={''}\r\n              src={params.image}\r\n            />\r\n          </div>\r\n        </IsOnlineUser>\r\n      </ListItemAvatar>\r\n    ) : null\r\n  );\r\n\r\n  return (\r\n    <div className=\"chat-messages\">\r\n      <div className={classList.join(' ')}>\r\n        {AvatarUser}\r\n        <div className=\"chat-messages-item-message\">\r\n          <div\r\n            className=\"chat-messages-item-message-text\"\r\n            dangerouslySetInnerHTML={{__html: params.message}}\r\n          />\r\n          <div className=\"chat-messages-item-message-hint\">\r\n            <TimeAgo locale={lang}>{params.created}</TimeAgo>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default MessageItem;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from \"@material-ui/core/es/Button/Button\";\r\nimport { Close, Refresh, VolumeDown, VolumeMute } from \"@material-ui/icons\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel/FormControlLabel\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport List from \"@material-ui/core/List/List\";\r\nimport ArrowBack from '@material-ui/icons/ArrowBack';\r\nimport { messageListAction } from \"@/store/actions/chat/messageListAction\";\r\nimport MessageForm from \"@/containers/Chat/Message/Form/MessageForm\";\r\nimport styles from '@/containers/Chat/Message/List/styles'\r\nimport MessageItem from \"@/containers/Chat/Message/Item/MessageItem\";\r\n\r\n@withStyles(styles)\r\n@connect(\r\n  state => ({\r\n    ...state.messageList,\r\n    user: state.user.user,\r\n    lang: state.translate.locale\r\n  }),\r\n  dispatch => ({\r\n    fetchModels: (url, append) => dispatch(messageListAction.fetchModels(url, append)),\r\n    listen: id => dispatch(messageListAction.listenNewMessage(id)),\r\n    clear: id => dispatch(messageListAction.clear(id)),\r\n  })\r\n)\r\nexport default class MessageList extends Component {\r\n\r\n  static propTypes = {\r\n    volume: PropTypes.bool.isRequired,\r\n    chat: PropTypes.object.isRequired,\r\n    onBack: PropTypes.func.isRequired,\r\n    onChangeVolume: PropTypes.func.isRequired,\r\n    onCloseChat: PropTypes.func.isRequired,\r\n  };\r\n\r\n  refWrapper = null;\r\n  autoScroll = true;\r\n\r\n  fetch(append = true) {\r\n    this.props.fetchModels(`/user/chat/${this.props.chat.id}/messages`, append);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.props.listen(this.props.chat.id);\r\n\r\n    if (this.props.loaderList) {\r\n      this.fetch(false);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clear(this.props.chat.id);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.refWrapper) {\r\n      this.refWrapper.onscroll = event => {\r\n        this.refWrapper.scrollTop === 0 && this.oldMessages();\r\n        this.autoScroll = this.isBottomScroll();\r\n      }\r\n    }\r\n\r\n    this.toBottom();\r\n  }\r\n\r\n  oldMessages() {\r\n    if (this.props.nextPageUrl) {\r\n      this.props.fetchModels(this.props.nextPageUrl, true);\r\n    }\r\n  }\r\n\r\n  toBottom() {\r\n    this.refWrapper.scrollTop = this.refWrapper.scrollHeight;\r\n  }\r\n\r\n  isBottomScroll() {\r\n    return this.calcBottom() === this.refWrapper.scrollHeight;\r\n  }\r\n\r\n  calcBottom() {\r\n    return this.refWrapper.offsetHeight + this.refWrapper.scrollTop;\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (this.autoScroll) {\r\n      this.toBottom();\r\n    }\r\n  }\r\n\r\n  handleRefresh() {\r\n    this.fetch(false);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      classes, onCloseChat, onChangeVolume, onBack, volume,\r\n      loaderList, models, user, lang\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className={classes.wrapper}>\r\n        <div className={classes.controls}>\r\n          <div>\r\n            <Button\r\n              onClick={() => onBack()}\r\n              color=\"secondary\"\r\n              size=\"small\"\r\n            >\r\n              <ArrowBack />\r\n            </Button>\r\n            <Button\r\n              onClick={() => onCloseChat()}\r\n              color=\"secondary\"\r\n              size=\"small\"\r\n            >\r\n              <Close />\r\n            </Button>\r\n            <Button\r\n              disabled={loaderList}\r\n              onClick={e => this.handleRefresh()}\r\n              color=\"secondary\"\r\n              size=\"small\"\r\n            >\r\n              <Refresh />\r\n            </Button>\r\n          </div>\r\n          <div>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  color=\"primary\"\r\n                  checked={volume}\r\n                  onChange={e => onChangeVolume(e.target.checked)}\r\n                />\r\n              }\r\n              labelPlacement=\"start\"\r\n              label={volume ? <VolumeDown /> : <VolumeMute />}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className={classes.items} ref={e => this.refWrapper = e}>\r\n          <List component=\"nav\">\r\n            {models.map((item, index) => {\r\n              return (\r\n                <MessageItem\r\n                  key={index}\r\n                  yourMessage={+user.id === +item.user_id}\r\n                  lang={lang}\r\n                  {...item}\r\n                />\r\n              )\r\n            })}\r\n          </List>\r\n        </div>\r\n        <div className={classes.messageForm}>\r\n          <MessageForm />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","export default theme => ({\r\n  wrapper: {\r\n    display: 'flex',\r\n    height: '100vh',\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-start',\r\n    minWidth: '320px'\r\n  },\r\n  controls: {\r\n    flex: '0 0 auto',\r\n    display: 'flex',\r\n    paddingRight: `${theme.spacing.unit * 2}px`,\r\n    height: 'auto',\r\n    width: '100%',\r\n    justifyContent: 'space-between',\r\n    '& > div': {\r\n      display: 'inline-flex',\r\n    },\r\n    '& svg': {\r\n      position: 'relative',\r\n      top: '2px',\r\n      color: theme.palette.secondary.main\r\n    },\r\n    '& label': {\r\n      position: 'relative',\r\n      top: '3px'\r\n    }\r\n  },\r\n  messageForm: {\r\n    flex: '0 0 auto',\r\n    height: 'auto',\r\n    width: '100%',\r\n  },\r\n  loadMore: {\r\n    flex: '0 0 auto',\r\n    height: 'auto',\r\n    textAlign: 'center',\r\n    width: '100%',\r\n    padding: `${theme.spacing.unit}px`\r\n  },\r\n  items: {\r\n    flexBasis: 0,\r\n    flexGrow: 1,\r\n    overflowY: 'auto',\r\n    width: '100%',\r\n  }\r\n})","import {\r\n  CHAT_NEW_MESSAGES_FETCH\r\n} from '@/store/actions/actionTypes';\r\nimport axios from '@/axios/axios-api';\r\nimport FetchService from '@/services/fetch/FetchService';\r\nimport EchoServer from \"@/echo-server/EchoServer\";\r\nimport AuthService from \"@/services/auth/AuthService\";\r\n\r\nexport class chatNewMessagesAction {\r\n  static getTotal() {\r\n    return async dispatch => {\r\n      try {\r\n        const { data } = await FetchService.http(axios).get('/user/chat/new-messages');\r\n        dispatch(this.success(data));\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    }\r\n  }\r\n\r\n  static success(data) {\r\n    let total = 0;\r\n\r\n    data.forEach(({ no_read }) => total += +no_read);\r\n\r\n    return { type: CHAT_NEW_MESSAGES_FETCH, payload: { total, detail: data } };\r\n  }\r\n\r\n  static change(data) {\r\n    return this.success(data);\r\n  }\r\n\r\n  static listen() {\r\n    return async (dispatch, getState) => {\r\n      const { id } = getState().user.user;\r\n      const channelName = `new-message.${id}`;\r\n      const echo = EchoServer(AuthService.getInstance().getToken());\r\n\r\n      echo.private(channelName).on('create', message => {\r\n        const state = getState();\r\n        const chat = state.chat;\r\n        const volume = state.chat.volume;\r\n\r\n        if (chat.active && chat.activeChat && +chat.activeChat.id === +message.chat_id) {\r\n          // @todo  \r\n          return false;\r\n        } else {\r\n          const data = [...state.chatNewMessage.detail];\r\n          const item = data.find(({ chat_id }) => +chat_id === +message.chat_id);\r\n\r\n          item ? item.no_read++ : data.push({\r\n            chat_id: message.chat_id,\r\n            no_read: 1\r\n          });\r\n\r\n          // @todo  \r\n\r\n          dispatch(this.change(data));\r\n        }\r\n      });\r\n    }\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Drawer from '@material-ui/core/Drawer/Drawer';\r\nimport { Chat as ChatIcon } from '@material-ui/icons';\r\nimport Button from '@material-ui/core/Button/Button';\r\nimport { chatAction } from '@/store/actions/chat/chatAction';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styles from '@/containers/Chat/styles';\r\nimport ChatList from '@/containers/Chat/ChatList/ChatList';\r\nimport MessageList from '@/containers/Chat/Message/List/MessageList';\r\nimport { chatNewMessagesAction } from \"@/store/actions/chat/chatNewMessagesAction\";\r\nimport Badge from \"@material-ui/core/Badge/Badge\";\r\n\r\n@withStyles(styles)\r\n@connect(\r\n  state => ({ ...state.chat, newMessage: state.chatNewMessage }),\r\n  dispatch => ({\r\n    toggleDrawer: active => dispatch(chatAction.toggle(active)),\r\n    chooseChat: chat => dispatch(chatAction.chooseChat(chat)),\r\n    backToList: () => dispatch(chatAction.backToList()),\r\n    volumeOn: () => dispatch(chatAction.volumeOn()),\r\n    volumeOff: () => dispatch(chatAction.volumeOff()),\r\n    getTotalMessages: () => dispatch(chatNewMessagesAction.getTotal()),\r\n    changeNewMessages: data => dispatch(chatNewMessagesAction.change(data)),\r\n    listenNewMessage: () => dispatch(chatNewMessagesAction.listen())\r\n  })\r\n)\r\nexport default class Chat extends Component {\r\n\r\n  componentWillMount() {\r\n    this.props.listenNewMessage();\r\n    this.props.getTotalMessages();\r\n  }\r\n\r\n  handleDrawer(active) {\r\n    this.props.toggleDrawer(active);\r\n\r\n    if (active && this.props.activeChat) {\r\n      this.changeNoReadMessages(this.props.activeChat.id);\r\n    }\r\n  }\r\n\r\n  handleVolume(value) {\r\n    value ? this.props.volumeOn() : this.props.volumeOff();\r\n  }\r\n\r\n  handleChooseChat(chat) {\r\n    this.changeNoReadMessages(chat.id);\r\n    this.props.chooseChat(chat);\r\n  }\r\n\r\n  changeNoReadMessages(chatId) {\r\n    const detail = [...this.props.newMessage.detail]\r\n      .filter(({ chat_id }) => +chat_id !== +chatId);\r\n\r\n    this.props.changeNewMessages(detail);\r\n  }\r\n\r\n  render() {\r\n    const { classes, activeChat, volume, newMessage, active } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Drawer anchor=\"right\" open={active} onClose={() => this.handleDrawer(false)}>\r\n          <div\r\n            tabIndex={0}\r\n            role=\"button\"\r\n          >\r\n            {!activeChat ? (\r\n              <ChatList\r\n                volume={volume}\r\n                onChangeVolume={value => this.handleVolume(value)}\r\n                onCloseChat={() => this.handleDrawer(false)}\r\n                onClick={chat => this.handleChooseChat(chat)}\r\n              />\r\n            ) : (\r\n              <MessageList\r\n                volume={volume}\r\n                onBack={() => this.props.backToList()}\r\n                onChangeVolume={value => this.handleVolume(value)}\r\n                onCloseChat={() => this.handleDrawer(false)}\r\n                chat={activeChat}\r\n              />\r\n            )}\r\n          </div>\r\n        </Drawer>\r\n\r\n        <Button\r\n          className={classes.button}\r\n          variant=\"fab\"\r\n          color=\"primary\"\r\n          onClick={() => this.handleDrawer(true)}\r\n        >\r\n          {newMessage.total > 0 ? (\r\n            <Badge badgeContent={newMessage.total} color=\"secondary\">\r\n              <ChatIcon />\r\n            </Badge>\r\n          ) : <ChatIcon />}\r\n        </Button>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}","export default theme => ({\r\n  button: {\r\n    position: 'fixed',\r\n    zIndex: 10,\r\n    bottom: '10px',\r\n    right: '10px'\r\n  }\r\n})","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { onlineUserAction } from \"@/store/actions/user/onlineUserAction\";\r\n\r\n@connect(\r\n  state => ({ ...state.onlineUser, auth: !state.user.isGuest }),\r\n  dispatch => ({\r\n    live: () => dispatch(onlineUserAction.live())\r\n  })\r\n)\r\nexport default class OnlineUserListen extends Component {\r\n\r\n  loader = false;\r\n\r\n  componentDidMount() {\r\n    window.onmousemove = () => {\r\n      if ((new Date).getTime() > this.props.nextTimeUpdate && this.props.auth && !this.loader) {\r\n        console.log('FETCH PING...');\r\n        this.loader = true;\r\n        this.props.live().then(() => this.loader = false);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom';\nimport { autoLogin, logout } from \"./store/actions/user/userAction\";\nimport translateAction from \"./store/actions/translate/translateAction\";\nimport Layout from './hoc/Layout/Layout';\nimport Header from './containers/Header/Header';\n\nimport Language from './containers/Pages/Language/Language';\nimport Home from './containers/Pages/Home/Home';\nimport About from './containers/Pages/About/About';\nimport Login from './containers/Pages/Auth/Login/Login';\nimport Register from \"./containers/Pages/Auth/Register/Register\";\nimport RestorePassword from \"./containers/Pages/Auth/RestorePassword/RestorePassword\";\nimport VerifyEmail from \"./containers/Pages/Auth/VerifyEmail/VerifyEmail\";\nimport Detail from \"./containers/Pages/Profile/Detail/Detail\";\nimport ProfileGallery from \"./containers/Pages/Profile/ProfileGallery/ProfileGallery\";\nimport GeoLocation from \"./containers/Pages/Profile/GeoLoacation/GeoLocation\";\nimport ProfileGames from \"./containers/Pages/Profile/Games/ProfileGames\";\nimport PeopleList from \"./containers/Pages/People/List/PeopleList\";\nimport Loader from \"./components/UI/Loader/Loader\";\nimport PeopleDetail from \"./containers/Pages/PeopleDetail/PeopleDetail\";\nimport Invites from \"./containers/Pages/Invites/Invites\";\nimport Notification from \"./containers/Notication/Notification\";\nimport Chat from './containers/Chat/Chat';\nimport OnlineUserListen from \"@/containers/OnlineUser/OnlineUserListen\";\n\n@withRouter\n@connect(\n  state => ({\n    translate: state.translate,\n    user: state.user,\n    loader: state.loader\n  }),\n  dispatch => ({\n    autoLogin: () => dispatch(autoLogin()),\n    logout: () => dispatch(logout()),\n    onChangeLang: lang => dispatch(translateAction(lang))\n  })\n)\nexport default class App extends Component {\n  componentDidMount() {\n    if (this.props.user.loader) {\n      this.props.autoLogin();\n    }\n  }\n\n  render() {\n    const { translate, user, onChangeLang, logout, loader } = this.props;\n\n    const guestRoutes = [\n      { path: '/:lang/login', component: Login },\n      { path: '/:lang/register', component: Register },\n      { path: '/:lang/restore-password', component: RestorePassword },\n      { path: '/:lang/verify/:token', component: VerifyEmail },\n    ];\n\n    const userRoutes = [\n      { path: '/:lang/profile', component: Detail, exact: true },\n      { path: '/:lang/profile/gallery', component: ProfileGallery },\n      { path: '/:lang/profile/location', component: GeoLocation },\n      { path: '/:lang/profile/games', component: ProfileGames },\n      { path: '/:lang/invites', component: Invites }\n    ];\n\n    const redirectDefault = (user.isGuest ? user.redirect : user.referer)\n      || `/${translate.locale}`;\n\n    return (\n      <Layout>\n        <Loader loader={loader.loader || user.loader} />\n\n        <Header\n          {...translate}\n          user={user}\n          onChangeLang={onChangeLang}\n          logout={logout}\n        />\n\n        <Route path=\"/:lang\" render={() => (\n          <Language />\n        )} />\n\n        {!translate.loader ? (\n          <div className=\"pt-60\">\n            <Switch>\n              <Route path=\"/:lang\" exact component={Home}/>\n              <Route path=\"/:lang/about\" component={About}/>\n              <Route path=\"/:lang/people/:id\" component={PeopleDetail}/>\n              <Route path=\"/:lang/people\" exact component={PeopleList}/>\n\n              { user.isGuest ? guestRoutes.map((data, index) => {\n                return <Route key={index} {...data} />\n              }) : userRoutes.map((data, index) => {\n                return <Route key={index} {...data} />\n              }) }\n\n              {user.loader ? null : (\n                <Redirect to={redirectDefault} />\n              )}\n            </Switch>\n          </div>\n        ) : (\n          <Route path=\"/\" exact render={() =>\n            <Redirect to={'/' + translate.locale} />\n          } />\n        )}\n\n        {!user.isGuest ? (\n          <React.Fragment>\n            <OnlineUserListen />\n            <Notification />\n            <Chat />\n          </React.Fragment>\n        ) : null}\n      </Layout>\n    );\n  }\n}\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { initDetectAction } from \"../../store/actions/mobile-detect/mobileDetectAction\";\r\n\r\n@withRouter\r\n@connect(\r\n  state => state.mobileDetect,\r\n  dispatch => ({\r\n    change: () => dispatch(initDetectAction())\r\n  })\r\n)\r\nexport default class MobileDetect extends Component {\r\n  componentWillMount() {\r\n    window.onresize = () => this.props.change();\r\n  }\r\n\r\n  render() {\r\n    return this.props.children;\r\n  }\r\n}","import { MOBILE_DETECT_CHANGE } from \"../actionTypes\";\r\n\r\nexport function initDetectAction() {\r\n  return { type: MOBILE_DETECT_CHANGE }\r\n}\r\n\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport store from './store/store';\nimport './style/styles.scss';\nimport App from './App';\nimport MobileDetect from \"./hoc/MobileDetect/MobileDetect\";\nimport * as serviceWorker from './serviceWorker';\nimport JavascriptTimeAgo from 'javascript-time-ago';\n\n// The desired locales.\nimport en from 'javascript-time-ago/locale/en'\nimport ru from 'javascript-time-ago/locale/ru'\n\n// Initialize the desired locales.\nJavascriptTimeAgo.locale(en);\nJavascriptTimeAgo.locale(ru);\n\nconst app = (\n  <Provider store={store}>\n    <Router>\n      <MobileDetect>\n        <App/>\n      </MobileDetect>\n    </Router>\n  </Provider>\n);\n\nReactDOM.render(app, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}